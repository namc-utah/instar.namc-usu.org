{"version":3,"sources":["../../src/index.ts","../../src/types.ts","../../src/schema.graphql.ts","../../src/lookups.graphql.ts","../../src/api.ts","../../src/util.ts","config.ts","data/api/fetchSampleById.ts","data/api/fetchTaxa.ts","data/api/fetchBoxById.ts","data/api/fetchLookups.ts","data/api/fetchMyUser.ts","data/api/upsertOrganism.ts","data/api/deleteOrganism.ts","data/api/startTaxonomyIdentification.ts","data/api/stopTaxonomyIdentification.ts","data/api/updateLabSort.ts","data/api/fetchSorterUsers.ts","data/api/GraphApi.ts","lib/taxonomy.ts","data/api/MockApi.ts","data/api/state.ts","data/mock/selectors.ts","data/api/useApi.ts","data/selectors.ts","components/SampleOverview/SampleOverview.tsx","components/SampleOverview/Fallback.tsx","components/SampleOverview/SampleOverview.connect.tsx","components/AppNotifications/state.ts","components/AppNotifications/AppNotifications.tsx","components/SampleInfoPanel/SampleInfoPanel.tsx","components/SelectField/SelectField.tsx","components/NumberField/NumberField.tsx","components/CheckboxField/CheckboxField.tsx","components/DateField/DateField.tsx","components/SampleSorting/ToggleEditModeButton.tsx","components/SampleSorting/SampleSorting.tsx","components/AppNotifications/useNotifications.ts","components/SampleSorting/Fallback.tsx","components/SampleSorting/SampleSorting.connect.tsx","components/DataGrid/DataGrid.tsx","components/FlagBadge/FlagBadge.tsx","components/TaxonomyField/TaxonomyField.tsx","components/SampleTaxonomyIdentification/componentController.ts","components/SampleTaxonomyIdentification/columnDefs.ts","components/ConfirmDialog/ConfigDialog.tsx","components/SampleTaxonomyIdentification/TimeEntryDialog.tsx","components/SampleTaxonomyIdentification/ToggleEditModeButton.tsx","components/SampleTaxonomyIdentification/renderers.tsx","components/SampleTaxonomyIdentification/SampleTaxonomyIdentification.tsx","components/SampleTaxonomyIdentification/Fallback.tsx","components/SampleTaxonomyIdentification/SampleTaxonomyIdentification.connect.tsx","components/QuickNavigateField/QuickNavigateField.tsx","components/QuickNavigateField/QuickNavigateField.connect.tsx","components/AppHeader/AppHeader.tsx","components/SideNavBar/UserName.tsx","components/SideNavBar/SideNavBar.tsx","components/SideNavBar/SideNavBar.connect.tsx","components/AppHeader/AppHeader.connect.tsx","components/ErrorBoundary/ErrorBoundary.tsx","components/AppRouter/AppRouter.tsx","components/AppRouter/ConfirmNavigateAway.tsx","App.tsx","../../../src/hooks/useHostedAuth.ts","connectors/App.connect.tsx","reportWebVitals.ts","index.tsx"],"names":["domain","process","REACT_APP_DOMAIN","log","debug","endpoints","graphql","appDefaults","redirectUrl","URL","endsWith","window","location","origin","publicUrl","query","gql","transformData","data","sample","samples","records","organisms","sampleTaxaInfo","sampleId","id","idErId","identificationUserId","idStartDate","identificationStartDate","idEndDate","identificationEndDate","boxState","restSample","map","organism","organismId","taxonId","taxonomyId","noteTypeIds","filter","noteTypeId","taxonomy","scientificName","name","levelId","levelName","parentTaxonomyId","parentId","synonyms","synonymsJson","isTargetEffort","levelRankOrder","JSON","parse","boxInfo","boxId","measurements","lookups","taxa","taxaLevels","lifeStages","noteTypes","myProfile","permissions","fullName","firstName","lastName","transformInput","lifeStageId","createSampleTaxaInfo","taxIdentificationStart","time","taxIdentificationStop","sorterCount","count","sortTime","sortDate","rest","sortDateObject","Date","now","todayDateObject","getTime","getTimezoneOffset","toISOString","substring","sortTimestamp","toString","labSort","sorters","sortBy","user","GraphError","Error","constructor","message","super","this","GraphApi","auth","signOut","send","async","variables","jwt","getCurrentToken","response","api","apiCall","errors","error","join","fetchTaxa","offset","completeData","nextOffset","push","fetchLookups","fetchSampleById","length","fetchBoxById","fetchMyUser","fetchSorterUsers","upsertOrganism","deleteOrganism","startTaxonomyIdentification","params","stopTaxonomyIdentification","updateLabSort","withDescendantIds","highestLevelRankOrder","reduce","highest","Math","max","result","taxon","currentLevel","forEach","childTaxons","descendantIds","acc","uniqueNumericId","apiState","atom","key","default","responseDelay","wait","Promise","resolve","setTimeout","email","createAny","createOwn","readAny","readOwn","updateAny","updateOwn","deleteAny","deleteOwn","useApi","useRecoilValue","selectTaxa","selector","get","all","selectLookups","find","rankOrder","selectLifeStages","selectNoteTypes","selectSample","selectorFamily","selectSorterUsers","selectMyUser","SampleOverview","navigate","taxonomyStatus","css","height","display","flexDirection","customerName","sorterId","marginTop","gridTemplateColumns","gap","variant","onClick","sampleSorting","sampleTaxonomyIdentification","Fallback","Skeleton","Connector","useParams","navigateState","Number","fallback","notificationsState","AppNotifications","notifications","setNotifications","useRecoilState","type","handleClose","event","reason","notification","Snackbar","open","autoHideDuration","onClose","action","IconButton","size","color","fontSize","isExpandedState","GridInfoField","label","value","gridArea","SampleInfoPanel","actions","isExpanded","setIsExpanded","sorterName","sampleDate","siteName","sampleDateFormatted","sortDateFormatted","expanded","onChange","e","newValue","marginBottom","expandIcon","alignSelf","fontWeight","margin","stopPropagation","gridTemplateAreas","SelectField","className","disabled","readOnly","options","FormControl","sx","minWidth","InputLabel","Select","target","String","option","MenuItem","fontStyle","NumberField","inputRef","min","precision","restProps","TextField","textValue","trim","numberValue","undefined","toFixed","CheckboxField","FormControlLabel","control","Checkbox","checked","DateField","InputLabelProps","shrink","ToggleEditModeButton","hasPermission","isEditing","title","startIcon","stopSorting","startSorting","getToday","initialState","values","labSplitPercent","elutriation","editMode","reducer","state","payload","labSplit","userId","round","produce","draft","Object","entries","fieldName","useComponentController","notifcations","useSetRecoilState","create","uniqueId","useNotifications","dispatch","useReducer","reset","setFieldValue","sortUserId","SampleSorting","sorterUsers","useEffect","sorterOptions","sorterUser","includes","NAMCResource","sorting","some","ConfirmNavigateAway","nonce","useMemo","DataGrid","rows","columnDefs","onSelectedRowsChanged","onGridApisReady","context","gridOptions","grid","setGrid","useState","refreshCells","refreshHeader","memoizedGridOptions","defaultColDef","sortable","resizable","suppressMovable","width","rowData","immutableData","onSelectionChanged","getSelectedRows","animateRows","containerStyle","getRowNodeId","onGridReady","columnApi","FlagBadge","background","padding","textAlign","HighlightedText","text","highlightText","match","part","index","style","highlight","ActionButton","isDefault","children","position","cursor","Button","marginLeft","Option","inputValue","onAddFilter","onAddOrganism","canAdd","canFilter","defaultAction","synonymArea","synonym","opacity","Fragment","slice","ListItem","borderBottom","maxWidth","flex","gridGap","Group","group","alignItems","paddingLeft","filterOptions","input","filterableName","TaxonomyField","setText","isOptionsPresented","Autocomplete","disablePortal","attributes","renderInput","onKeyDown","current","blur","renderOption","optionProps","onInputChange","clearOnEscape","autoHighlight","noOptionsText","groupBy","status","renderGroup","groupProps","getOptionLabel","generateLocalId","organismFilters","fields","assign","existingFilter","organismFilter","singleValueSetter","colDef","field","updateOrganism","organismsColumnDefs","headerName","hide","cellRenderer","comparator","valueA","valueB","nodeA","nodeB","editable","cellEditor","valueSetter","cellClassRules","lifeStageRankOrder","cellEditorParams","precisionAllowed","colId","comments","pinned","ConfirmDialog","isOpen","onConfirm","confirmButtonLabel","Dialog","DialogTitle","DialogContent","DialogActions","TimeEntryDialog","props","disableEscapeKeyDown","DialogBody","setTime","useRef","hasErrors","handleConfirm","focus","preventDefault","isActive","NumberEditor","forwardRef","ref","oldValue","canEdit","negativeAllowed","setValue","useImperativeHandle","getValue","isCancelBeforeStart","isCancelAfterEnd","isPopup","newNumber","displayName","LifeStageEditor","allowedLifeStages","done","setDone","unshift","LifeStageRenderer","NumberRenderer","TaxonRenderer","NotesAndCommentsRenderer","marginRight","abbreviation","NotesAndCommentsEditor","oldNoteTypeIds","oldComments","setNoteTypeIds","setComments","fontFamily","ActionsRenderer","organismRow","setDeletionCandidateOrganism","splitCount","bigRareCount","canDuplicate","canDelete","duplicateOrganism","createFilter","StateRenderer","stopEditingWhenCellsLoseFocus","SampleTaxonomyIdentification","upsertOrganismIfSavable","createOrganism","newOrganism","deleteFilter","finishTaxonomyIdentification","deletionCanddateOrganism","gridApis","setGridApis","setColumnVisible","getTaxonById","useCallback","organismFilterTaxons","filterTaxonIds","filteredOrganisms","activeLifeStages","taxonName","usedLifeStageIds","taxonOptions","organismTaxonIds","taxonOption","useHotkeys","minHeight","backgroundColor","onDelete","frameworkComponents","renderers","QuickNavigateField","InputProps","trimmedValue","sampleOverview","placeholder","AppHeader","openNavigation","fill","letterSpacing","UserName","justifyContent","SideNavBar","Drawer","anchor","isNavigationOpenState","setIsOpen","setIsNavigationOpen","ErrorBoundary","React","Component","hasError","render","makeNavigateFn","history","home","url","AppRouter","setNavigate","useHistory","exact","path","listener","returnValue","addEventListener","removeEventListener","when","setApi","ready","setIsReady","apiInstance","App","a","newState","Hub","AppAuthConnect","authInfo","setAuthInfo","isAppPreLoading","setIsAppPreLoading","useHostedAuth","authCheck","then","authResp","authVals","region","userPoolId","userPool","userPoolWebClientId","clientId","mandatorySignIn","oauth","scope","redirectSignIn","redirectSignOut","responseType","catch","err","CircularProgress","isAuthenticated","isAuthComplete","signIn","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","enableAll","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5a4af46e.chunk.js","sourcesContent":["export { default as useHostedAuth } from './hooks/useHostedAuth';\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NAMCResource = exports.GrantAction = void 0;\n__exportStar(require(\"./lookupTypes\"), exports);\nvar GrantAction;\n(function (GrantAction) {\n    GrantAction[\"createAny\"] = \"createAny\";\n    GrantAction[\"createOwn\"] = \"createOwn\";\n    GrantAction[\"readAny\"] = \"readAny\";\n    GrantAction[\"readOwn\"] = \"readOwn\";\n    GrantAction[\"updateAny\"] = \"updateAny\";\n    GrantAction[\"updateOwn\"] = \"updateOwn\";\n    GrantAction[\"deleteAny\"] = \"deleteAny\";\n    GrantAction[\"deleteOwn\"] = \"deleteOwn\";\n})(GrantAction = exports.GrantAction || (exports.GrantAction = {}));\nvar NAMCResource;\n(function (NAMCResource) {\n    NAMCResource[\"billing\"] = \"billing\";\n    NAMCResource[\"boxes\"] = \"boxes\";\n    NAMCResource[\"communications\"] = \"communications\";\n    NAMCResource[\"individualRoles\"] = \"individual_roles\";\n    NAMCResource[\"individuals\"] = \"individuals\";\n    NAMCResource[\"metrics\"] = \"metrics\";\n    NAMCResource[\"models\"] = \"models\";\n    NAMCResource[\"organisms\"] = \"organisms\";\n    NAMCResource[\"organizations\"] = \"organizations\";\n    NAMCResource[\"projects\"] = \"projects\";\n    NAMCResource[\"qaqc\"] = \"qaqc\";\n    NAMCResource[\"samples\"] = \"samples\";\n    NAMCResource[\"sites\"] = \"sites\";\n    NAMCResource[\"submissions\"] = \"submissions\";\n    NAMCResource[\"taxonomy\"] = \"taxonomy\";\n    NAMCResource[\"translations\"] = \"translations\";\n    NAMCResource[\"sorting\"] = \"sorting\";\n})(NAMCResource = exports.NAMCResource || (exports.NAMCResource = {}));\n//# sourceMappingURL=types.js.map","\"use strict\";\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.queryLimits = void 0;\nvar graphql_tag_1 = __importDefault(require(\"graphql-tag\"));\nvar lookups_graphql_1 = __importDefault(require(\"./lookups.graphql\"));\nexports.queryLimits = {\n    samples: 1000,\n    sites: 1000,\n    boxes: 1000,\n    projects: 1000,\n    taxonomy: 1000,\n    predictors: 500,\n    models: 500,\n    organizations: 500,\n    sitePredictorValues: 500,\n    modelResults: 500,\n    translations: 500,\n    metrics: 1000,\n};\nvar entityFields = \"\\n        entityId: Int\\n        parentId: Int\\n        \\\"Street address line 1.\\\"\\n        address1: String\\n\\n        \\\"Street address line 2.\\\"\\n        address2: String\\n\\n        \\\"City.\\\"\\n        city: String\\n\\n        \\\"US State. Null for international organizations.\\\"\\n        usState: String\\n\\n        \\\"Country.\\\"\\n        country: String\\n\\n        \\\"Postal code.\\\"\\n        zipCode: String\\n\\n        \\\"Telephone number with area code. Format (xxx) xxx-xxxx\\\"\\n        phone: String\\n\\n        \\\"Fax number. Format (xxx) xxx-xxxx\\\"\\n        fax: String\\n\\n        \\\"Organization's website URL. Includes the http:// or https:// prefix.\\\"\\n        website: String\\n\\n        \\\"Miscellaneous information about the organization.\\\"\\n        notes: String\\n\\n        \\\"Miscellaneous information about stored as [JSON](https://namc-utah.github.io/namc-bug-db/API/metadata.html). Typically used during scripting and automated processes.\\\"\\n        metadata: String\\n\\n        \\\"Date and time that the organization was added to the database.\\\"\\n        createdDate: String\\n\\n        \\\"Date and time that the organization was last updated in the database.\\\"\\n        updatedDate: String\\n\";\nvar typeDefs = (0, graphql_tag_1.default)(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n\\n    scalar JSONObject\\n\\n    schema {\\n        query: Query\\n        mutation: Mutation\\n    }\\n\\n    type Query {\\n        # Get a project and associated metadata\\n        auth: AuthParams\\n\\n        lookups: Lookups\\n\\n        \\\"API endpoint that calls entity.fn_organization_search\\\"\\n        organizations(limit: Int = \", \", offset: Int = 0, searchTerm: String): PaginatedOrganizations\\n\\n        ####################################################################################################################################################################################\\n        # Geo queries\\n\\n        \\\"Detailed information about a single site. Includes the point location and upstream catchment geometries as [GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html).\\\"\\n        siteInfo(siteId: Int!): SiteInfo\\n\\n        \\\"Detailed information about a single model, including the number of predictors associated with the model.\\\"\\n        modelInfo(modelId: Int!): ModelInfo\\n\\n        \\\"List of all model conditions (e.g. good, fair, poor) for a particular model\\\"\\n        modelConditions(modelId: Int!): PaginatedModelConditions\\n\\n        ####################################################################################################################################################################################\\n        # Sample queries\\n\\n        \\\"Detailed information about a single box, including information about the customer and number of samples associated with the box.\\\"\\n        boxInfo(boxId: Int!): BoxInfo\\n\\n        \\\"\\\"\\\"\\n        The samples API endpoint returns a set of samples that satisfty one of the mandatory arguments.\\n\\n        The samples API endpoint returns a set of samples that satisfty one of the mandatory arguments. You can request all samples associated with one or more boxes, or all samples belonging to a particular customer or project.\\n\\n        Note that samples associated with completed boxes should have the same sample ID in the new database as they had in the Pilot database. However, any samples associated with boxes that were incomplete at the time of the data migration are assigned new sample IDs in the new database; they will not match those in either BugLab or Pilot.\\n        \\n        **You must provide exactly one of the arguments**, either a list of sample IDs, box IDs, entity IDs, site IDs, a polygon or a point and distance.\\n        You will get an error if you fail to provide at least one of these arguments!\\n        You also can't provide multiple arguments (i.e. both sample IDs and box IDs).\\n        And finally, you can't provide an empty list of IDs.\\n        \\\"\\\"\\\"\\n        samples(limit: Int = \", \", offset: Int = 0 , \\n        \\n            \\\"List of integer sample IDs.\\\"\\n            sampleIds: [Int], \\n            \\n            \\\"List of integer box IDs. Returns all samples associated with the specified box(es).\\\"\\n            boxIds: [Int],\\n            \\n            \\\"List of integer project IDs. Returns all samples associated with the specified project(s).\\\"\\n            projectIds: [Int],\\n            \\n            \\\"List of integer customer IDs. Returns all samples belonging to the customer(s). Note that customer organizations are hierarchical. If you provide the customer ID for the BLM you will get back all samples for the entire BLM (i.e. all states and all field offices). If you provide the customer ID for the Colorado BLM you will get back all samples belonging to field offices within the state of Colorado.\\\"\\n            entityIds: [Int],\\n            \\n            \\\"List of integer site IDs. Returns all samples collected at the site(s).\\\"\\n            siteIds: [Int],\\n            \\n            \\\"[GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html) polygon. Returns all samples collected at sites within the polygon.\\\"\\n            polygon: String,\\n            \\n            \\\"Point defined as latitude and longitude in decimal degrees) and distance (meters). Returns all samples collected within the specified distance of the point.\\\"\\n            pointDistance: QueryDistance\\n        \\n        ): PaginatedSamples\\n        \\\"\\\"\\\"\\n        Summary information for all sites, including location coordinates and number of samples.\\n        Use the siteInfo query to get more detailed information about a single site, including the catchment as a [GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html) polygon.\\n        \\n        The sites returned in this query are the official NAMC sites. If you want the actual locations of sites at which\\n        samples were collected then use the samples API endpoint and the customerLocation fields. \\n        \\\"\\\"\\\"\\n        sites(limit: Int = \", \", offset: Int = 0, \\n        \\n            \\\"Two letter abbreviation of the US State. Returns all sites within the state.\\\"\\n            usState: [String],\\n            \\n            \\\"List of integer sample IDs. Returns the list of sites for the sample(s).\\\"\\n            sampleIds: [Int],\\n            \\n            \\\"List of integer Box IDs. Returns the sites at which samples within the box(es) were collected.\\\"\\n            boxIds: [Int],\\n            \\n            \\\"List of integer project IDs. Returns the sites at which samples within the project(s) were collected.\\\"\\n            projectIds: [Int],\\n            \\n            \\\"List of integer customer IDs. Returns all samples belonging to the customer(s). Note that customer organizations are hierarchical. If you provide the customer ID for the BLM you will get back all samples for the entire BLM (i.e. all states and all field offices). If you provide the customer ID for the Colorado BLM you will get back all samples belonging to field offices within the state of Colorado.\\\"\\n            entityIds: [Int],\\n            \\n            \\\"List of integer site IDs. Returns the specified sites.\\\"\\n            siteIds: [Int], \\n            \\n            \\\"[GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html) polygon. Returns all sites within the polygon.\\\"\\n            polygon: String,\\n            \\n            \\\"Point defined as latitude and longitude in decimal degrees) and distance (meters). Returns all sites within the specified distance of the point.\\\"\\n            pointDistance: QueryDistance\\n        \\n        ): PaginatedSites\\n        \\n        \\\"\\\"\\\"\\n        The boxes API endpoint returns a set of boxes that satisfty one of the mandatory arguments.\\n        You can request boxes by specifying a list of box IDs, or by specifying a list of customers.\\n\\n        Note that Box IDs are retained from the old NAMC database.\\n        A box with a specific ID in either the BugLab or Pilot database should have the same ID in the new database.\\n        \\\"\\\"\\\"\\n        boxes(limit: Int = \", \", offset: Int = 0,\\n        \\n            \\\"List of integer box IDs. Returns the specified box(es).\\\"\\n            boxIds: [Int],\\n            \\n            \\\"List of integer customer IDs. Returns all boxes belonging to the customer(s). Note that customer organizations are hierarchical. If you provide the customer ID for the BLM you will get back all samples for the entire BLM (i.e. all states and all field offices). If you provide the customer ID for the Colorado BLM you will get back all samples belonging to field offices within the state of Colorado.\\\"\\n            entityIds: [Int]\\n        \\n        ): PaginatedBoxes\\n\\n        \\\"\\\"\\\"\\n        The projects API endpoint returns a set of all projects in the database.\\n        Projects are intended to be flexible containers that make it easy to work with custom collections of samples.\\n        API users can create projects, add and remove samples to a project.\\n        Each sample can be associated with multiple projects. \\n        \\\"\\\"\\\"\\n        projects(limit: Int = \", \", offset: Int = 0): PaginatedProjects\\n\\n        \\\"\\\"\\\"\\n        List of all predictors in the system.\\n        Includes summary information about how many models rely on each predictor.\\n        \\\"\\\"\\\"\\n        predictors(limit: Int = \", \", offset: Int = 0,\\n        \\n            \\\"Optional integer model ID. Returns only predictors associated with this model.\\\"\\n            modelId: Int\\n        \\n        ): PaginatedPredictors\\n\\n        \\\"\\\"\\\"\\n        List of all models in the system.\\n        Includes summary information about how many predictors are used by the model\\n        as well as the translation that is be required.\\n\\n        Use the modelInfo API endpoint for more detailed information about a specific model, including its model extent polygon.\\n        \\\"\\\"\\\"\\n        models(limit: Int = \", \", offset: Int = 0): PaginatedModels\\n\\n        \\\"\\\"\\\"\\n        List of predictor values at a single site.\\n        Site predictors are non-temporal.\\n        The value applies to all samples collected at the specific site.\\n\\n        See samplePredictors for temporal predictors that vary by the sample date.\\n        \\\"\\\"\\\"\\n        sitePredictorValues(\\n            \\n            \\\"Mandatory site ID for which predictor values are required.\\\"\\n            siteId: Int!,\\n            \\n            limit: Int = \", \", offset: Int = 0\\n        \\n        ): PaginatedSitePredictorValues\\n\\n        \\\"\\\"\\\"\\n        List of all predictor values for a single sample.\\n        This includes both temporal and non-temporal predictors as well as their calculation status (current, missing, expired).\\n        \\\"\\\"\\\"\\n        samplePredictorValues(\\n            \\n            \\\"Mandatory integer Sample ID for which sample predictor values are required.\\\"\\n            sampleId: Int!\\n        \\n        ): PaginatedSamplePredictorValue\\n\\n        \\\"\\\"\\\"\\n        Returns all model results for the specified sample(s).\\n        Model results refer to the outputs of running one of the O2E, MMI or physical models (temperature, phosphoros, water quality).\\n        \\\"\\\"\\\"\\n        modelResults(limit: Int = \", \", offset: Int = 0,\\n        \\n            \\\"Mndatory list of integer sample IDs for which to return model results.\\\"\\n            sampleIds: [Int]!\\n        \\n        ): PaginatedModelResult\\n\\n        ####################################################################################################################################################################################\\n        # Taxonomy queries\\n\\n        \\\"\\\"\\\"\\n        List of all taxa in the system.\\n        Includes information about each level of the taxonomic hierarchy above each taxa.\\n        \\\"\\\"\\\"\\n        taxonomy(limit: Int = \", \", offset: Int = 0,\\n        \\n            \\\"\\\"\\\"\\n            Optional search term to filter the taxa returned.\\n            SQL wildcards are permited.\\n            i.e. to find taxa starting with Clor use 'Clor%'.\\n            To search for clor anywhere in the name of a taxa uses '%clor%'.\\n            An asterix can also be used to wildcard a single character.\\n\\n            Search terms are case insensitive.\\n            \\\"\\\"\\\"\\n            searchTerm: String\\n        \\n            taxonomyIds: [Int]\\n\\n        ): PaginatedTaxonomies\\n\\n        \\\"\\\"\\\"\\n        List all parents for a particular taxa.\\n        For example, if you provide the ID of a genus taxon this endpoint will\\n        return the genus in question plus the family, order, class, phylum and kingdom.\\n\\n        This will return sub and infra taxonomic levels if relevant.\\n\\n        Use the taxonomy API endpoint to discover the taxonomy ID for a particular taxon.\\n\\n        Taxonomy IDs are unchanged from the BugLab and Pilot databases.\\n        \\\"\\\"\\\"\\n        taxonomyTree(\\n            \\n            \\\"Mandatory integer ID of the taxon for which you want the taxonomic hierarchy.\\\"\\n            taxonomyId: Int!\\n        \\n        ): PaginatedTaxonomyTree\\n\\n        \\\"\\\"\\\"\\n        List of all taxonomic attributes (e.g. clinger, swimmer, HBI) in the system.\\n\\n        Use the taxaAttributes endpoint if you want the attribute values for a specific taxon.\\n        \\\"\\\"\\\"\\n        attributes(limit: Int = \", \", offset: Int = 0): PaginatedAttributes\\n\\n        \\\"\\\"\\\"\\n        List of all attribute values for a single taxon.\\n\\n        Use the taxonomy API endpoint to discover the taxonomy ID for a particular taxon.\\n        \\\"\\\"\\\"\\n        taxaAttributes(\\n            \\n            \\\"\\\"\\\"\\n            Mandatory integer taxonomy ID for which attributes are required.\\n            \\n            Use the taxonomy API endpoint to discover the taxonomy ID for a particular taxon.\\n            \\\"\\\"\\\"\\n            taxonomyId: Int, limit: Int = \", \", offset: Int = 0): PaginatedAttributeValues\\n  \\n        \\\"\\\"\\\"\\n        List all the taxa within a specific translation (OTU)\\n\\n        The taxa associated with a translation are only those taxa at which organism counts are rolled.\\n        In other words a translation in the database does not store every taxa included in an OTU,\\n        only those taxa at which counts are roll up to.\\n\\n        For example, an OTU might include many species, genus and families that all roll up to a single \\n        order. In the database, the translation is defined with only a single taxon, that of the order.\\n        Any taxa below this order are automatically rolled up to this order during processing.\\n\\n        See the [online documentation on translations](https://namc-utah.github.io/namc-bug-db/translations.html) for more information.\\n        \\\"\\\"\\\"\\n        translationTaxa(limit: Int = \", \", offset: Int = 0, \\n        \\n            \\\"\\\"\\\"\\n            Mandatory integer translation ID for which you require taxa.\\n\\n            Use the translations API endpoint to discover the database IDs for each translation.\\n            \\\"\\\"\\\"\\n            translationId: Int!\\n        \\n        ): PaginatedTranslationTaxa\\n       \\n        \\\"\\\"\\\"\\n        List of all translations (OUT) in the system.\\n        Translations have replaced OTUs in the new database.\\n     \\n        See the [online documentation on translations](https://namc-utah.github.io/namc-bug-db/translations.html) for more information.\\n        \\\"\\\"\\\"\\n        translations(limit: Int = \", \", offset: Int = 0): PaginatedTranslations\\n\\n        ####################################################################################################################################################################################\\n        # Sample side table queries\\n\\n        \\\"List of all plankton samples in the system.\\\"\\n        planktonSamples(limit: Int = \", \", offset: Int = 0): PaginatedPlankton\\n\\n        \\\"List of all drift samples in the system.\\\"\\n        driftSamples(limit: Int = \", \", offset: Int = 0): PaginatedDrift\\n\\n        \\\"List of all fish samples in the system.\\\"\\n        fishSamples(limit: Int = \", \", offset: Int = 0): PaginatedFish\\n\\n        \\\"List of all mass samples in the system.\\\"\\n        massSamples(limit: Int = \", \", offset: Int = 0): PaginatedMass\\n\\n        # \\\"List all fish diet samples in the system\\\"\\n        # fishDiet(limit: Int = \", \", offset: Int = 0, sampleIds: [Int]): PaginatedFishDiet\\n\\n        ####################################################################################################################################################################################\\n        # Sample Taxa queries\\n        \\n        \\\"\\\"\\\"\\n        Sample organisms summed by taxonomy only.\\n        \\n        Raw organism counts are first grouped by laboratory taxon (ignoring bug size and lifestage) and then converted to abundance\\n        using lab and field splits. Big rare counts are ignored.\\n\\n        You must provide a list of either sample, box or project IDs. You cannot provide multiple lists (i.e. both sample and project IDs)\\n        and the lists cannot be empty.\\n        \\\"\\\"\\\"\\n        sampleTaxa(\\n            \\n            \\\"List of integer sample IDs. Returns taxa for the specified sample(s).\\\"\\n            sampleIds: [Int],\\n            \\n            \\\"list of integer box IDs. Returns taxa for all samples in the specified box(es).\\\"\\n            boxIds: [Int],\\n            \\n            \\\"List of integer project IDs. Returns taxa for all samples associated with the specified project(s).\\\"\\n            projectIds: [Int],\\n\\n            limit: Int = \", \",\\n            \\n            offset: Int = 0\\n        \\n        ): PaginatedSampleTaxa\\n\\n\\n        sampleTaxaAttributes(limit: Int = \", \", offset: Int = 0, \\n          \\\"List of integer sample IDs.\\\"\\n          sampleIds: [Int], \\n\\n          \\\"List of integer box IDs. Returns all samples associated with the specified box(es).\\\"\\n          boxIds: [Int],\\n\\n          \\\"List of integer project IDs. Returns all samples associated with the specified project(s).\\\"\\n          projectIds: [Int],\\n\\n          \\\"List of integer customer IDs. Returns all samples belonging to the customer(s). Note that customer organizations are hierarchical. If you provide the customer ID for the BLM you will get back all samples for the entire BLM (i.e. all states and all field offices). If you provide the customer ID for the Colorado BLM you will get back all samples belonging to field offices within the state of Colorado.\\\"\\n          entityIds: [Int],\\n\\n          \\\"List of integer site IDs. Returns all samples collected at the site(s).\\\"\\n          siteIds: [Int],\\n\\n          \\\"[GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html) polygon. Returns all samples collected at sites within the polygon.\\\"\\n          polygon: String,\\n\\n          \\\"Point defined as latitude and longitude in decimal degrees) and distance (meters). Returns all samples collected within the specified distance of the point.\\\"\\n          pointDistance: QueryDistance\\n\\n        ): PaginatedSampleTaxaAttribute\\n\\n        \\\"\\\"\\\"\\n        Sample organisms summed by taxonomy, life stage and bug size. This is a more detailed query that provides\\n        access to the raw organism counts.\\n        \\n        Raw organism counts are summed by laboratory taxon, bug size and lifestage. No conversion to abundance is applied.\\n        \\\"\\\"\\\"\\n        sampleTaxaInfo(\\n            \\n            \\\"Mandatory integer sample ID\\\"\\n            sampleIds: [Int],\\n\\n            boxIds: [Int],\\n\\n            projectIds: [Int],\\n            \\n            limit: Int = \", \", \\n            \\n            offset: Int = 0\\n        ): PaginatedSampleTaxaInfo\\n        \\\"\\\"\\\"\\n        Sample organisms converted to a translation (OTU).\\n\\n        This query first converts each organism to an abundance using lab and field splits and then rolls\\n        up the abundance to those taxa present in the translation.\\n        Any organism that does not rollup to a taxon present in the specified translation is omitted.\\n\\n        See the [online documentation on translations](https://namc-utah.github.io/namc-bug-db/translations.html) for more information.      \\n        \\\"\\\"\\\"\\n        sampleTaxaTranslation(\\n            \\n            \\\"Mandatory integer sample ID\\\"\\n            sampleId: Int!,\\n            \\n            \\\"Mandatory translation (OTU) ID. Use the translations API endpoint to obtain the database IDs for each translation.\\\"\\n            translationId: Int!\\n        \\n        ): PaginatedSampleTaxa\\n\\n        \\\"\\\"\\\"\\n        Sample organisms converted to the translation (OTU) and then rarefied to the specified fixed count.\\n\\n        organism are first grouped by laboratory taxa (ignoring bug size, life sage and big rare count) and then\\n        converted to abundance. Taxa are then converted to the specified translation (OTU) rolling up to the next\\n        highest taxa present in the translation. Organisms that don't roll up to a taxa present in the translation\\n        are omitted.\\n        \\n        The abundances are expanded to create one record for each organism, from which random\\n        selections are made until the fixed count is achieved. If the total number of organisms is less than the \\n        fixed count then all records are returned. Finally the selected records are re-grouped by translation\\n        taxa, summing the abundances.\\n        \\\"\\\"\\\"\\n        sampleTaxaTranslationRarefied(\\n            \\n            \\\"Mandatory integer sample ID\\\"\\n            sampleId: Int!,\\n            \\n            \\\"Mandatory translation (OTU) ID. Use the translations query to obtain the database IDs for each translations.\\\"\\n            translationId: Int!,\\n            \\n            \\\"The total count of organisms to be returned (across all taxa). The actual total might be less if the sample contains fewer organisms than the specified fixed count.\\\"\\n            fixedCount:Int!\\n        \\n        ):PaginatedSampleTaxa\\n\\n        \\\"\\\"\\\"\\n        Sample organisms within distance (meters) of a point (decimal degrees).\\n\\n        Organisms are first converted to abundance using lab and field splits and then summed across\\n        laboratory taxa (ignoring bug size, life stage and big rare counts). \\n        \\\"\\\"\\\"\\n        pointTaxaRaw(\\n            \\n            \\\"Longitude of the point from which samples are selected. Specified in decimal degrees this value must be greater than or equal to -180 and less than or equal to 180.\\\"\\n            longitude: Float!,\\n            \\n            \\\"Latitude of the point from which samples are selected. Specified in decimal degrees this value must be greater than or equal to -90 and less than or equal to 90.\\\"\\n            latitude: Float!,\\n            \\n            \\\"Distance in metres from the specified point from which samples are selected. Specified in metres, this value must be greater than zero.\\\"\\n            distance: Float!\\n        \\n        ): PaginatedSampleTaxa\\n   \\n        \\\"\\\"\\\"Sample organisms within a polygon.\\n        \\n        Returns all samples collcted at sites that occur within the specified polygon. The polygon must be a valid, closed polygon specified in [GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html).\\\"\\\"\\\"\\n        polygonTaxaRaw(\\n            \\n            \\\"[GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html) polygon.\\\"\\n            polygon: String!\\n        \\n        ): PaginatedSampleTaxa\\n\\n        ####################################################################################################################################################################################\\n        # Metric queries\\n\\n        \\\"\\\"\\\"\\n        Returns a list of all metrics defined in the system. \\n        \\\"\\\"\\\"\\n        metrics(limit: Int = \", \", offset: Int = 0): PaginatedMetrics\\n\\n        \\\"\\\"\\\"\\n        Calculates active metrics for the sample using the specified translation and fixed count.\\n        Note that the values returned are not stored in the database. They are calculated anew with each API\\n        request. Metrics that depend on rarefaction will be different with each subsequent request.\\n\\n        Metrics can be calculated for a list of samples, boxes or projects. You must provide one of these\\n        lists or an error is returned. You cannot provide more than one list (e.g. a list of samples and a list of projects).\\n        The list provided cannot be empty.\\n\\n        Use the projects and translations (OTU) API endpoints to determine the database IDs for these arguments.\\n        \\\"\\\"\\\"\\n        sampleMetrics(\\n            \\n            \\\"List of integer sample IDs\\\"\\n            sampleIds: [Int],\\n            \\n            \\\"List of integer box IDs. All boxes associated with the box(es) are returned.\\\"\\n            boxIds: [Int],\\n            \\n            \\\"List of integer project IDs. All samples associated with the project(s) are returnded.\\\"\\n            projectIds: [Int],\\n            \\n            \\\"Mandatory integer translation (OTU) ID\\\"\\n            translationId: Int!,\\n            \\n            \\\"Mandatory total number of organisms to be used by those metrics that use rarefaction.\\\"\\n            fixedCount: Int!\\n        ): PaginatedMetricResult\\n\\n        # Retrieve the currently logged in user's account information and permissions\\n        myProfile: Profile\\n\\n        # Retrieve a list of users that can perform sort operations\\n        sorters: [SortingUser]\\n    }\\n\\n    # this schema allows the following mutation:\\n    type Mutation {\\n        \\n        \\\"\\\"\\\"\\n        Store a non-temporal predictor value for a specific site. Non-temporal predictors do not vary over time. There is a\\n        single value per site.\\n\\n        See setSamplePredictorValue if you want to store a temporal predictor value associated with a particular sample.\\n        \\\"\\\"\\\"\\n        setSitePredictorValue(\\n            \\n            \\\"Mandatory Integer site ID\\\"\\n            siteId: Int!,\\n            \\n            \\\"Mandatory predictor ID. See predictors endpoint to identify the ID for a predictor.\\\"\\n            predictorId: Int!, \\n            \\n            \\\"Mandatory site predictor value. The value should be a floating point value represented as a string.\\\"\\n            value:String!\\n            \\n        ): Int\\n\\n        \\\"\\\"\\\"\\n        Store a temporal predictor value for a specific sample. Temporal predictors vary over time and correspond to the sample date of a sample.\\n\\n        This endpoint returns the number of rows saved to the database. 1 indicates sucess, 0 indicates something went wrong and the value cannot be stored.\\n        \\n        See setSitePredictorValue if you want to store a temporal predictor value associated with a particular site.\\n        \\\"\\\"\\\"\\n        setSamplePredictorValue(\\n            \\n            \\\"Mandatory integer sample ID\\\"\\n            sampleId: Int!,\\n            \\n            \\\"Mandatory predictor ID. See predictors endpoint to identify the ID for a particular predictor.\\\"\\n            predictorId: Int!,\\n            \\n            \\\"The predictor value should be a single floating point value represented as a string.\\\"\\n            value: String!\\n        \\n        ): Int\\n\\n        \\\"\\\"\\\"\\n        Store the upstream catchment polygon for a specific site.\\n        The catchment polygon must be a valid, non-empty \\n        [GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html) polygon that partially or entirely intersects with the United States.\\n     \\n        This endpoint returns the number of rows saved to the database. 1 indicates sucess, 0 indicates something went wrong and the value cannot be stored.\\n        \\\"\\\"\\\"\\n        setSiteCatchment(\\n            \\n            \\\"ID that uniquely identifies the site\\\"\\n            siteId: Int!,\\n            \\n            \\\" [GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html) polygon that partially or entirely intersects with the United States.\\\"\\n            catchment: String!\\n        \\n        ): Int\\n\\n        \\\"\\\"\\\"\\n        Create a new translation (OTU). The name is mandatory and cannot be an empty string. The description is optional.\\n\\n        The translation name must also be unique across the entire database. Use the translations endpoint to see a list\\n        of all existing translations in the database.\\n\\n        After creating the translation, use the setTranslationTaxa endpoint to associate taxa with this translation.\\n\\n        This endpoint returns the database ID assigned to the new translation.\\n        \\\"\\\"\\\"\\n        createTranslation(\\n            \\n            \\\"Name for the new translation. Cannot be empty and must be unique across all translations in the database.\\\"\\n            translationName: String!,\\n            \\n            \\\"Optional descriptive information about the translation.\\\"\\n            description: String\\n        \\n        ): Int\\n\\n        \\\"\\\"\\\"\\n        Add or update a taxa associated with a translation (OTU)\\n\\n        See information on [translations](https://namc-utah.github.io/namc-bug-db/translations.html) for which taxa\\n        to add to a translation.\\n\\n        If the specified taxa already exists within a translation, this endpoint will update it's alias and isFinal\\n        status. If the taxa does not already exist within the translation it will be added.\\n\\n        This endpoint returns the number of rows saved to the database. 1 indicates sucess, 0 indicates something went wrong and the value cannot be stored.\\n        \\\"\\\"\\\"\\n        setTranslationTaxa(\\n            \\n            \\\"Unique identifier of the translation (OTU). Use the translations endpoint to determine the ID associated with each translation.\\\"\\n            translationId: Int!, \\n            \\n            \\\"Unique identifier of the taxon being stored in the translation. Use the taxonomy endpoint to determine the IDs for individual taxa.\\\"\\n            taxonomyId: Int!, \\n            \\n            \\\"\\\"\\\"\\n            Optional name that should be used to identify the taxon within the translation.\\n            If this alias is left blank then the official NAMC scientific name is used for the taxon within the translation.\\n            \\\"\\\"\\\"\\n            alias:String,\\n            \\n            \\\"\\\"\\\"Identifies if the taxon is part of the final set used to calibrate the model associated with the translation (OTU).\\n            When isFinal is False it indicates that the taxon is part of the larger, initial list used to develop the model\\n            but not part of the final calibration set of taxa.\\\"\\\"\\\"\\n            isFinal: Boolean\\n        ): Int\\n\\n        \\\"\\\"\\\"\\n        Permanently remove a taxon from a translation.\\n\\n        The definition of the taxon remains in the database. It is merely it's association with the translation that is removed.\\n\\n        This endpoint returns the number of rows saved to the database. 1 indicates sucess, 0 indicates something went wrong and the change cannot be performed. \\n        \\\"\\\"\\\"\\n        deleteTranslationTaxa(\\n            \\n            \\\"Unique identifier of the translation (OTU). Use the translations endpoint to determine the ID associated with each translation.\\\"\\n            translationId: Int!,\\n            \\n            \\\"Unique identifier of the taxon being stored in the translation. Use the taxonomy endpoint to determine the IDs for individual taxa.\\\"\\n            taxonomyId: Int!\\n        ): Int\\n  \\n        \\\"\\\"\\\"\\n        Update information related to a specific taxon. Change its scientific name, move its level or change its parent taxon.\\n\\n        See the taxonomy endpoint to determine the unique taxonomy ID for a specific taxon.\\n\\n        See createTaxonomy endpoint for adding new taxa.\\n\\n        This endpoint returns the number of rows saved to the database. 1 indicates sucess, 0 indicates something went wrong and the change cannot be performed. \\n        \\\"\\\"\\\"\\n        setTaxonomy(taxonomyId: Int!, scientificName: String!, levelId: Int!, parentId: Int!, author: String, year:String, notes: String, metadata:String): Int\\n\\n        \\\"\\\"\\\"\\n        The createProject API endpoint creates a new project in the database.\\n        Projects are intended to be flexible containers that make it easy to work with custom collections of samples.\\n        API users can add and remove samples to a project. Each sample can be associated with multiple projects. \\n\\n        New projects are created with no associated samples.\\n        You must call the [add samples]({{ site.baseurl}}/API/Projects/addProjectSamples.html) API endpoint before the project is useful.\\n       \\n        This endpoint returns the database ID associated with the new project, for use in other endpoints.\\n        \\\"\\\"\\\"\\n        createProject(\\n            \\n            \\\"The name for the project must be unique across all projects in the system. It cannot be an empty string.\\\"\\n            projectName: String!,\\n            \\n            \\\"Currently not used, this field is intended to distinguish private projects that can only be seen by the person who created them, from public projects that are visible to all users.\\\"\\n            isPrivate: Boolean,\\n            \\n            \\\"Optional descriptive information about the project purpose, background etc.\\\"\\n            description: String, \\n            \\n            \\\"[JSON](https://namc-utah.github.io/namc-bug-db/API/json.html)|No|Optional data that can be useful for scripting and other automated processes.\\\"\\n            metadata: String, \\n            \\n            \\\"Optional database ID of the individual who creates the project.\\\"\\n            contactId: Int\\n        ): Int\\n\\n        \\\"\\\"\\\"\\n        This API endpoint associates samples with a project. The project must already exist and have been created using the [createProject]({{site.baseurl}}/API/Projects/createProject.html) API end point.\\n\\n        Only existing samples can be associated with a project (i.e. this endpoint does not create new samples). Each sample can be associated with multiple projects.  \\n\\n        If the sample is already associated with the project then no action is taken.\\n\\n        This endpoint returns the number of rows saved to the database. 0 indicates something went wrong and the change cannot be performed.   \\n        \\\"\\\"\\\"\\n        addProjectSamples(\\n            \\n            \\\"Project ID of a project that already exists in the system. Use the projects query to determine the ID of an existing project.\\\"\\n            projectId: Int!,\\n\\n            \\\"List of sample IDs to be associated with the project.\\\"\\n            sampleIds: [Int]\\n        \\n        ): Int\\n\\n        \\\"\\\"\\\"\\n        This endpoint associates all samples that are part of the specified boses to the project.\\n        Any samples that are already associated with a project are unaffected.\\n       \\n        This endpoint returns the number of rows saved to the database. 0 indicates something went wrong and the change cannot be performed.   \\n        \\\"\\\"\\\"\\n        addProjectBoxes(projectId: Int!, boxIds: [Int]): Int\\n        \\n        \\\"\\\"\\\"\\n        Removes the specified sample(s) from the project. The samples and all their\\n        associated data remain in the database and are unaffected. The only change\\n        is to disassociate the sample from the project.\\n        \\\"\\\"\\\"\\n        removeProjectSamples(\\n            \\n            \\\"Project ID from which the samples are to be removed.\\\"\\n            projectId: Int!,\\n            \\n            \\\"List of samples to be removed from the project. Any samples in the argument list that are not part of the project are ignored.\\\"\\n            sampleIds:[Int]\\n        \\n        ): Int\\n\\n        \\\"\\\"\\\"\\n        Permanently deletes a project from the system. It does not alter or affect any of the \\n        samples that are associated with the project.\\n        \\\"\\\"\\\"\\n        deleteProject(\\n            \\n            \\\"ID of the project to be deleted.\\\"\\n            projectId: Int!\\n            \\n        ): Int\\n\\n\\n        createTaxonomy(\\n          \\\"The name of the taxa identified with the laboratory.\\\"\\n          scientificName: String\\n\\n          \\\"The taxonomic level of the taxa identified within the laboratory.\\\"\\n          levelId: Int\\n\\n          \\\"The taxonomic level of the taxa identified within the laboratory.\\\"\\n          levelName: String\\n\\n          \\\"Database ID of the parent of this taxon in the NAMC taxonomic hierarchy.\\\"\\n          parentId: Int\\n\\n        ): Int\\n\\n        deleteTaxonomy(\\n          taxonomyId: Int\\n        ): Int\\n\\n        taxIdentificationStart(\\n          \\\"Database ID that uniquely identifies the sample.\\\"\\n          sampleId: ID!\\n        ): Int\\n        taxIdentificationStop(\\n          \\\"Database ID that uniquely identifies the sample.\\\"\\n          sampleId: ID!, \\n          \\\"the time it took to perform the identification (in decimal hours)\\\"\\n          time: Float!\\n        ): Int\\n\\n        labSort(\\n          \\\"Database ID that uniquely identifies the sample.\\\"\\n          sampleId: ID!,\\n          \\\"the database ID of the logged in user who performed the sort.\\\"\\n          sorterId: ID!,\\n          \\\"Proportion of the sample, in percent, that was split and then retained for sorting.\\\"\\n          labSplit: Float!,\\n          \\\"the integer number of organisms found in the sample\\\"\\n          count: Int!, \\n          \\\"Boolean whether or not alcohol was used during sorting\\\"\\n          elutriation: Boolean!,\\n          \\\"the time it took to perform the sort (in decimal hours)\\\"\\n          time: Float!,\\n          \\\"UNIX Timestamp of the date that the sort was performed\\\"\\n          sortTimestamp: String!\\n        ): Int\\n\\n        createSampleTaxaInfo(\\n          \\\"Database ID that uniquely identifies the sample.\\\"\\n          sampleId: ID!,\\n          taxonomyId: ID!,\\n          lifeStageId: ID!,\\n          bugSize: Float,\\n          splitCount: Int!,\\n          bigRareCount: Int,\\n          comments: String,\\n          noteTypeIds: [Int]\\n        ): Int\\n        \\n        deleteOrganism(\\n          organismId: ID!\\n        ): Int\\n\\n    }\\n\\n    input QueryDistance {\\n\\n        \\\"Latitude of the point, in decimal degrees.\\\"\\n        latitude: Float!\\n\\n        \\\"Longitude of the point in decimal degrees\\\"\\n        longitude: Float!\\n\\n        \\\"Distance from the point in meters.\\\"\\n        distance: Float!\\n    }\\n\\n    type AuthParams {\\n        loggedIn: Boolean\\n        userPool: String\\n        clientId: String\\n        region: String\\n        domain: String\\n    }\\n\\n    type Sample {  \\n\\n        \\\"Database ID that uniquely identifies the sample.\\\"        \\n        sampleId: Int\\n\\n        \\\"Database ID that unique identifies the box.\\\"\\n        boxId: Int\\n\\n        \\\"The customer that submitted the sample\\\"\\n        customerName: String\\n\\n        \\\"The abbreviated name of the customer that submitted the sample.\\\"\\n        customerAbbreviation: String\\n\\n        \\\"The name of the individual that submitted the sample.\\\"\\n        submittedBy: String\\n\\n        \\\"The current state of the box to which the sample belongs.\\\"\\n        boxState: String\\n\\n        measurements: Boolean\\n\\n        \\\"Database ID of the site where the sample was collected.\\\"\\n        siteId: Int\\n\\n        \\\"The unique name assigned to the site by NAMC.\\\"\\n        siteName: String\\n\\n        \\\"The abbreivation of the US state where the sample was collected.\\\"\\n        usState: String\\n\\n        \\\"[GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html) of the site associated with the sample.\\\"\\n        siteLocation: String\\n\\n        \\\"NAMC site longitude in decimal degrees.\\\"\\n        siteLongitude: Float\\n\\n        \\\"NAMC site latitude in decimal degrees.\\\"\\n        siteLatitude: Float\\n\\n        \\\"Cmbination of the site name and sample date used for repeat visits.\\\"\\n        visitId: String\\n\\n        \\\"The site identifier provided by the customer at submission.\\\"\\n        customerSiteCode: String\\n\\n        \\\"The date that the sample was collected.\\\"\\n        sampleDate: String\\n\\n        \\\"The time that the sample was collected.\\\"\\n        sampleTime: String\\n\\n        \\\"The sample type (e.g. benthic, drift, fish diet).\\\"\\n        sampleType: String\\n\\n        \\\"The method used to collect the sample (e.g. Hess net, Surber net, Dissected Gut)\\\"\\n        sampleMethod: String\\n\\n        \\\"The habitat sampled (e.g. benthos, pelagic, pool, reachwide, stomach)\\\"\\n        habitat: String\\n\\n        \\\"Customer description of the sampled location.\\\"\\n        sampleLocation: String\\n\\n        \\\"Longitude (in decimal degrees) of the customer sampled location.\\\"\\n        sampleLongitude: Float\\n\\n        \\\"Latitude (in decimal degrees) of the customer sampled location.\\\"\\n        sampleLatitude: Float\\n\\n        \\\"Area sampled in meters squared.\\\"\\n        area: Float\\n\\n        \\\"Proportion of the sample that was retained for laboratory processing as a ratio (0-1).\\\"\\n        fieldSplit: Float\\n\\n        \\\"Customer notes collected in the field.\\\"\\n        fieldNotes: String\\n\\n        \\\"Proporation of the sample processed in the laboratory as ratio (0-1).\\\"\\n        labSplit: Float\\n\\n        \\\"Number of jars used to transport the sample.\\\"\\n        jarCount: Int\\n\\n        \\\"TODO\\\"\\n        qualitative: Boolean\\n\\n        \\\"Laboratory notes pertaining to the sample.\\\"\\n        labNotes: String\\n\\n        \\\"Mesh size in microns.\\\"\\n        mesh: Int\\n\\n        sorterId: Int\\n        sorterName: String\\n        sorterCount: Int\\n        elutriation: Boolean\\n        sortTime: Float\\n        sortDate: String\\n\\n        idErId: Int\\n        idTime: Float\\n        idStartDate: String\\n        idEndDate: String\\n\\n        \\\"Date time that the sample record was created in the database.\\\"\\n        createdDate: String\\n\\n        \\\"Date time of the last change to the sample record.\\\"\\n        updatedDate: String\\n\\n        \\\"Date time of the last change to the date sampled field. This is used to determine the status of temporal predictors for the sample.\\\"\\n        sampleDateChanged: String\\n\\n        \\\"For quality assurance samples, this refers to the original sample being quality controlled.\\\"\\n        qaSampleId: Int\\n\\n        \\\"\\\"\\\"\\n        Miscellaneous information about stored as [JSON](https://namc-utah.github.io/namc-bug-db/API/metadata.html).\\n        Typically these values are used during scripting and automated processes.\\n        They also include some legacy information about the sample from the previous NAMC database.\\n        \\\"\\\"\\\"\\n        metadata: String\\n    }\\n\\n    type Site {\\n\\n        \\\"Database ID that uniquely identifies the site.\\\"\\n        siteId: Int\\n\\n        \\\"Unique name assigned to the site by NAMC\\\"\\n        siteName: String\\n\\n        \\\"System in which the site occurs (e.g. lake, pond, reservoir, spring, wetland).\\\"\\n        system: String\\n\\n        \\\"Ecosystem in which the site occurs (e.g. lotic, lentic, either)\\\"\\n        ecosystem: String\\n\\n        \\\"Longitude of the site in decimal degrees.\\\"\\n        longitude: Float\\n\\n        \\\"Latitude of the site in decimal degrees.\\\"\\n        latitude: Float\\n\\n        \\\"US state in which the site occurs.\\\"\\n        usState: String\\n\\n        \\\"Defines the dataset type of the waterbodyCode (e.g. NHDPlus, NHDPlusHR)\\\"\\n        waterbodyType: String\\n\\n        \\\"External identifier for the waterbody on which the site occurs (e.g. NHDPlusID for NHDPlusHR or COMID for NHDPlus)\\\"\\n        waterbodyCode: String\\n\\n        \\\"Name of the waterbody on which the site occurs.\\\"\\n        waterbodyName: String\\n\\n        \\\"Date and time that the site was added to the database.\\\"\\n        createdDate: String\\n\\n        \\\"Date and time that the site was last updated in the database.\\\"\\n        updatedDate: String\\n\\n        \\\"True if the site has a catchment polygon defined. Use the siteInfo API endpoint to retrieve the catchment polygon.\\\"\\n        hasCatchment: Boolean\\n    }\\n\\n\\\"\\\"\\\"\\nDetailed information about a single NAMC site.\\n\\nThis query includes the point and catchment geometries for the site.\\nIt also includes the number of samples available at a particular site.\\n\\nMore succinct information is available for all sites using the\\nsites API endpoint.\\n\\\"\\\"\\\"\\n    type SiteInfo {\\n        \\n        \\\"Unique database generated integer that uniquely identifies each site\\\"\\n        siteId: Int\\n\\n        \\\"Unique text identifier for each site\\\"\\n        siteName: String\\n        \\n        \\\"The ecological system (e.g. lake, pond, reservoir) in which the site is located.\\\"\\n        system: String\\n\\n        \\\"The ecosystem in which the site is located.\\\"\\n        ecosystem: String\\n\\n        \\\"[GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html) point location of the site in [EPSG:4326](https://epsg.io/4326) spatial reference.\\\"\\n        location: String\\n\\n        \\\"Longtidue of the site location in decimal degrees.\\\"\\n        longitude: Float\\n\\n        \\\"Latitude of the site location in decimal degrees.\\\"\\n        latitude: Float\\n\\n        \\\"US State in which the site is located.\\\"\\n        usState: String\\n\\n        \\\"\\\"\\\"\\n        If the site has a waterbody code, then the waterbody type identifies the system that\\n        this identifier pertains to. The waterbody type might be NHDPlus 1:100,000 or \\n        NHDPlusHR 1:24,000 etc.\\n        \\\"\\\"\\\"\\n        waterbodyType: String\\n\\n        \\\"\\\"\\\"\\n        The identifier of the waterbody on which this site occurs. Can be null. If a \\n        waterbody code exists, then the waterbodyType can be used to determine which\\n        system the code belongs to, such as NHDPlus or NHDPlusHR.\\n        \\\"\\\"\\\"\\n        waterbodyCode: String\\n\\n        \\\"The string name of the waterbody on which the site occurs. Typicall this is the stream name.\\\"\\n        waterbodyName: String\\n\\n        \\\"The latest date and time that either the site location (point) or catchment (polygon) were changed.\\\"\\n        geographyChanged: String\\n\\n        \\\"The system generated date and time that the site record was created in the database.\\\"\\n        createdDate: String\\n\\n        \\\"The system generated date and time that the site record was last changed in the database.\\\"\\n        updatedDate: String\\n\\n        \\\"[GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html) polygon of the upstream area that drains into this site in [EPSG:4326](https://epsg.io/4326) spatial reference.\\\"\\n        catchment: String\\n\\n        \\\"The number of samples that are available for this site.\\\"\\n        sampleCount: Int\\n    }\\n\\n    \\\"\\\"\\\"\\\"\\n    Raw summary of organisms for a single sample. The data are returned with their original\\n    laboratory taxonomic identification.\\n    \\\"\\\"\\\"\\n    type SampleTaxa {\\n\\n        \\\"Database ID of the sample.\\\"\\n        sampleId: Int\\n\\n        \\\"The taxon identified within the laboratory.\\\"\\n        taxonomyId: Int\\n\\n        \\\"The name of the taxa identified with the laboratory.\\\"\\n        scientificName: String\\n\\n        \\\"The taxonomic level of the taxa identified within the laboratory.\\\"\\n        levelId: Int\\n\\n        \\\"The taxonomic level of the taxa identified within the laboratory.\\\"\\n        levelName: String\\n\\n        \\\"Abundance for the specified taxa and lifestage. Raw organism count adjusted by lab and field splits.\\\"\\n        splitCount: Int\\n    }\\n    type SampleTaxaAttribute {\\n\\n        \\\"Database ID of the sample.\\\"\\n        sampleId: Int\\n\\n        \\\"The taxon identified within the laboratory.\\\"\\n        taxonomyId: Int\\n\\n        \\\"The name of the taxa identified with the laboratory.\\\"\\n        scientificName: String\\n\\n        \\\"Database ID that uniquely identifies the attribute definition.\\\"\\n        attributeId: Int\\n\\n        \\\"Attribute name, unique across all attributes in the database.\\\"\\n        attributeName: String\\n\\n        \\\"Attribute value, always stored as a string.\\\"\\n        attributeValue: String\\n    }\\n\\n    type SampleTaxaInfo {\\n\\n        \\\"Organism ID uniquely identifying the taxon, life stage, split count and bug size\\\"\\n        organismId: Int\\n\\n        \\\"Database ID of the sample.\\\"\\n        sampleId: Int\\n\\n        \\\"Current state of the box to which this sample is associated.\\\"\\n        boxState: String\\n\\n       \\\"The taxon identified within the laboratory.\\\"\\n        taxonomyId: Int\\n\\n        \\\"The name of the taxa identified with the laboratory.\\\"      \\n        scientificName: String\\n\\n        \\\"The taxonomic level of the taxa identified within the laboratory.\\\"\\n        levelId: Int\\n\\n        \\\"The taxonomic level of the taxa identified within the laboratory.\\\"   \\n        levelName: String\\n\\n        \\\"Phylum of the taxa\\\"\\n        phylum: String\\n\\n        \\\"Class of the taxa\\\"\\n        class: String\\n\\n        \\\"Order of the taxa\\\"\\n        order: String\\n\\n        \\\"Family of the taxa\\\"\\n        family: String\\n\\n        \\\"Subfamily of the taxa\\\"\\n        subFamily: String\\n\\n        \\\"Genus of the taxa\\\"\\n        genus: String\\n\\n        \\\"Species of the taxa\\\"\\n        species: String\\n        \\n        \\\"Database ID of the organism(s) life stage (e.g. lavae, pupae).\\\"\\n        lifeStageId: Int\\n\\n        \\\"Life stage of the organism(s) (e.g. lavae, pupae).\\\"\\n        lifeStage: String\\n\\n        \\\"Abbreviated life stage of the organism(s) (e.g. lavae, pupae).\\\"\\n        lifeStageAbbreviation: String\\n\\n        \\\"Organism length measured in millimeters (if measurements were collected).\\\"\\n        bugSize: Float\\n\\n        \\\"Raw organism count recorded in the laboratory.\\\"\\n        splitCount: Int\\n        \\n        \\\"Proporation of the sample processed in the laboratory as ratio (0-1).\\\"\\n        labSplit: Float\\n\\n        \\\"Proportion of the sample that was retained for laboratory processing as a ratio (0-1).\\\"\\n        fieldSplit: Float\\n\\n        \\\"The raw count corrected for lab and field split.\\\"\\n        correctedCount: Float\\n        \\n        \\\"The count of big rare organisms collected in the laboratory.\\\"\\n        bigRareCount: Int\\n\\n        \\\"Comma separated list of the notes recorded during lab processing.\\\"\\n        notes: String\\n\\n        noteTypeIds: [Int]\\n\\n        \\\"Free text comments about the organism record\\\"\\n        comments: String\\n    }\\n\\n    type BoxInfo {\\n\\n        \\\"Database ID that uniquely identifies the box.\\\"\\n        boxId:                  Int\\n\\n        \\\"Database ID that uniquely identifies the customer that submitted the box.\\\"\\n        customerId:             Int\\n\\n        \\\"Customer that submitted the box.\\\"\\n        customerName:           String\\n\\n        \\\"Abbreviated customer name that submitted the box.\\\"\\n        customerAbbreviation:   String\\n\\n        \\\"Database ID that uniquely identifies the person that submitted the box.\\\"\\n        submitterId:            Int\\n\\n        \\\"Name of the person that submitted the box.\\\"\\n        submittedBy:            String\\n\\n        \\\"Database ID that identifies the current state of the box (e.g. waiting, hold, active, complete).\\\"\\n        boxStateId:             Int\\n\\n        \\\"Current state of the box (e.g. waiting, hold, active, complete).\\\"\\n        boxState:               String\\n\\n        \\\"Date that the box was received.\\\"\\n        boxReceivedDate:        String\\n\\n        \\\"Date that box processing was completed.\\\"\\n        processingCompleteDate: String\\n        \\n        \\\"Anticipated date that box processing will be complete.\\\"\\n        projectedCompleteDate:  String\\n\\n        \\\"Calculated number of samples associated with the box.\\\"\\n        sampleCount:            Int\\n\\n        \\\"Descriptive information about the box.\\\"\\n        description:            String\\n\\n        \\\"Miscellaneous information about stored as [JSON](https://namc-utah.github.io/namc-bug-db/API/metadata.html). Typically used during scripting and automated processes.\\\"\\n        metadata:               String\\n\\n        \\\"True if bug sizes are to be recorded when processing the box samples.\\\"\\n        measurements:           Boolean\\n\\n        \\\"True if this box is for quality assurance purposes.\\\"\\n        sorterQa:               Boolean\\n\\n        \\\"True if this box is for quality assurance purposes.\\\"\\n        taxaQa:                 Boolean\\n\\n        \\\"Date and time that the box was added to the system.\\\"\\n        createdDate:            String\\n\\n        \\\"Date and time that the box information was last updated.\\\"\\n        updatedDate:            String\\n    }\\n\\n    type SamplePredictorValue {\\n\\n        \\\"Database ID that uniquely identifies the predictor.\\\"\\n        predictorId:                 Int\\n\\n        \\\"Predictor abbreviated name (unique across all predictors).\\\"\\n        abbreviation:                 String\\n\\n        \\\"Name of the R script/function used to calculate predictor values.\\\"\\n        calculationScript:           String\\n\\n        \\\"\\\"\\\"\\n        True indicates sample predictors where values vary by sample date.\\n        False indicates site predictors that possess a single value for the site and that do not vary by sample date.\\n        \\\"\\\"\\\"\\n        isTemporal:                  Boolean\\n\\n        \\\"Miscellaneous information about stored as [JSON](https://namc-utah.github.io/namc-bug-db/API/metadata.html). Typically used during scripting and automated processes.\\\"\\n        predictorMetadata:           String\\n\\n        \\\"Floating point predictor value returned in string format.\\\"\\n        predictorValue:              String\\n\\n        \\\"Date and time that the predictor value was last changed.\\\"\\n        predictorValueUpdatedDate: String\\n\\n        \\\"\\\"\\\"\\n        Predictor value status:\\n        Missing indicates that the predictor value has never been calculated.\\n        Expired indicates that the predictor value requires recalculation because either the sample date has changed or the site location has changed.\\n        Valid indicates that the predictor value exists and does not require recalculation.\\n        \\\"\\\"\\\"\\n        status:                       String\\n}\\n\\ntype PlanktonSample {\\n\\n    \\\"Database ID that uniquely identifies the sample.\\\"\\n    sampleId:        Int\\n\\n    \\\"Diameter of the sampled area in metres.\\\"\\n    diameter:        Float\\n\\n    \\\"TODO\\\"\\n    subSampleCount:  Int\\n\\n    \\\"Tow lenth in metres\\\"\\n    towLength:       Float\\n\\n    \\\"volume of material in metres cubed.\\\"\\n    volume:          Float\\n\\n    \\\"Aliquot in milliliters\\\"\\n    aliquot:         Float\\n\\n    \\\"Size interval in millimeters\\\"\\n    sizeInterval:    Float\\n\\n    \\\"The two type (e.g. vertical, horizontal)\\\"\\n    towType:         String\\n\\n    \\\"Date and time that the plankton sample was last updated.\\\"\\n    updatedDate:     String\\n}\\n\\ntype DriftSample {\\n\\n    \\\"Database ID that uniquely identifies the sample.\\\"\\n    sampleId:    Int\\n\\n    \\\"Area of the net in meters squared.\\\"\\n    netArea:     Float\\n\\n    \\\"Duration that the net was in the water, recorded in hours.\\\"\\n    netDuration: Float\\n\\n    \\\"Stream depth measured in meters.\\\"\\n    streamDepth: Float\\n\\n    \\\"Net depth measurement in meters.\\\"\\n    netDepth:    Float\\n\\n    \\\"Net velocity in meters per second.\\\"\\n    netVelocity: Float\\n\\n    \\\"Date and time that the plankton sample was last updated.\\\"\\n    updatedDate: String\\n}\\n\\ntype FishSample {\\n\\n    \\\"Database ID that uniquely identifies the sample.\\\"\\n    sampleId: Int\\n\\n    \\\"Database ID identifying the fish taxon.\\\"\\n    taxonomyId: Int\\n\\n    \\\"Scientific name of the fish taxon.\\\"\\n    scientificName: String\\n\\n    \\\"Database ID identifying the taxonomic level of the fish.\\\"\\n    levelId: Int\\n\\n    \\\"Name of the taxonomic level of the fish.\\\"\\n    levelName: String\\n\\n    \\\"Length of the fish in TODO.\\\"\\n    fishLength: Float\\n\\n    \\\"Mass of the fish in grams.\\\"\\n    fishMass: Float\\n\\n    \\\"Date and time that the plankton sample was last updated.\\\"\\n    updatedDate: String\\n}\\n\\ntype MassSample {\\n \\n    \\\"Database ID that uniquely identifies the sample.\\\"\\n    sampleId: Int\\n\\n    \\\"Database ID that uniquely identifies the mass type\\\"\\n    typeId: Int\\n\\n    \\\"Abbreviated name of the mass type (e.g. FPOM, CPOM, Total)\\\"\\n    typeAbbreviation: String\\n\\n    \\\"Full name of the mass type collected (e.g. Fine Particulate Matter, Total)\\\"\\n    typeName: String\\n\\n    \\\"Database that uniquely identifies the method used to collected the mass measurement\\\"\\n    methodId: Int\\n\\n    \\\"Abbreviated name of the method used to collect the mass measurement (e.g. AFDM, Dried, Blotted)\\\"\\n    methodAbbreviation: String\\n\\n    \\\"Full name of the method used to collect the mass measurement (e.g. Ash Free Dried Matter, Dried, Blotted)\\\"\\n    methodName: String\\n\\n    \\\"Measurement mass in grams.\\\"\\n    mass: Float\\n\\n    \\\"Date and time that the plankton sample was last updated.\\\"\\n    updatedDate: String\\n}\\n\\ntype ModelResult {\\n\\n    \\\"Database ID that uniquely identifies the sample.\\\"   \\n    sampleId: Int\\n\\n    \\\"Database ID that uniquely identifies the site at which the sample was collected.\\\"\\n    siteId:      Int\\n\\n    \\\"Name of the site at which the sample was collected.\\\"\\n    siteName:    String\\n\\n    \\\"Database ID that uniquely identifies the model to which the result pertains.\\\"\\n    modelId:     Int\\n\\n    \\\"Full name of the model to which the result pertains.\\\"\\n    modelName: String\\n\\n    \\\"Version of the model that was used to generate the result (e.g. 1.2.3).\\\"\\n    modelVersion: String\\n\\n    \\\"The model result value.\\\"\\n    modelResult: Float\\n\\n    \\\"The model condition obtained by the model result. See the modelConditions API endpoint for all possible conditions for a specific model.\\\"\\n    condition: String\\n\\n    \\\"Fixed count used for rarefaction during model calculation.\\\"\\n    fixCount: Int\\n\\n    \\\"Miscellaneous notes provided by the analyst that performed the model calculation.\\\"\\n    notes: String\\n\\n    \\\"Miscellaneous information about stored as [JSON](https://namc-utah.github.io/namc-bug-db/API/metadata.html). Typically used during scripting and automated processes.\\\"\\n    metadata: String\\n\\n    \\\"Date and time that the model result was added to the database.\\\"\\n    createdDate: String\\n\\n    \\\"Date and time that the model result was last updated in the database.\\\"\\n    updatedDate: String\\n}\\n\\n# type FishDiet {\\n#     sampleId:            Int\\n#     sampleDate:          String\\n#     siteId:              Int\\n#     siteName:            String\\n#     fishWeight:          Float\\n#     fishLength:          Float\\n#     fishTaxonomyId:     Int\\n#     fishScientificName: String\\n#     notes:                String\\n#     metadata:             String\\n#     organicWeight:       Float\\n#     inorganicWeight:     Float\\n#     otherWeight:         Float\\n#     createdDate:         String\\n#     updatedDate:         String\\n#     taxonomyId:          Int\\n#     scientificName:      String\\n#     lifeStageId:        Int\\n#     lifeStage: String\\n#     count:                Float\\n#     weight:               Float\\n# }\\n\\n\\n    #  type Individual {\\n    #     entityId: Int\\n    #     firstName: String\\n    #     lastName: String\\n    #     initials: String\\n    #     affilitationId: Int\\n    #     affiliation: String\\n    #     email: String\\n    #     title: String\\n    #     address1: String\\n    #     address2: String\\n    #     city: String\\n    #     stateName: String\\n    #     countryName: String\\n    #     zipCode: String\\n    #     phone: String\\n    #     fax: String\\n    # }\\n\\n    type Box {\\n        boxId: Int\\n        customerId: Int\\n        customerName: String\\n        submitterId: Int\\n        submittedBy: String\\n        boxState: String\\n        boxReceivedDate: String\\n        sampleCount: Int\\n        processingCompleteDate: String\\n        projectedCompleteDate: String\\n    }\\n\\n    type Project {\\n\\n        \\\"Database ID that uniquely identifies the project.\\\"\\n        projectId: Int\\n\\n        \\\"Unique name for the project.\\\"\\n        projectName: String\\n\\n        \\\"Not currently used. All projects are currently public and visible to all users.\\\"\\n        isPrivate: Boolean\\n\\n        \\\"Database ID of the person who created the project.\\\"\\n        contactId: Int\\n        \\n        \\\"Full name of the person who created the project.\\\"\\n        contactName: String\\n\\n        \\\"Miscellaneous information about the project.\\\"\\n        description: String\\n\\n        \\\"Number of samples currently associated with a project.\\\"\\n        sampleCount: Int\\n\\n        \\\"Number of models currently associated with the project.\\\"\\n        modelCount: Int\\n\\n        \\\"Date and time that the project was created.\\\"\\n        createdDate: String\\n\\n        \\\"Date and time that the basic project information was last updated. This does not reflect the addition or removal of samples.\\\"\\n        updatedDate: String\\n    }\\n\\n    type Taxonomy {\\n\\n        \\\"Database ID that uniquely identifies the taxon.\\\"\\n        taxonomyId: Int\\n\\n        \\\"Current NAMC laboratory scientic name for the taxon. Scientific names are unique across all taxa.\\\"\\n        scientificName: String\\n\\n        \\\"Database ID that identifies the taxonomic level of the taxon.\\\"\\n        levelId: Int\\n\\n        \\\"Taxonomic level of the taxon.\\\"\\n        levelName: String\\n\\n        synonyms: String\\n\\n        \\\"True if the taxon is at or below the level of effort required by the lab (e.g. genus or species). Or False for taxa above that level.\\\"\\n        isTargetEffort: Boolean\\n        \\n        \\\"Database ID of the parent of this taxon in the NAMC taxonomic hierarchy.\\\"\\n        parentTaxonomyId: Int\\n\\n        \\\"Scientific name of the parent of this taxon in the NAMC taxonomic hierarchy.\\\"\\n        parentScientificName: String\\n\\n        \\\"Database ID of the taxonomic level of the parent in the NAMC taxonomic hierarchy.\\\"\\n        parentLevelId: Int\\n\\n        \\\"Taxonomic level of the parent of this taxon in the NAMC taxonomic hierarchy.\\\"\\n        parentLevelName: String\\n\\n        \\\"Miscellaneous notes about the taxon.\\\"\\n        notes: String\\n\\n        \\\"Miscellaneous information about stored as [JSON](https://namc-utah.github.io/namc-bug-db/API/metadata.html). Typically used during scripting and automated processes.\\\"\\n        metadata: String\\n\\n        \\\"Date and time that this taxon was added to the database.\\\"\\n        createdDate: String\\n\\n        \\\"Date and time that this taxon was last updated in the database.\\\"\\n        updatedDate: String\\n    }\\n\\n    type TaxonomyTree {\\n\\n        \\\"Database ID that uniquely identifies the taxon.\\\"\\n        taxonomyId: Int\\n\\n        \\\"Current NAMC laboratory scientic name for the taxon. Scientific names are unique across all taxa.\\\"\\n        scientificName: String\\n\\n        \\\"Database ID that identifies the taxonomic level of the taxon.\\\"\\n        levelId: Int\\n\\n        \\\"Taxonomic level of the taxon.\\\"\\n        levelName: String\\n\\n        \\\"Database ID of the parent of this taxon in the NAMC taxonomic hierarchy.\\\"\\n        parentId: Int\\n    }\\n\\n    type Model {\\n\\n        \\\"Database ID that uniquely identifies the model.\\\"\\n        modelId: Int\\n\\n        \\\"Full name of the model, unique across all models.\\\"\\n        modelName: String\\n\\n        \\\"Abbreviated name of the model, unique across all models.\\\"\\n        abbreviation: String\\n\\n        \\\"True indicates that the model is in active use. False indicates a deprecated model.\\\"\\n        isActive: Boolean\\n\\n        \\\"Miscellaneous information about the model.\\\"\\n        description: String\\n\\n        \\\"Number of predictors currently associated with the model. Use the predictors API endpoint for a list of the predictors associated with each model.\\\"\\n        predictorCount: Int\\n    }\\n\\n    type ModelInfo {\\n        \\\"Database ID that uniquely identifies the model.\\\"\\n        modelId: Int\\n\\n        \\\"Full name of the model, unique across all models.\\\"\\n        modelName: String\\n\\n        \\\"Abbreviated name of the model, unique across all models.\\\"\\n        abbreviation: String\\n\\n        \\\"Model type (e.g. OE, MMI, hybrid, measurement).\\\"\\n        modelType: String\\n\\n        \\\"Model type abbreviation\\\"\\n        modelTypeAbbreviation: String\\n\\n        \\\"Database ID identifying the translation (OTU) used by the model.\\\"\\n        translationId: Int\\n\\n        \\\"Name of the translation (OTU) used by the model.\\\"\\n        translation: String\\n\\n        \\\"Description of the geographic extent to which the model applies.\\\"\\n        extentDescription: String\\n\\n        \\\"Platform on which the model runs (e.g. R, MS Access).\\\"\\n        platform: String\\n\\n        \\\"Number of reference sites used to build the model.\\\"\\n        referenceSites: Int\\n\\n        \\\"TODO\\\"\\n        groupCount: Int\\n\\n        \\\"Minimum organisms required to run the model.\\\"\\n        minimumCount: Int\\n\\n        \\\"TODO\\\"\\n        oeMean: Float\\n\\n        \\\"TODO\\\"\\n        oeStdev: Float\\n\\n        \\\"TODO\\\"\\n        taxonomicEffort: String\\n\\n        \\\"True indicates the model is in active use. False indicates a deprecated model.\\\"\\n        isActive: Boolean\\n\\n        \\\"Fixed total number of organisms used to run the model.\\\"\\n        fixedCount: Int\\n\\n        \\\"Units of the model result.\\\"\\n        units: String\\n\\n        \\\"Miscellaneous information about the model.\\\"\\n        description: String\\n\\n        \\\"Miscellaneous information about stored as [JSON](https://namc-utah.github.io/namc-bug-db/API/metadata.html). Typically used during scripting and automated processes.\\\"\\n        metadata: String\\n\\n        \\\"Number of predictors currently associated with the model.\\\"\\n        predictorCount: Int\\n\\n        \\\"Date and time that the model was added to the database.\\\"\\n        createdDate: String\\n\\n        \\\"Date and time that the model was last updated in the database.\\\"\\n        updatedDate: String\\n\\n        \\\"The polygon, in [GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html) format, that defines the geographic extent that the model applies to.\\\"\\n        extent: String\\n    }\\n\\n    type ModelCondition {\\n\\n        \\\"Database ID that uniquely identifies the model.\\\"\\n        modelId: Int\\n\\n        \\\"Database ID that uniquely identifies the condition for the specified model.\\\"\\n        conditionId: Int\\n\\n        \\\"Name of the condition. Must be unique across all conditions for a single model.\\\"\\n        condition: String\\n\\n        \\\"Display text for the model condition.\\\"\\n        displayText: String\\n\\n        \\\"Standardized text for the model condition\\\"\\n        standardDisplayText: String\\n\\n        \\\"Miscellaneous information about the model condition.\\\"\\n        description: String\\n    }\\n\\n    type Metric {\\n\\n        \\\"Database ID that uniquely identifies the metric.\\\"\\n        metricId: Int\\n\\n        \\\"Unique metrics name.\\\"\\n        metricName: String\\n\\n        \\\"Metric abbreviation\\\"\\n        abbreviation: String\\n\\n        \\\"Display name for the metric used in reports. If null, then the metricName is used instead.\\\"\\n        displayText: String\\n\\n        \\\"Database ID of the group in which the metric appears in reports.\\\"\\n        metricGroupId: Int\\n\\n        \\\"Name of the group in which the metric appears in reports.\\\"\\n        metricGroupName: String\\n\\n        \\\"Name of the database stored procedure that calculates the metric value.\\\"\\n        codeFunction: String\\n\\n        \\\"Whether the metric involves filtering by taxonomy, attribute or no filtering.\\\"\\n        filtering: String\\n        \\n        \\\"True indicates that the metric requires rarefied data. False indicates that the metric uses raw laboratory organism counts.\\\"\\n        isStandardized: Boolean\\n\\n        \\\"The direction that indicates an improvement in conditions (e.g. Increases, Decreases, Increase or Decrease, Variable).\\\"\\n        perturbDirection: String\\n\\n        \\\"Miscellaneous information about the metric.\\\"\\n        description: String\\n\\n        \\\"Date and time that the metric definition was added to the database.\\\"\\n        createdDate: String\\n\\n        \\\"Date and time that the metric definition was last updated in the database.\\\"\\n        updatedDate: String\\n    }\\n\\n    \\\"\\\"\\\"\\n    The value of a non-temporal predictor for a particular site.\\n    \\\"\\\"\\\"\\n    type SitePredictorValue {\\n\\n        \\\"Database ID that uniquely identifies the predictor.\\\"\\n        predictorId: Int\\n\\n        \\\"Predictor name, unique across all predictors.\\\"\\n        predictorName: String\\n\\n        \\\"The unique shorthand abbreviation for the predictor.\\\"\\n        abbreviation: String\\n\\n        \\\"Miscellaneous information about the predictor.\\\"\\n        description: String\\n\\n        \\\"The predictor type (e.g. metrics, atmosphere, geology, anthro).\\\"\\n        predictorType: String\\n\\n        \\\"\\\"\\\"\\n        The predictor value for this site. The value is always a string, even\\n        if it represents an integer or floating point value.\\n        \\\"\\\"\\\"\\n        predictorValue: String\\n\\n        \\\"Date and time that the predictor value was added to the database.\\\"\\n        createdDate: String\\n\\n        \\\"Date and time that the predictor value was last updated.\\\"\\n        updatedDate: String\\n\\n        \\\"Optional name of the R function that performs the calculation for this predictor.\\\"\\n        calculationScript: String\\n    }\\n\\n    \\\"\\\"\\\"\\n    Information about a predictor.\\n\\n    Each predictor can be associated with multiple models. Predictors can also\\n    be temporal, in which their values are associated with a particular sample,\\n    or they can be non-temporal, in which case their values are associated with\\n    sites.\\n    \\\"\\\"\\\"\\n    type Predictor {\\n\\n        \\\"Database ID that uniquely identifies the predictor.\\\"\\n        predictorId: Int\\n\\n        \\\"Predictor name, unique across all predictors in the system.\\\"\\n        predictorName: String\\n\\n        \\\"Abbreviated predictor name, unique across all predictors in the system.\\\"\\n        abbreviation: String\\n\\n        \\\"Units in which the predictor values are stored.\\\"\\n        units: String\\n\\n       \\\"Predictor type (e.g. metrics, atmosphere, geology, anthro).\\\"\\n        predictorType: String\\n\\n        \\\"\\\"\\\"\\n        Boolean representing whether the predictor varies over time or whether\\n        there is just a single value for the site. True indicates that the predictor\\n        is temporal and values are stored for each sample. False indicates that there\\n        is only one predictor value for each site.\\n        \\\"\\\"\\\"\\n        isTemporal: Boolean\\n\\n        \\\"Miscellaneous information about the predictor.\\\"\\n        description: String\\n\\n        \\\"Miscellaneous information about stored as [JSON](https://namc-utah.github.io/namc-bug-db/API/metadata.html). Typically used during scripting and automated processes.\\\"\\n        metadata: String\\n\\n        \\\"The number of models that currently use the predictor\\\"\\n        modelCount: Int\\n\\n        \\\"Date and time that the predictor was added to the database.\\\"\\n        createdDate: String\\n\\n        \\\"Date and time that the predictor was last updated in the database.\\\"\\n        updatedDate: String\\n\\n        \\\"Optional name of the R function that performs the calculation for this predictor.\\\"\\n        calculationScript: String\\n\\n        \\\"Source information about the predictor.\\\"\\n        source: String\\n    }\\n\\n    type Translation {\\n\\n        \\\"Database ID that uniquely identifies the translation (OTU).\\\"\\n        translationId: Int\\n\\n        \\\"Translation (OTU) name, unique across all translations in the system.\\\"\\n        translationName: String\\n\\n        \\\"Miscellaneous information about the translation.\\\"\\n        description: String\\n\\n        \\\"True indicates that the translation is in active use. False indicates that the translation has been deprecated.\\\"\\n        isActive: Boolean\\n\\n        \\\"Current number of taxa associated with the translation. See [translation](https://namc-utah.github.io/namc-bug-db/Technical_Reference/translations.html) for more information.\\\"\\n        taxaCount: Int\\n\\n        \\\"Date and time that the translation was added to the database.\\\"\\n        createdDate: String\\n\\n        \\\"Date and time that the translation was last updated in the database.\\\"\\n        updatedDate: String\\n    }\\n\\n    type TranslationTaxa {\\n\\n        \\\"Database ID of the translation (OTU) that this taxon appears in.\\\"\\n        translationId: Int\\n\\n        \\\"Name of the translation (OTU) that this taxon appears in.\\\"\\n        translationName: String\\n\\n        \\\"Database ID of the taxon that appears in the translation.\\\"\\n        taxonomyId: Int\\n\\n        \\\"Database ID of the taxonomic level for the taxon.\\\"\\n        levelId: Int\\n\\n        \\\"Taxonomic level of the taxon in the NAMC taxonomic hierarchy.\\\"\\n        levelName: String\\n\\n        \\\"NAMC scientific name for the taxon. This is the current scientific name used by taxonomists in the NAMC laboratory.\\\"\\n        originalScientificName: String\\n\\n        \\\"\\\"\\\"\\n        The name used for the taxon within the translation (OTU).\\n        This might be the same as the NAMC scientific name, or it might be an alias, specific to the OTU.\\n        \\\"\\\"\\\"\\n        translationScientificName: String\\n\\n        \\\"\\\"\\\"\\n        True indicates that the taxon is part of the final set of taxa used to calibrate the model.\\n        False indicates that the taxon was part of the larger set initially identified during model development.\\n        \\\"\\\"\\\"\\n        isFinal: Boolean\\n    }\\n\\n    type Attribute {\\n\\n        \\\"Database ID that uniquely identifies the attribute definition.\\\"\\n        attributeId: Int\\n\\n        \\\"Attribute name, unique across all attributes in the database.\\\"\\n        attributeName: String\\n\\n        \\\"TODO (they are all Unknown in the SLQ file) Attribute type (e.g. )\\\"\\n        attributeType: String\\n\\n        \\\"Display label used for the attribute in reports\\\"\\n        label: String\\n\\n        \\\"Miscellaneous information about the attribute.\\\"\\n        description: String\\n\\n        \\\"Miscellaneous information about stored as [JSON](https://namc-utah.github.io/namc-bug-db/API/metadata.html). Typically used during scripting and automated processes.\\\"\\n        metadata: String\\n\\n        \\\"Date and time that the attribute was added to the database.\\\"\\n        createdDate: String\\n\\n        \\\"Date and time that the attribute was last updated in the database.\\\"\\n        updatedDate: String\\n    }\\n\\n    type AttributeValue {\\n\\n        \\\"Database ID of the taxon to which this attribute value applies.\\\"\\n        taxonomyId: Int\\n\\n        \\\"Current scientific name for the taxon to which this attribute value applies.\\\"\\n        scientificName: String\\n\\n        \\\"Database ID of the taxonomic level for the taxon.\\\"\\n        levelId:  Int\\n\\n        \\\"Taxonomic level of the taxon to which this attribute value applies.\\\"\\n        levelName:  String\\n\\n        \\\"Attribute name.\\\"\\n        attributeName: String\\n\\n        \\\"Attribute type TODO (currently all Unknown)\\\"\\n        attributeType: String\\n\\n        \\\"Display label name for the attribute.\\\"\\n        label: String\\n\\n        \\\"Attribute value, always stored as a string.\\\"\\n        attributeValue: String\\n    }\\n\\n    type MetricResult  {\\n\\n        \\\"Database ID that identifies the sample.\\\"\\n        sampleId:    Int\\n\\n        \\\"Database ID that identifies the metric group for organizing metrics in reports.\\\"\\n        metricGroupId:     Int\\n\\n        \\\"Metric group name used for organizing metrics in reports.\\\"\\n        metricGroupName:   String\\n\\n        \\\"Database ID that identifies the metric.\\\"\\n        metricId:    Int\\n\\n        \\\"Metric name.\\\"\\n        metricName:  String\\n\\n        \\\"Shortened metric abbreviation\\\"\\n        metricAbbreviation: String\\n\\n        \\\"Metric value, always represented as a string.\\\"\\n        metricValue: String\\n  }\\n  # TODO: Eventually this should implement Entity but check for R problems firs\\n  # type Organization implements Entity{\\n  type Organization {\\n\\n        \\\"Database ID that uniquely identifies the organization.\\\"\\n        entityId: Int\\n\\n        \\\"Organization name, unique across all organizations in the database.\\\"\\n        organizationName: String\\n\\n        \\\"Organization Type (e.g. federal, tribe, university, other, private, state, international).\\\"\\n        organizationType: String\\n\\n        \\\"True if the organization is a laboratory.\\\"\\n        isLab: Boolean\\n\\n        \\\"Street address line 1.\\\"\\n        address1: String\\n\\n        \\\"Street address line 2.\\\"\\n        address2: String\\n\\n        \\\"City.\\\"\\n        city: String\\n\\n        \\\"US State. Null for international organizations.\\\"\\n        usState: String\\n\\n        \\\"Country.\\\"\\n        country: String\\n\\n        \\\"Postal code.\\\"\\n        zipCode: String\\n\\n        \\\"Telephone number with area code. Format (xxx) xxx-xxxx\\\"\\n        phone: String\\n\\n        \\\"Fax number. Format (xxx) xxx-xxxx\\\"\\n        fax: String\\n\\n        \\\"Organization's website URL. Includes the http:// or https:// prefix.\\\"\\n        website: String\\n\\n        \\\"Miscellaneous information about the organization.\\\"\\n        notes: String\\n\\n        \\\"Miscellaneous information about stored as [JSON](https://namc-utah.github.io/namc-bug-db/API/metadata.html). Typically used during scripting and automated processes.\\\"\\n        metadata: String\\n\\n        \\\"Date and time that the organization was added to the database.\\\"\\n        createdDate: String\\n\\n        \\\"Date and time that the organization was last updated in the database.\\\"\\n        updatedDate: String\\n    }\\n\\n\\n    # Pagination Types\\n  \\n    type PaginatedModels {\\n        records: [Model]\\n        nextOffset: Int\\n    }\\n    type PaginatedSites {\\n        records: [Site]\\n        nextOffset: Int\\n    }\\n    type PaginatedSamples {\\n        records: [Sample]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedBoxes {\\n        records: [Box]\\n        nextOffset: Int\\n    }\\n    type PaginatedProjects {\\n        records: [Project]\\n        nextOffset: Int\\n    }\\n    type PaginatedTaxonomies {\\n        records: [Taxonomy]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedTaxonomyTree {\\n        records: [TaxonomyTree]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedPredictors {\\n        records: [Predictor]\\n        nextOffset: Int\\n    }\\n    type PaginatedSitePredictorValues {\\n        records: [SitePredictorValue]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedSamplePredictorValue {\\n        records: [SamplePredictorValue]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedTranslations {\\n        records: [Translation]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedTranslationTaxa {\\n        records: [TranslationTaxa]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedSampleTaxa {\\n        records: [SampleTaxa]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedSampleTaxaInfo {\\n        records: [SampleTaxaInfo]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedSampleTaxaAttribute {\\n        records: [SampleTaxaAttribute]\\n        nextOffset: Int\\n    }    \\n\\n    type PaginatedPlankton {\\n        records: [PlanktonSample]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedDrift {\\n        records: [DriftSample]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedFish {\\n        records: [FishSample]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedMass {\\n        records: [MassSample]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedAttributes {\\n        records: [Attribute]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedAttributeValues {\\n        records: [AttributeValue]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedModelConditions {\\n        records: [ModelCondition]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedMetrics {\\n        records: [Metric]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedMetricResult {\\n        records: [MetricResult]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedModelResult {\\n        records: [ModelResult]\\n        nextOffset: Int\\n    }\\n\\n    # type PaginatedFishDiet {\\n    #     records: [FishDiet]\\n    #     nextOffset: Int\\n    # }\\n\\n    type PaginatedOrganizations {\\n        records: [Organization]\\n        nextOffset: Int\\n    }\\n\\n\\n    interface Entity {\\n      \", \"\\n    }\\n\\n    # A user is like an individual but we're leaving that type alone for now\\n    type Profile implements Entity{\\n      id: Int!\\n      firstName: String!\\n      lastName: String!\\n      initials: String\\n      email: String\\n      title: String\\n      organizationName: String\\n      permissions: JSONObject\\n      \", \"\\n    }\\n\\n    type SortingUser {\\n      id: ID!\\n      firstName: String!\\n      lastName: String!\\n      title: String\\n      organizationName: String\\n    }\\n\\n    \", \"\\n\"], [\"\\n\\n    scalar JSONObject\\n\\n    schema {\\n        query: Query\\n        mutation: Mutation\\n    }\\n\\n    type Query {\\n        # Get a project and associated metadata\\n        auth: AuthParams\\n\\n        lookups: Lookups\\n\\n        \\\"API endpoint that calls entity.fn_organization_search\\\"\\n        organizations(limit: Int = \", \", offset: Int = 0, searchTerm: String): PaginatedOrganizations\\n\\n        ####################################################################################################################################################################################\\n        # Geo queries\\n\\n        \\\"Detailed information about a single site. Includes the point location and upstream catchment geometries as [GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html).\\\"\\n        siteInfo(siteId: Int!): SiteInfo\\n\\n        \\\"Detailed information about a single model, including the number of predictors associated with the model.\\\"\\n        modelInfo(modelId: Int!): ModelInfo\\n\\n        \\\"List of all model conditions (e.g. good, fair, poor) for a particular model\\\"\\n        modelConditions(modelId: Int!): PaginatedModelConditions\\n\\n        ####################################################################################################################################################################################\\n        # Sample queries\\n\\n        \\\"Detailed information about a single box, including information about the customer and number of samples associated with the box.\\\"\\n        boxInfo(boxId: Int!): BoxInfo\\n\\n        \\\"\\\"\\\"\\n        The samples API endpoint returns a set of samples that satisfty one of the mandatory arguments.\\n\\n        The samples API endpoint returns a set of samples that satisfty one of the mandatory arguments. You can request all samples associated with one or more boxes, or all samples belonging to a particular customer or project.\\n\\n        Note that samples associated with completed boxes should have the same sample ID in the new database as they had in the Pilot database. However, any samples associated with boxes that were incomplete at the time of the data migration are assigned new sample IDs in the new database; they will not match those in either BugLab or Pilot.\\n        \\n        **You must provide exactly one of the arguments**, either a list of sample IDs, box IDs, entity IDs, site IDs, a polygon or a point and distance.\\n        You will get an error if you fail to provide at least one of these arguments!\\n        You also can't provide multiple arguments (i.e. both sample IDs and box IDs).\\n        And finally, you can't provide an empty list of IDs.\\n        \\\"\\\"\\\"\\n        samples(limit: Int = \", \", offset: Int = 0 , \\n        \\n            \\\"List of integer sample IDs.\\\"\\n            sampleIds: [Int], \\n            \\n            \\\"List of integer box IDs. Returns all samples associated with the specified box(es).\\\"\\n            boxIds: [Int],\\n            \\n            \\\"List of integer project IDs. Returns all samples associated with the specified project(s).\\\"\\n            projectIds: [Int],\\n            \\n            \\\"List of integer customer IDs. Returns all samples belonging to the customer(s). Note that customer organizations are hierarchical. If you provide the customer ID for the BLM you will get back all samples for the entire BLM (i.e. all states and all field offices). If you provide the customer ID for the Colorado BLM you will get back all samples belonging to field offices within the state of Colorado.\\\"\\n            entityIds: [Int],\\n            \\n            \\\"List of integer site IDs. Returns all samples collected at the site(s).\\\"\\n            siteIds: [Int],\\n            \\n            \\\"[GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html) polygon. Returns all samples collected at sites within the polygon.\\\"\\n            polygon: String,\\n            \\n            \\\"Point defined as latitude and longitude in decimal degrees) and distance (meters). Returns all samples collected within the specified distance of the point.\\\"\\n            pointDistance: QueryDistance\\n        \\n        ): PaginatedSamples\\n        \\\"\\\"\\\"\\n        Summary information for all sites, including location coordinates and number of samples.\\n        Use the siteInfo query to get more detailed information about a single site, including the catchment as a [GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html) polygon.\\n        \\n        The sites returned in this query are the official NAMC sites. If you want the actual locations of sites at which\\n        samples were collected then use the samples API endpoint and the customerLocation fields. \\n        \\\"\\\"\\\"\\n        sites(limit: Int = \", \", offset: Int = 0, \\n        \\n            \\\"Two letter abbreviation of the US State. Returns all sites within the state.\\\"\\n            usState: [String],\\n            \\n            \\\"List of integer sample IDs. Returns the list of sites for the sample(s).\\\"\\n            sampleIds: [Int],\\n            \\n            \\\"List of integer Box IDs. Returns the sites at which samples within the box(es) were collected.\\\"\\n            boxIds: [Int],\\n            \\n            \\\"List of integer project IDs. Returns the sites at which samples within the project(s) were collected.\\\"\\n            projectIds: [Int],\\n            \\n            \\\"List of integer customer IDs. Returns all samples belonging to the customer(s). Note that customer organizations are hierarchical. If you provide the customer ID for the BLM you will get back all samples for the entire BLM (i.e. all states and all field offices). If you provide the customer ID for the Colorado BLM you will get back all samples belonging to field offices within the state of Colorado.\\\"\\n            entityIds: [Int],\\n            \\n            \\\"List of integer site IDs. Returns the specified sites.\\\"\\n            siteIds: [Int], \\n            \\n            \\\"[GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html) polygon. Returns all sites within the polygon.\\\"\\n            polygon: String,\\n            \\n            \\\"Point defined as latitude and longitude in decimal degrees) and distance (meters). Returns all sites within the specified distance of the point.\\\"\\n            pointDistance: QueryDistance\\n        \\n        ): PaginatedSites\\n        \\n        \\\"\\\"\\\"\\n        The boxes API endpoint returns a set of boxes that satisfty one of the mandatory arguments.\\n        You can request boxes by specifying a list of box IDs, or by specifying a list of customers.\\n\\n        Note that Box IDs are retained from the old NAMC database.\\n        A box with a specific ID in either the BugLab or Pilot database should have the same ID in the new database.\\n        \\\"\\\"\\\"\\n        boxes(limit: Int = \", \", offset: Int = 0,\\n        \\n            \\\"List of integer box IDs. Returns the specified box(es).\\\"\\n            boxIds: [Int],\\n            \\n            \\\"List of integer customer IDs. Returns all boxes belonging to the customer(s). Note that customer organizations are hierarchical. If you provide the customer ID for the BLM you will get back all samples for the entire BLM (i.e. all states and all field offices). If you provide the customer ID for the Colorado BLM you will get back all samples belonging to field offices within the state of Colorado.\\\"\\n            entityIds: [Int]\\n        \\n        ): PaginatedBoxes\\n\\n        \\\"\\\"\\\"\\n        The projects API endpoint returns a set of all projects in the database.\\n        Projects are intended to be flexible containers that make it easy to work with custom collections of samples.\\n        API users can create projects, add and remove samples to a project.\\n        Each sample can be associated with multiple projects. \\n        \\\"\\\"\\\"\\n        projects(limit: Int = \", \", offset: Int = 0): PaginatedProjects\\n\\n        \\\"\\\"\\\"\\n        List of all predictors in the system.\\n        Includes summary information about how many models rely on each predictor.\\n        \\\"\\\"\\\"\\n        predictors(limit: Int = \", \", offset: Int = 0,\\n        \\n            \\\"Optional integer model ID. Returns only predictors associated with this model.\\\"\\n            modelId: Int\\n        \\n        ): PaginatedPredictors\\n\\n        \\\"\\\"\\\"\\n        List of all models in the system.\\n        Includes summary information about how many predictors are used by the model\\n        as well as the translation that is be required.\\n\\n        Use the modelInfo API endpoint for more detailed information about a specific model, including its model extent polygon.\\n        \\\"\\\"\\\"\\n        models(limit: Int = \", \", offset: Int = 0): PaginatedModels\\n\\n        \\\"\\\"\\\"\\n        List of predictor values at a single site.\\n        Site predictors are non-temporal.\\n        The value applies to all samples collected at the specific site.\\n\\n        See samplePredictors for temporal predictors that vary by the sample date.\\n        \\\"\\\"\\\"\\n        sitePredictorValues(\\n            \\n            \\\"Mandatory site ID for which predictor values are required.\\\"\\n            siteId: Int!,\\n            \\n            limit: Int = \", \", offset: Int = 0\\n        \\n        ): PaginatedSitePredictorValues\\n\\n        \\\"\\\"\\\"\\n        List of all predictor values for a single sample.\\n        This includes both temporal and non-temporal predictors as well as their calculation status (current, missing, expired).\\n        \\\"\\\"\\\"\\n        samplePredictorValues(\\n            \\n            \\\"Mandatory integer Sample ID for which sample predictor values are required.\\\"\\n            sampleId: Int!\\n        \\n        ): PaginatedSamplePredictorValue\\n\\n        \\\"\\\"\\\"\\n        Returns all model results for the specified sample(s).\\n        Model results refer to the outputs of running one of the O2E, MMI or physical models (temperature, phosphoros, water quality).\\n        \\\"\\\"\\\"\\n        modelResults(limit: Int = \", \", offset: Int = 0,\\n        \\n            \\\"Mndatory list of integer sample IDs for which to return model results.\\\"\\n            sampleIds: [Int]!\\n        \\n        ): PaginatedModelResult\\n\\n        ####################################################################################################################################################################################\\n        # Taxonomy queries\\n\\n        \\\"\\\"\\\"\\n        List of all taxa in the system.\\n        Includes information about each level of the taxonomic hierarchy above each taxa.\\n        \\\"\\\"\\\"\\n        taxonomy(limit: Int = \", \", offset: Int = 0,\\n        \\n            \\\"\\\"\\\"\\n            Optional search term to filter the taxa returned.\\n            SQL wildcards are permited.\\n            i.e. to find taxa starting with Clor use 'Clor%'.\\n            To search for clor anywhere in the name of a taxa uses '%clor%'.\\n            An asterix can also be used to wildcard a single character.\\n\\n            Search terms are case insensitive.\\n            \\\"\\\"\\\"\\n            searchTerm: String\\n        \\n            taxonomyIds: [Int]\\n\\n        ): PaginatedTaxonomies\\n\\n        \\\"\\\"\\\"\\n        List all parents for a particular taxa.\\n        For example, if you provide the ID of a genus taxon this endpoint will\\n        return the genus in question plus the family, order, class, phylum and kingdom.\\n\\n        This will return sub and infra taxonomic levels if relevant.\\n\\n        Use the taxonomy API endpoint to discover the taxonomy ID for a particular taxon.\\n\\n        Taxonomy IDs are unchanged from the BugLab and Pilot databases.\\n        \\\"\\\"\\\"\\n        taxonomyTree(\\n            \\n            \\\"Mandatory integer ID of the taxon for which you want the taxonomic hierarchy.\\\"\\n            taxonomyId: Int!\\n        \\n        ): PaginatedTaxonomyTree\\n\\n        \\\"\\\"\\\"\\n        List of all taxonomic attributes (e.g. clinger, swimmer, HBI) in the system.\\n\\n        Use the taxaAttributes endpoint if you want the attribute values for a specific taxon.\\n        \\\"\\\"\\\"\\n        attributes(limit: Int = \", \", offset: Int = 0): PaginatedAttributes\\n\\n        \\\"\\\"\\\"\\n        List of all attribute values for a single taxon.\\n\\n        Use the taxonomy API endpoint to discover the taxonomy ID for a particular taxon.\\n        \\\"\\\"\\\"\\n        taxaAttributes(\\n            \\n            \\\"\\\"\\\"\\n            Mandatory integer taxonomy ID for which attributes are required.\\n            \\n            Use the taxonomy API endpoint to discover the taxonomy ID for a particular taxon.\\n            \\\"\\\"\\\"\\n            taxonomyId: Int, limit: Int = \", \", offset: Int = 0): PaginatedAttributeValues\\n  \\n        \\\"\\\"\\\"\\n        List all the taxa within a specific translation (OTU)\\n\\n        The taxa associated with a translation are only those taxa at which organism counts are rolled.\\n        In other words a translation in the database does not store every taxa included in an OTU,\\n        only those taxa at which counts are roll up to.\\n\\n        For example, an OTU might include many species, genus and families that all roll up to a single \\n        order. In the database, the translation is defined with only a single taxon, that of the order.\\n        Any taxa below this order are automatically rolled up to this order during processing.\\n\\n        See the [online documentation on translations](https://namc-utah.github.io/namc-bug-db/translations.html) for more information.\\n        \\\"\\\"\\\"\\n        translationTaxa(limit: Int = \", \", offset: Int = 0, \\n        \\n            \\\"\\\"\\\"\\n            Mandatory integer translation ID for which you require taxa.\\n\\n            Use the translations API endpoint to discover the database IDs for each translation.\\n            \\\"\\\"\\\"\\n            translationId: Int!\\n        \\n        ): PaginatedTranslationTaxa\\n       \\n        \\\"\\\"\\\"\\n        List of all translations (OUT) in the system.\\n        Translations have replaced OTUs in the new database.\\n     \\n        See the [online documentation on translations](https://namc-utah.github.io/namc-bug-db/translations.html) for more information.\\n        \\\"\\\"\\\"\\n        translations(limit: Int = \", \", offset: Int = 0): PaginatedTranslations\\n\\n        ####################################################################################################################################################################################\\n        # Sample side table queries\\n\\n        \\\"List of all plankton samples in the system.\\\"\\n        planktonSamples(limit: Int = \", \", offset: Int = 0): PaginatedPlankton\\n\\n        \\\"List of all drift samples in the system.\\\"\\n        driftSamples(limit: Int = \", \", offset: Int = 0): PaginatedDrift\\n\\n        \\\"List of all fish samples in the system.\\\"\\n        fishSamples(limit: Int = \", \", offset: Int = 0): PaginatedFish\\n\\n        \\\"List of all mass samples in the system.\\\"\\n        massSamples(limit: Int = \", \", offset: Int = 0): PaginatedMass\\n\\n        # \\\"List all fish diet samples in the system\\\"\\n        # fishDiet(limit: Int = \", \", offset: Int = 0, sampleIds: [Int]): PaginatedFishDiet\\n\\n        ####################################################################################################################################################################################\\n        # Sample Taxa queries\\n        \\n        \\\"\\\"\\\"\\n        Sample organisms summed by taxonomy only.\\n        \\n        Raw organism counts are first grouped by laboratory taxon (ignoring bug size and lifestage) and then converted to abundance\\n        using lab and field splits. Big rare counts are ignored.\\n\\n        You must provide a list of either sample, box or project IDs. You cannot provide multiple lists (i.e. both sample and project IDs)\\n        and the lists cannot be empty.\\n        \\\"\\\"\\\"\\n        sampleTaxa(\\n            \\n            \\\"List of integer sample IDs. Returns taxa for the specified sample(s).\\\"\\n            sampleIds: [Int],\\n            \\n            \\\"list of integer box IDs. Returns taxa for all samples in the specified box(es).\\\"\\n            boxIds: [Int],\\n            \\n            \\\"List of integer project IDs. Returns taxa for all samples associated with the specified project(s).\\\"\\n            projectIds: [Int],\\n\\n            limit: Int = \", \",\\n            \\n            offset: Int = 0\\n        \\n        ): PaginatedSampleTaxa\\n\\n\\n        sampleTaxaAttributes(limit: Int = \", \", offset: Int = 0, \\n          \\\"List of integer sample IDs.\\\"\\n          sampleIds: [Int], \\n\\n          \\\"List of integer box IDs. Returns all samples associated with the specified box(es).\\\"\\n          boxIds: [Int],\\n\\n          \\\"List of integer project IDs. Returns all samples associated with the specified project(s).\\\"\\n          projectIds: [Int],\\n\\n          \\\"List of integer customer IDs. Returns all samples belonging to the customer(s). Note that customer organizations are hierarchical. If you provide the customer ID for the BLM you will get back all samples for the entire BLM (i.e. all states and all field offices). If you provide the customer ID for the Colorado BLM you will get back all samples belonging to field offices within the state of Colorado.\\\"\\n          entityIds: [Int],\\n\\n          \\\"List of integer site IDs. Returns all samples collected at the site(s).\\\"\\n          siteIds: [Int],\\n\\n          \\\"[GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html) polygon. Returns all samples collected at sites within the polygon.\\\"\\n          polygon: String,\\n\\n          \\\"Point defined as latitude and longitude in decimal degrees) and distance (meters). Returns all samples collected within the specified distance of the point.\\\"\\n          pointDistance: QueryDistance\\n\\n        ): PaginatedSampleTaxaAttribute\\n\\n        \\\"\\\"\\\"\\n        Sample organisms summed by taxonomy, life stage and bug size. This is a more detailed query that provides\\n        access to the raw organism counts.\\n        \\n        Raw organism counts are summed by laboratory taxon, bug size and lifestage. No conversion to abundance is applied.\\n        \\\"\\\"\\\"\\n        sampleTaxaInfo(\\n            \\n            \\\"Mandatory integer sample ID\\\"\\n            sampleIds: [Int],\\n\\n            boxIds: [Int],\\n\\n            projectIds: [Int],\\n            \\n            limit: Int = \", \", \\n            \\n            offset: Int = 0\\n        ): PaginatedSampleTaxaInfo\\n        \\\"\\\"\\\"\\n        Sample organisms converted to a translation (OTU).\\n\\n        This query first converts each organism to an abundance using lab and field splits and then rolls\\n        up the abundance to those taxa present in the translation.\\n        Any organism that does not rollup to a taxon present in the specified translation is omitted.\\n\\n        See the [online documentation on translations](https://namc-utah.github.io/namc-bug-db/translations.html) for more information.      \\n        \\\"\\\"\\\"\\n        sampleTaxaTranslation(\\n            \\n            \\\"Mandatory integer sample ID\\\"\\n            sampleId: Int!,\\n            \\n            \\\"Mandatory translation (OTU) ID. Use the translations API endpoint to obtain the database IDs for each translation.\\\"\\n            translationId: Int!\\n        \\n        ): PaginatedSampleTaxa\\n\\n        \\\"\\\"\\\"\\n        Sample organisms converted to the translation (OTU) and then rarefied to the specified fixed count.\\n\\n        organism are first grouped by laboratory taxa (ignoring bug size, life sage and big rare count) and then\\n        converted to abundance. Taxa are then converted to the specified translation (OTU) rolling up to the next\\n        highest taxa present in the translation. Organisms that don't roll up to a taxa present in the translation\\n        are omitted.\\n        \\n        The abundances are expanded to create one record for each organism, from which random\\n        selections are made until the fixed count is achieved. If the total number of organisms is less than the \\n        fixed count then all records are returned. Finally the selected records are re-grouped by translation\\n        taxa, summing the abundances.\\n        \\\"\\\"\\\"\\n        sampleTaxaTranslationRarefied(\\n            \\n            \\\"Mandatory integer sample ID\\\"\\n            sampleId: Int!,\\n            \\n            \\\"Mandatory translation (OTU) ID. Use the translations query to obtain the database IDs for each translations.\\\"\\n            translationId: Int!,\\n            \\n            \\\"The total count of organisms to be returned (across all taxa). The actual total might be less if the sample contains fewer organisms than the specified fixed count.\\\"\\n            fixedCount:Int!\\n        \\n        ):PaginatedSampleTaxa\\n\\n        \\\"\\\"\\\"\\n        Sample organisms within distance (meters) of a point (decimal degrees).\\n\\n        Organisms are first converted to abundance using lab and field splits and then summed across\\n        laboratory taxa (ignoring bug size, life stage and big rare counts). \\n        \\\"\\\"\\\"\\n        pointTaxaRaw(\\n            \\n            \\\"Longitude of the point from which samples are selected. Specified in decimal degrees this value must be greater than or equal to -180 and less than or equal to 180.\\\"\\n            longitude: Float!,\\n            \\n            \\\"Latitude of the point from which samples are selected. Specified in decimal degrees this value must be greater than or equal to -90 and less than or equal to 90.\\\"\\n            latitude: Float!,\\n            \\n            \\\"Distance in metres from the specified point from which samples are selected. Specified in metres, this value must be greater than zero.\\\"\\n            distance: Float!\\n        \\n        ): PaginatedSampleTaxa\\n   \\n        \\\"\\\"\\\"Sample organisms within a polygon.\\n        \\n        Returns all samples collcted at sites that occur within the specified polygon. The polygon must be a valid, closed polygon specified in [GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html).\\\"\\\"\\\"\\n        polygonTaxaRaw(\\n            \\n            \\\"[GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html) polygon.\\\"\\n            polygon: String!\\n        \\n        ): PaginatedSampleTaxa\\n\\n        ####################################################################################################################################################################################\\n        # Metric queries\\n\\n        \\\"\\\"\\\"\\n        Returns a list of all metrics defined in the system. \\n        \\\"\\\"\\\"\\n        metrics(limit: Int = \", \", offset: Int = 0): PaginatedMetrics\\n\\n        \\\"\\\"\\\"\\n        Calculates active metrics for the sample using the specified translation and fixed count.\\n        Note that the values returned are not stored in the database. They are calculated anew with each API\\n        request. Metrics that depend on rarefaction will be different with each subsequent request.\\n\\n        Metrics can be calculated for a list of samples, boxes or projects. You must provide one of these\\n        lists or an error is returned. You cannot provide more than one list (e.g. a list of samples and a list of projects).\\n        The list provided cannot be empty.\\n\\n        Use the projects and translations (OTU) API endpoints to determine the database IDs for these arguments.\\n        \\\"\\\"\\\"\\n        sampleMetrics(\\n            \\n            \\\"List of integer sample IDs\\\"\\n            sampleIds: [Int],\\n            \\n            \\\"List of integer box IDs. All boxes associated with the box(es) are returned.\\\"\\n            boxIds: [Int],\\n            \\n            \\\"List of integer project IDs. All samples associated with the project(s) are returnded.\\\"\\n            projectIds: [Int],\\n            \\n            \\\"Mandatory integer translation (OTU) ID\\\"\\n            translationId: Int!,\\n            \\n            \\\"Mandatory total number of organisms to be used by those metrics that use rarefaction.\\\"\\n            fixedCount: Int!\\n        ): PaginatedMetricResult\\n\\n        # Retrieve the currently logged in user's account information and permissions\\n        myProfile: Profile\\n\\n        # Retrieve a list of users that can perform sort operations\\n        sorters: [SortingUser]\\n    }\\n\\n    # this schema allows the following mutation:\\n    type Mutation {\\n        \\n        \\\"\\\"\\\"\\n        Store a non-temporal predictor value for a specific site. Non-temporal predictors do not vary over time. There is a\\n        single value per site.\\n\\n        See setSamplePredictorValue if you want to store a temporal predictor value associated with a particular sample.\\n        \\\"\\\"\\\"\\n        setSitePredictorValue(\\n            \\n            \\\"Mandatory Integer site ID\\\"\\n            siteId: Int!,\\n            \\n            \\\"Mandatory predictor ID. See predictors endpoint to identify the ID for a predictor.\\\"\\n            predictorId: Int!, \\n            \\n            \\\"Mandatory site predictor value. The value should be a floating point value represented as a string.\\\"\\n            value:String!\\n            \\n        ): Int\\n\\n        \\\"\\\"\\\"\\n        Store a temporal predictor value for a specific sample. Temporal predictors vary over time and correspond to the sample date of a sample.\\n\\n        This endpoint returns the number of rows saved to the database. 1 indicates sucess, 0 indicates something went wrong and the value cannot be stored.\\n        \\n        See setSitePredictorValue if you want to store a temporal predictor value associated with a particular site.\\n        \\\"\\\"\\\"\\n        setSamplePredictorValue(\\n            \\n            \\\"Mandatory integer sample ID\\\"\\n            sampleId: Int!,\\n            \\n            \\\"Mandatory predictor ID. See predictors endpoint to identify the ID for a particular predictor.\\\"\\n            predictorId: Int!,\\n            \\n            \\\"The predictor value should be a single floating point value represented as a string.\\\"\\n            value: String!\\n        \\n        ): Int\\n\\n        \\\"\\\"\\\"\\n        Store the upstream catchment polygon for a specific site.\\n        The catchment polygon must be a valid, non-empty \\n        [GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html) polygon that partially or entirely intersects with the United States.\\n     \\n        This endpoint returns the number of rows saved to the database. 1 indicates sucess, 0 indicates something went wrong and the value cannot be stored.\\n        \\\"\\\"\\\"\\n        setSiteCatchment(\\n            \\n            \\\"ID that uniquely identifies the site\\\"\\n            siteId: Int!,\\n            \\n            \\\" [GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html) polygon that partially or entirely intersects with the United States.\\\"\\n            catchment: String!\\n        \\n        ): Int\\n\\n        \\\"\\\"\\\"\\n        Create a new translation (OTU). The name is mandatory and cannot be an empty string. The description is optional.\\n\\n        The translation name must also be unique across the entire database. Use the translations endpoint to see a list\\n        of all existing translations in the database.\\n\\n        After creating the translation, use the setTranslationTaxa endpoint to associate taxa with this translation.\\n\\n        This endpoint returns the database ID assigned to the new translation.\\n        \\\"\\\"\\\"\\n        createTranslation(\\n            \\n            \\\"Name for the new translation. Cannot be empty and must be unique across all translations in the database.\\\"\\n            translationName: String!,\\n            \\n            \\\"Optional descriptive information about the translation.\\\"\\n            description: String\\n        \\n        ): Int\\n\\n        \\\"\\\"\\\"\\n        Add or update a taxa associated with a translation (OTU)\\n\\n        See information on [translations](https://namc-utah.github.io/namc-bug-db/translations.html) for which taxa\\n        to add to a translation.\\n\\n        If the specified taxa already exists within a translation, this endpoint will update it's alias and isFinal\\n        status. If the taxa does not already exist within the translation it will be added.\\n\\n        This endpoint returns the number of rows saved to the database. 1 indicates sucess, 0 indicates something went wrong and the value cannot be stored.\\n        \\\"\\\"\\\"\\n        setTranslationTaxa(\\n            \\n            \\\"Unique identifier of the translation (OTU). Use the translations endpoint to determine the ID associated with each translation.\\\"\\n            translationId: Int!, \\n            \\n            \\\"Unique identifier of the taxon being stored in the translation. Use the taxonomy endpoint to determine the IDs for individual taxa.\\\"\\n            taxonomyId: Int!, \\n            \\n            \\\"\\\"\\\"\\n            Optional name that should be used to identify the taxon within the translation.\\n            If this alias is left blank then the official NAMC scientific name is used for the taxon within the translation.\\n            \\\"\\\"\\\"\\n            alias:String,\\n            \\n            \\\"\\\"\\\"Identifies if the taxon is part of the final set used to calibrate the model associated with the translation (OTU).\\n            When isFinal is False it indicates that the taxon is part of the larger, initial list used to develop the model\\n            but not part of the final calibration set of taxa.\\\"\\\"\\\"\\n            isFinal: Boolean\\n        ): Int\\n\\n        \\\"\\\"\\\"\\n        Permanently remove a taxon from a translation.\\n\\n        The definition of the taxon remains in the database. It is merely it's association with the translation that is removed.\\n\\n        This endpoint returns the number of rows saved to the database. 1 indicates sucess, 0 indicates something went wrong and the change cannot be performed. \\n        \\\"\\\"\\\"\\n        deleteTranslationTaxa(\\n            \\n            \\\"Unique identifier of the translation (OTU). Use the translations endpoint to determine the ID associated with each translation.\\\"\\n            translationId: Int!,\\n            \\n            \\\"Unique identifier of the taxon being stored in the translation. Use the taxonomy endpoint to determine the IDs for individual taxa.\\\"\\n            taxonomyId: Int!\\n        ): Int\\n  \\n        \\\"\\\"\\\"\\n        Update information related to a specific taxon. Change its scientific name, move its level or change its parent taxon.\\n\\n        See the taxonomy endpoint to determine the unique taxonomy ID for a specific taxon.\\n\\n        See createTaxonomy endpoint for adding new taxa.\\n\\n        This endpoint returns the number of rows saved to the database. 1 indicates sucess, 0 indicates something went wrong and the change cannot be performed. \\n        \\\"\\\"\\\"\\n        setTaxonomy(taxonomyId: Int!, scientificName: String!, levelId: Int!, parentId: Int!, author: String, year:String, notes: String, metadata:String): Int\\n\\n        \\\"\\\"\\\"\\n        The createProject API endpoint creates a new project in the database.\\n        Projects are intended to be flexible containers that make it easy to work with custom collections of samples.\\n        API users can add and remove samples to a project. Each sample can be associated with multiple projects. \\n\\n        New projects are created with no associated samples.\\n        You must call the [add samples]({{ site.baseurl}}/API/Projects/addProjectSamples.html) API endpoint before the project is useful.\\n       \\n        This endpoint returns the database ID associated with the new project, for use in other endpoints.\\n        \\\"\\\"\\\"\\n        createProject(\\n            \\n            \\\"The name for the project must be unique across all projects in the system. It cannot be an empty string.\\\"\\n            projectName: String!,\\n            \\n            \\\"Currently not used, this field is intended to distinguish private projects that can only be seen by the person who created them, from public projects that are visible to all users.\\\"\\n            isPrivate: Boolean,\\n            \\n            \\\"Optional descriptive information about the project purpose, background etc.\\\"\\n            description: String, \\n            \\n            \\\"[JSON](https://namc-utah.github.io/namc-bug-db/API/json.html)|No|Optional data that can be useful for scripting and other automated processes.\\\"\\n            metadata: String, \\n            \\n            \\\"Optional database ID of the individual who creates the project.\\\"\\n            contactId: Int\\n        ): Int\\n\\n        \\\"\\\"\\\"\\n        This API endpoint associates samples with a project. The project must already exist and have been created using the [createProject]({{site.baseurl}}/API/Projects/createProject.html) API end point.\\n\\n        Only existing samples can be associated with a project (i.e. this endpoint does not create new samples). Each sample can be associated with multiple projects.  \\n\\n        If the sample is already associated with the project then no action is taken.\\n\\n        This endpoint returns the number of rows saved to the database. 0 indicates something went wrong and the change cannot be performed.   \\n        \\\"\\\"\\\"\\n        addProjectSamples(\\n            \\n            \\\"Project ID of a project that already exists in the system. Use the projects query to determine the ID of an existing project.\\\"\\n            projectId: Int!,\\n\\n            \\\"List of sample IDs to be associated with the project.\\\"\\n            sampleIds: [Int]\\n        \\n        ): Int\\n\\n        \\\"\\\"\\\"\\n        This endpoint associates all samples that are part of the specified boses to the project.\\n        Any samples that are already associated with a project are unaffected.\\n       \\n        This endpoint returns the number of rows saved to the database. 0 indicates something went wrong and the change cannot be performed.   \\n        \\\"\\\"\\\"\\n        addProjectBoxes(projectId: Int!, boxIds: [Int]): Int\\n        \\n        \\\"\\\"\\\"\\n        Removes the specified sample(s) from the project. The samples and all their\\n        associated data remain in the database and are unaffected. The only change\\n        is to disassociate the sample from the project.\\n        \\\"\\\"\\\"\\n        removeProjectSamples(\\n            \\n            \\\"Project ID from which the samples are to be removed.\\\"\\n            projectId: Int!,\\n            \\n            \\\"List of samples to be removed from the project. Any samples in the argument list that are not part of the project are ignored.\\\"\\n            sampleIds:[Int]\\n        \\n        ): Int\\n\\n        \\\"\\\"\\\"\\n        Permanently deletes a project from the system. It does not alter or affect any of the \\n        samples that are associated with the project.\\n        \\\"\\\"\\\"\\n        deleteProject(\\n            \\n            \\\"ID of the project to be deleted.\\\"\\n            projectId: Int!\\n            \\n        ): Int\\n\\n\\n        createTaxonomy(\\n          \\\"The name of the taxa identified with the laboratory.\\\"\\n          scientificName: String\\n\\n          \\\"The taxonomic level of the taxa identified within the laboratory.\\\"\\n          levelId: Int\\n\\n          \\\"The taxonomic level of the taxa identified within the laboratory.\\\"\\n          levelName: String\\n\\n          \\\"Database ID of the parent of this taxon in the NAMC taxonomic hierarchy.\\\"\\n          parentId: Int\\n\\n        ): Int\\n\\n        deleteTaxonomy(\\n          taxonomyId: Int\\n        ): Int\\n\\n        taxIdentificationStart(\\n          \\\"Database ID that uniquely identifies the sample.\\\"\\n          sampleId: ID!\\n        ): Int\\n        taxIdentificationStop(\\n          \\\"Database ID that uniquely identifies the sample.\\\"\\n          sampleId: ID!, \\n          \\\"the time it took to perform the identification (in decimal hours)\\\"\\n          time: Float!\\n        ): Int\\n\\n        labSort(\\n          \\\"Database ID that uniquely identifies the sample.\\\"\\n          sampleId: ID!,\\n          \\\"the database ID of the logged in user who performed the sort.\\\"\\n          sorterId: ID!,\\n          \\\"Proportion of the sample, in percent, that was split and then retained for sorting.\\\"\\n          labSplit: Float!,\\n          \\\"the integer number of organisms found in the sample\\\"\\n          count: Int!, \\n          \\\"Boolean whether or not alcohol was used during sorting\\\"\\n          elutriation: Boolean!,\\n          \\\"the time it took to perform the sort (in decimal hours)\\\"\\n          time: Float!,\\n          \\\"UNIX Timestamp of the date that the sort was performed\\\"\\n          sortTimestamp: String!\\n        ): Int\\n\\n        createSampleTaxaInfo(\\n          \\\"Database ID that uniquely identifies the sample.\\\"\\n          sampleId: ID!,\\n          taxonomyId: ID!,\\n          lifeStageId: ID!,\\n          bugSize: Float,\\n          splitCount: Int!,\\n          bigRareCount: Int,\\n          comments: String,\\n          noteTypeIds: [Int]\\n        ): Int\\n        \\n        deleteOrganism(\\n          organismId: ID!\\n        ): Int\\n\\n    }\\n\\n    input QueryDistance {\\n\\n        \\\"Latitude of the point, in decimal degrees.\\\"\\n        latitude: Float!\\n\\n        \\\"Longitude of the point in decimal degrees\\\"\\n        longitude: Float!\\n\\n        \\\"Distance from the point in meters.\\\"\\n        distance: Float!\\n    }\\n\\n    type AuthParams {\\n        loggedIn: Boolean\\n        userPool: String\\n        clientId: String\\n        region: String\\n        domain: String\\n    }\\n\\n    type Sample {  \\n\\n        \\\"Database ID that uniquely identifies the sample.\\\"        \\n        sampleId: Int\\n\\n        \\\"Database ID that unique identifies the box.\\\"\\n        boxId: Int\\n\\n        \\\"The customer that submitted the sample\\\"\\n        customerName: String\\n\\n        \\\"The abbreviated name of the customer that submitted the sample.\\\"\\n        customerAbbreviation: String\\n\\n        \\\"The name of the individual that submitted the sample.\\\"\\n        submittedBy: String\\n\\n        \\\"The current state of the box to which the sample belongs.\\\"\\n        boxState: String\\n\\n        measurements: Boolean\\n\\n        \\\"Database ID of the site where the sample was collected.\\\"\\n        siteId: Int\\n\\n        \\\"The unique name assigned to the site by NAMC.\\\"\\n        siteName: String\\n\\n        \\\"The abbreivation of the US state where the sample was collected.\\\"\\n        usState: String\\n\\n        \\\"[GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html) of the site associated with the sample.\\\"\\n        siteLocation: String\\n\\n        \\\"NAMC site longitude in decimal degrees.\\\"\\n        siteLongitude: Float\\n\\n        \\\"NAMC site latitude in decimal degrees.\\\"\\n        siteLatitude: Float\\n\\n        \\\"Cmbination of the site name and sample date used for repeat visits.\\\"\\n        visitId: String\\n\\n        \\\"The site identifier provided by the customer at submission.\\\"\\n        customerSiteCode: String\\n\\n        \\\"The date that the sample was collected.\\\"\\n        sampleDate: String\\n\\n        \\\"The time that the sample was collected.\\\"\\n        sampleTime: String\\n\\n        \\\"The sample type (e.g. benthic, drift, fish diet).\\\"\\n        sampleType: String\\n\\n        \\\"The method used to collect the sample (e.g. Hess net, Surber net, Dissected Gut)\\\"\\n        sampleMethod: String\\n\\n        \\\"The habitat sampled (e.g. benthos, pelagic, pool, reachwide, stomach)\\\"\\n        habitat: String\\n\\n        \\\"Customer description of the sampled location.\\\"\\n        sampleLocation: String\\n\\n        \\\"Longitude (in decimal degrees) of the customer sampled location.\\\"\\n        sampleLongitude: Float\\n\\n        \\\"Latitude (in decimal degrees) of the customer sampled location.\\\"\\n        sampleLatitude: Float\\n\\n        \\\"Area sampled in meters squared.\\\"\\n        area: Float\\n\\n        \\\"Proportion of the sample that was retained for laboratory processing as a ratio (0-1).\\\"\\n        fieldSplit: Float\\n\\n        \\\"Customer notes collected in the field.\\\"\\n        fieldNotes: String\\n\\n        \\\"Proporation of the sample processed in the laboratory as ratio (0-1).\\\"\\n        labSplit: Float\\n\\n        \\\"Number of jars used to transport the sample.\\\"\\n        jarCount: Int\\n\\n        \\\"TODO\\\"\\n        qualitative: Boolean\\n\\n        \\\"Laboratory notes pertaining to the sample.\\\"\\n        labNotes: String\\n\\n        \\\"Mesh size in microns.\\\"\\n        mesh: Int\\n\\n        sorterId: Int\\n        sorterName: String\\n        sorterCount: Int\\n        elutriation: Boolean\\n        sortTime: Float\\n        sortDate: String\\n\\n        idErId: Int\\n        idTime: Float\\n        idStartDate: String\\n        idEndDate: String\\n\\n        \\\"Date time that the sample record was created in the database.\\\"\\n        createdDate: String\\n\\n        \\\"Date time of the last change to the sample record.\\\"\\n        updatedDate: String\\n\\n        \\\"Date time of the last change to the date sampled field. This is used to determine the status of temporal predictors for the sample.\\\"\\n        sampleDateChanged: String\\n\\n        \\\"For quality assurance samples, this refers to the original sample being quality controlled.\\\"\\n        qaSampleId: Int\\n\\n        \\\"\\\"\\\"\\n        Miscellaneous information about stored as [JSON](https://namc-utah.github.io/namc-bug-db/API/metadata.html).\\n        Typically these values are used during scripting and automated processes.\\n        They also include some legacy information about the sample from the previous NAMC database.\\n        \\\"\\\"\\\"\\n        metadata: String\\n    }\\n\\n    type Site {\\n\\n        \\\"Database ID that uniquely identifies the site.\\\"\\n        siteId: Int\\n\\n        \\\"Unique name assigned to the site by NAMC\\\"\\n        siteName: String\\n\\n        \\\"System in which the site occurs (e.g. lake, pond, reservoir, spring, wetland).\\\"\\n        system: String\\n\\n        \\\"Ecosystem in which the site occurs (e.g. lotic, lentic, either)\\\"\\n        ecosystem: String\\n\\n        \\\"Longitude of the site in decimal degrees.\\\"\\n        longitude: Float\\n\\n        \\\"Latitude of the site in decimal degrees.\\\"\\n        latitude: Float\\n\\n        \\\"US state in which the site occurs.\\\"\\n        usState: String\\n\\n        \\\"Defines the dataset type of the waterbodyCode (e.g. NHDPlus, NHDPlusHR)\\\"\\n        waterbodyType: String\\n\\n        \\\"External identifier for the waterbody on which the site occurs (e.g. NHDPlusID for NHDPlusHR or COMID for NHDPlus)\\\"\\n        waterbodyCode: String\\n\\n        \\\"Name of the waterbody on which the site occurs.\\\"\\n        waterbodyName: String\\n\\n        \\\"Date and time that the site was added to the database.\\\"\\n        createdDate: String\\n\\n        \\\"Date and time that the site was last updated in the database.\\\"\\n        updatedDate: String\\n\\n        \\\"True if the site has a catchment polygon defined. Use the siteInfo API endpoint to retrieve the catchment polygon.\\\"\\n        hasCatchment: Boolean\\n    }\\n\\n\\\"\\\"\\\"\\nDetailed information about a single NAMC site.\\n\\nThis query includes the point and catchment geometries for the site.\\nIt also includes the number of samples available at a particular site.\\n\\nMore succinct information is available for all sites using the\\nsites API endpoint.\\n\\\"\\\"\\\"\\n    type SiteInfo {\\n        \\n        \\\"Unique database generated integer that uniquely identifies each site\\\"\\n        siteId: Int\\n\\n        \\\"Unique text identifier for each site\\\"\\n        siteName: String\\n        \\n        \\\"The ecological system (e.g. lake, pond, reservoir) in which the site is located.\\\"\\n        system: String\\n\\n        \\\"The ecosystem in which the site is located.\\\"\\n        ecosystem: String\\n\\n        \\\"[GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html) point location of the site in [EPSG:4326](https://epsg.io/4326) spatial reference.\\\"\\n        location: String\\n\\n        \\\"Longtidue of the site location in decimal degrees.\\\"\\n        longitude: Float\\n\\n        \\\"Latitude of the site location in decimal degrees.\\\"\\n        latitude: Float\\n\\n        \\\"US State in which the site is located.\\\"\\n        usState: String\\n\\n        \\\"\\\"\\\"\\n        If the site has a waterbody code, then the waterbody type identifies the system that\\n        this identifier pertains to. The waterbody type might be NHDPlus 1:100,000 or \\n        NHDPlusHR 1:24,000 etc.\\n        \\\"\\\"\\\"\\n        waterbodyType: String\\n\\n        \\\"\\\"\\\"\\n        The identifier of the waterbody on which this site occurs. Can be null. If a \\n        waterbody code exists, then the waterbodyType can be used to determine which\\n        system the code belongs to, such as NHDPlus or NHDPlusHR.\\n        \\\"\\\"\\\"\\n        waterbodyCode: String\\n\\n        \\\"The string name of the waterbody on which the site occurs. Typicall this is the stream name.\\\"\\n        waterbodyName: String\\n\\n        \\\"The latest date and time that either the site location (point) or catchment (polygon) were changed.\\\"\\n        geographyChanged: String\\n\\n        \\\"The system generated date and time that the site record was created in the database.\\\"\\n        createdDate: String\\n\\n        \\\"The system generated date and time that the site record was last changed in the database.\\\"\\n        updatedDate: String\\n\\n        \\\"[GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html) polygon of the upstream area that drains into this site in [EPSG:4326](https://epsg.io/4326) spatial reference.\\\"\\n        catchment: String\\n\\n        \\\"The number of samples that are available for this site.\\\"\\n        sampleCount: Int\\n    }\\n\\n    \\\"\\\"\\\"\\\"\\n    Raw summary of organisms for a single sample. The data are returned with their original\\n    laboratory taxonomic identification.\\n    \\\"\\\"\\\"\\n    type SampleTaxa {\\n\\n        \\\"Database ID of the sample.\\\"\\n        sampleId: Int\\n\\n        \\\"The taxon identified within the laboratory.\\\"\\n        taxonomyId: Int\\n\\n        \\\"The name of the taxa identified with the laboratory.\\\"\\n        scientificName: String\\n\\n        \\\"The taxonomic level of the taxa identified within the laboratory.\\\"\\n        levelId: Int\\n\\n        \\\"The taxonomic level of the taxa identified within the laboratory.\\\"\\n        levelName: String\\n\\n        \\\"Abundance for the specified taxa and lifestage. Raw organism count adjusted by lab and field splits.\\\"\\n        splitCount: Int\\n    }\\n    type SampleTaxaAttribute {\\n\\n        \\\"Database ID of the sample.\\\"\\n        sampleId: Int\\n\\n        \\\"The taxon identified within the laboratory.\\\"\\n        taxonomyId: Int\\n\\n        \\\"The name of the taxa identified with the laboratory.\\\"\\n        scientificName: String\\n\\n        \\\"Database ID that uniquely identifies the attribute definition.\\\"\\n        attributeId: Int\\n\\n        \\\"Attribute name, unique across all attributes in the database.\\\"\\n        attributeName: String\\n\\n        \\\"Attribute value, always stored as a string.\\\"\\n        attributeValue: String\\n    }\\n\\n    type SampleTaxaInfo {\\n\\n        \\\"Organism ID uniquely identifying the taxon, life stage, split count and bug size\\\"\\n        organismId: Int\\n\\n        \\\"Database ID of the sample.\\\"\\n        sampleId: Int\\n\\n        \\\"Current state of the box to which this sample is associated.\\\"\\n        boxState: String\\n\\n       \\\"The taxon identified within the laboratory.\\\"\\n        taxonomyId: Int\\n\\n        \\\"The name of the taxa identified with the laboratory.\\\"      \\n        scientificName: String\\n\\n        \\\"The taxonomic level of the taxa identified within the laboratory.\\\"\\n        levelId: Int\\n\\n        \\\"The taxonomic level of the taxa identified within the laboratory.\\\"   \\n        levelName: String\\n\\n        \\\"Phylum of the taxa\\\"\\n        phylum: String\\n\\n        \\\"Class of the taxa\\\"\\n        class: String\\n\\n        \\\"Order of the taxa\\\"\\n        order: String\\n\\n        \\\"Family of the taxa\\\"\\n        family: String\\n\\n        \\\"Subfamily of the taxa\\\"\\n        subFamily: String\\n\\n        \\\"Genus of the taxa\\\"\\n        genus: String\\n\\n        \\\"Species of the taxa\\\"\\n        species: String\\n        \\n        \\\"Database ID of the organism(s) life stage (e.g. lavae, pupae).\\\"\\n        lifeStageId: Int\\n\\n        \\\"Life stage of the organism(s) (e.g. lavae, pupae).\\\"\\n        lifeStage: String\\n\\n        \\\"Abbreviated life stage of the organism(s) (e.g. lavae, pupae).\\\"\\n        lifeStageAbbreviation: String\\n\\n        \\\"Organism length measured in millimeters (if measurements were collected).\\\"\\n        bugSize: Float\\n\\n        \\\"Raw organism count recorded in the laboratory.\\\"\\n        splitCount: Int\\n        \\n        \\\"Proporation of the sample processed in the laboratory as ratio (0-1).\\\"\\n        labSplit: Float\\n\\n        \\\"Proportion of the sample that was retained for laboratory processing as a ratio (0-1).\\\"\\n        fieldSplit: Float\\n\\n        \\\"The raw count corrected for lab and field split.\\\"\\n        correctedCount: Float\\n        \\n        \\\"The count of big rare organisms collected in the laboratory.\\\"\\n        bigRareCount: Int\\n\\n        \\\"Comma separated list of the notes recorded during lab processing.\\\"\\n        notes: String\\n\\n        noteTypeIds: [Int]\\n\\n        \\\"Free text comments about the organism record\\\"\\n        comments: String\\n    }\\n\\n    type BoxInfo {\\n\\n        \\\"Database ID that uniquely identifies the box.\\\"\\n        boxId:                  Int\\n\\n        \\\"Database ID that uniquely identifies the customer that submitted the box.\\\"\\n        customerId:             Int\\n\\n        \\\"Customer that submitted the box.\\\"\\n        customerName:           String\\n\\n        \\\"Abbreviated customer name that submitted the box.\\\"\\n        customerAbbreviation:   String\\n\\n        \\\"Database ID that uniquely identifies the person that submitted the box.\\\"\\n        submitterId:            Int\\n\\n        \\\"Name of the person that submitted the box.\\\"\\n        submittedBy:            String\\n\\n        \\\"Database ID that identifies the current state of the box (e.g. waiting, hold, active, complete).\\\"\\n        boxStateId:             Int\\n\\n        \\\"Current state of the box (e.g. waiting, hold, active, complete).\\\"\\n        boxState:               String\\n\\n        \\\"Date that the box was received.\\\"\\n        boxReceivedDate:        String\\n\\n        \\\"Date that box processing was completed.\\\"\\n        processingCompleteDate: String\\n        \\n        \\\"Anticipated date that box processing will be complete.\\\"\\n        projectedCompleteDate:  String\\n\\n        \\\"Calculated number of samples associated with the box.\\\"\\n        sampleCount:            Int\\n\\n        \\\"Descriptive information about the box.\\\"\\n        description:            String\\n\\n        \\\"Miscellaneous information about stored as [JSON](https://namc-utah.github.io/namc-bug-db/API/metadata.html). Typically used during scripting and automated processes.\\\"\\n        metadata:               String\\n\\n        \\\"True if bug sizes are to be recorded when processing the box samples.\\\"\\n        measurements:           Boolean\\n\\n        \\\"True if this box is for quality assurance purposes.\\\"\\n        sorterQa:               Boolean\\n\\n        \\\"True if this box is for quality assurance purposes.\\\"\\n        taxaQa:                 Boolean\\n\\n        \\\"Date and time that the box was added to the system.\\\"\\n        createdDate:            String\\n\\n        \\\"Date and time that the box information was last updated.\\\"\\n        updatedDate:            String\\n    }\\n\\n    type SamplePredictorValue {\\n\\n        \\\"Database ID that uniquely identifies the predictor.\\\"\\n        predictorId:                 Int\\n\\n        \\\"Predictor abbreviated name (unique across all predictors).\\\"\\n        abbreviation:                 String\\n\\n        \\\"Name of the R script/function used to calculate predictor values.\\\"\\n        calculationScript:           String\\n\\n        \\\"\\\"\\\"\\n        True indicates sample predictors where values vary by sample date.\\n        False indicates site predictors that possess a single value for the site and that do not vary by sample date.\\n        \\\"\\\"\\\"\\n        isTemporal:                  Boolean\\n\\n        \\\"Miscellaneous information about stored as [JSON](https://namc-utah.github.io/namc-bug-db/API/metadata.html). Typically used during scripting and automated processes.\\\"\\n        predictorMetadata:           String\\n\\n        \\\"Floating point predictor value returned in string format.\\\"\\n        predictorValue:              String\\n\\n        \\\"Date and time that the predictor value was last changed.\\\"\\n        predictorValueUpdatedDate: String\\n\\n        \\\"\\\"\\\"\\n        Predictor value status:\\n        Missing indicates that the predictor value has never been calculated.\\n        Expired indicates that the predictor value requires recalculation because either the sample date has changed or the site location has changed.\\n        Valid indicates that the predictor value exists and does not require recalculation.\\n        \\\"\\\"\\\"\\n        status:                       String\\n}\\n\\ntype PlanktonSample {\\n\\n    \\\"Database ID that uniquely identifies the sample.\\\"\\n    sampleId:        Int\\n\\n    \\\"Diameter of the sampled area in metres.\\\"\\n    diameter:        Float\\n\\n    \\\"TODO\\\"\\n    subSampleCount:  Int\\n\\n    \\\"Tow lenth in metres\\\"\\n    towLength:       Float\\n\\n    \\\"volume of material in metres cubed.\\\"\\n    volume:          Float\\n\\n    \\\"Aliquot in milliliters\\\"\\n    aliquot:         Float\\n\\n    \\\"Size interval in millimeters\\\"\\n    sizeInterval:    Float\\n\\n    \\\"The two type (e.g. vertical, horizontal)\\\"\\n    towType:         String\\n\\n    \\\"Date and time that the plankton sample was last updated.\\\"\\n    updatedDate:     String\\n}\\n\\ntype DriftSample {\\n\\n    \\\"Database ID that uniquely identifies the sample.\\\"\\n    sampleId:    Int\\n\\n    \\\"Area of the net in meters squared.\\\"\\n    netArea:     Float\\n\\n    \\\"Duration that the net was in the water, recorded in hours.\\\"\\n    netDuration: Float\\n\\n    \\\"Stream depth measured in meters.\\\"\\n    streamDepth: Float\\n\\n    \\\"Net depth measurement in meters.\\\"\\n    netDepth:    Float\\n\\n    \\\"Net velocity in meters per second.\\\"\\n    netVelocity: Float\\n\\n    \\\"Date and time that the plankton sample was last updated.\\\"\\n    updatedDate: String\\n}\\n\\ntype FishSample {\\n\\n    \\\"Database ID that uniquely identifies the sample.\\\"\\n    sampleId: Int\\n\\n    \\\"Database ID identifying the fish taxon.\\\"\\n    taxonomyId: Int\\n\\n    \\\"Scientific name of the fish taxon.\\\"\\n    scientificName: String\\n\\n    \\\"Database ID identifying the taxonomic level of the fish.\\\"\\n    levelId: Int\\n\\n    \\\"Name of the taxonomic level of the fish.\\\"\\n    levelName: String\\n\\n    \\\"Length of the fish in TODO.\\\"\\n    fishLength: Float\\n\\n    \\\"Mass of the fish in grams.\\\"\\n    fishMass: Float\\n\\n    \\\"Date and time that the plankton sample was last updated.\\\"\\n    updatedDate: String\\n}\\n\\ntype MassSample {\\n \\n    \\\"Database ID that uniquely identifies the sample.\\\"\\n    sampleId: Int\\n\\n    \\\"Database ID that uniquely identifies the mass type\\\"\\n    typeId: Int\\n\\n    \\\"Abbreviated name of the mass type (e.g. FPOM, CPOM, Total)\\\"\\n    typeAbbreviation: String\\n\\n    \\\"Full name of the mass type collected (e.g. Fine Particulate Matter, Total)\\\"\\n    typeName: String\\n\\n    \\\"Database that uniquely identifies the method used to collected the mass measurement\\\"\\n    methodId: Int\\n\\n    \\\"Abbreviated name of the method used to collect the mass measurement (e.g. AFDM, Dried, Blotted)\\\"\\n    methodAbbreviation: String\\n\\n    \\\"Full name of the method used to collect the mass measurement (e.g. Ash Free Dried Matter, Dried, Blotted)\\\"\\n    methodName: String\\n\\n    \\\"Measurement mass in grams.\\\"\\n    mass: Float\\n\\n    \\\"Date and time that the plankton sample was last updated.\\\"\\n    updatedDate: String\\n}\\n\\ntype ModelResult {\\n\\n    \\\"Database ID that uniquely identifies the sample.\\\"   \\n    sampleId: Int\\n\\n    \\\"Database ID that uniquely identifies the site at which the sample was collected.\\\"\\n    siteId:      Int\\n\\n    \\\"Name of the site at which the sample was collected.\\\"\\n    siteName:    String\\n\\n    \\\"Database ID that uniquely identifies the model to which the result pertains.\\\"\\n    modelId:     Int\\n\\n    \\\"Full name of the model to which the result pertains.\\\"\\n    modelName: String\\n\\n    \\\"Version of the model that was used to generate the result (e.g. 1.2.3).\\\"\\n    modelVersion: String\\n\\n    \\\"The model result value.\\\"\\n    modelResult: Float\\n\\n    \\\"The model condition obtained by the model result. See the modelConditions API endpoint for all possible conditions for a specific model.\\\"\\n    condition: String\\n\\n    \\\"Fixed count used for rarefaction during model calculation.\\\"\\n    fixCount: Int\\n\\n    \\\"Miscellaneous notes provided by the analyst that performed the model calculation.\\\"\\n    notes: String\\n\\n    \\\"Miscellaneous information about stored as [JSON](https://namc-utah.github.io/namc-bug-db/API/metadata.html). Typically used during scripting and automated processes.\\\"\\n    metadata: String\\n\\n    \\\"Date and time that the model result was added to the database.\\\"\\n    createdDate: String\\n\\n    \\\"Date and time that the model result was last updated in the database.\\\"\\n    updatedDate: String\\n}\\n\\n# type FishDiet {\\n#     sampleId:            Int\\n#     sampleDate:          String\\n#     siteId:              Int\\n#     siteName:            String\\n#     fishWeight:          Float\\n#     fishLength:          Float\\n#     fishTaxonomyId:     Int\\n#     fishScientificName: String\\n#     notes:                String\\n#     metadata:             String\\n#     organicWeight:       Float\\n#     inorganicWeight:     Float\\n#     otherWeight:         Float\\n#     createdDate:         String\\n#     updatedDate:         String\\n#     taxonomyId:          Int\\n#     scientificName:      String\\n#     lifeStageId:        Int\\n#     lifeStage: String\\n#     count:                Float\\n#     weight:               Float\\n# }\\n\\n\\n    #  type Individual {\\n    #     entityId: Int\\n    #     firstName: String\\n    #     lastName: String\\n    #     initials: String\\n    #     affilitationId: Int\\n    #     affiliation: String\\n    #     email: String\\n    #     title: String\\n    #     address1: String\\n    #     address2: String\\n    #     city: String\\n    #     stateName: String\\n    #     countryName: String\\n    #     zipCode: String\\n    #     phone: String\\n    #     fax: String\\n    # }\\n\\n    type Box {\\n        boxId: Int\\n        customerId: Int\\n        customerName: String\\n        submitterId: Int\\n        submittedBy: String\\n        boxState: String\\n        boxReceivedDate: String\\n        sampleCount: Int\\n        processingCompleteDate: String\\n        projectedCompleteDate: String\\n    }\\n\\n    type Project {\\n\\n        \\\"Database ID that uniquely identifies the project.\\\"\\n        projectId: Int\\n\\n        \\\"Unique name for the project.\\\"\\n        projectName: String\\n\\n        \\\"Not currently used. All projects are currently public and visible to all users.\\\"\\n        isPrivate: Boolean\\n\\n        \\\"Database ID of the person who created the project.\\\"\\n        contactId: Int\\n        \\n        \\\"Full name of the person who created the project.\\\"\\n        contactName: String\\n\\n        \\\"Miscellaneous information about the project.\\\"\\n        description: String\\n\\n        \\\"Number of samples currently associated with a project.\\\"\\n        sampleCount: Int\\n\\n        \\\"Number of models currently associated with the project.\\\"\\n        modelCount: Int\\n\\n        \\\"Date and time that the project was created.\\\"\\n        createdDate: String\\n\\n        \\\"Date and time that the basic project information was last updated. This does not reflect the addition or removal of samples.\\\"\\n        updatedDate: String\\n    }\\n\\n    type Taxonomy {\\n\\n        \\\"Database ID that uniquely identifies the taxon.\\\"\\n        taxonomyId: Int\\n\\n        \\\"Current NAMC laboratory scientic name for the taxon. Scientific names are unique across all taxa.\\\"\\n        scientificName: String\\n\\n        \\\"Database ID that identifies the taxonomic level of the taxon.\\\"\\n        levelId: Int\\n\\n        \\\"Taxonomic level of the taxon.\\\"\\n        levelName: String\\n\\n        synonyms: String\\n\\n        \\\"True if the taxon is at or below the level of effort required by the lab (e.g. genus or species). Or False for taxa above that level.\\\"\\n        isTargetEffort: Boolean\\n        \\n        \\\"Database ID of the parent of this taxon in the NAMC taxonomic hierarchy.\\\"\\n        parentTaxonomyId: Int\\n\\n        \\\"Scientific name of the parent of this taxon in the NAMC taxonomic hierarchy.\\\"\\n        parentScientificName: String\\n\\n        \\\"Database ID of the taxonomic level of the parent in the NAMC taxonomic hierarchy.\\\"\\n        parentLevelId: Int\\n\\n        \\\"Taxonomic level of the parent of this taxon in the NAMC taxonomic hierarchy.\\\"\\n        parentLevelName: String\\n\\n        \\\"Miscellaneous notes about the taxon.\\\"\\n        notes: String\\n\\n        \\\"Miscellaneous information about stored as [JSON](https://namc-utah.github.io/namc-bug-db/API/metadata.html). Typically used during scripting and automated processes.\\\"\\n        metadata: String\\n\\n        \\\"Date and time that this taxon was added to the database.\\\"\\n        createdDate: String\\n\\n        \\\"Date and time that this taxon was last updated in the database.\\\"\\n        updatedDate: String\\n    }\\n\\n    type TaxonomyTree {\\n\\n        \\\"Database ID that uniquely identifies the taxon.\\\"\\n        taxonomyId: Int\\n\\n        \\\"Current NAMC laboratory scientic name for the taxon. Scientific names are unique across all taxa.\\\"\\n        scientificName: String\\n\\n        \\\"Database ID that identifies the taxonomic level of the taxon.\\\"\\n        levelId: Int\\n\\n        \\\"Taxonomic level of the taxon.\\\"\\n        levelName: String\\n\\n        \\\"Database ID of the parent of this taxon in the NAMC taxonomic hierarchy.\\\"\\n        parentId: Int\\n    }\\n\\n    type Model {\\n\\n        \\\"Database ID that uniquely identifies the model.\\\"\\n        modelId: Int\\n\\n        \\\"Full name of the model, unique across all models.\\\"\\n        modelName: String\\n\\n        \\\"Abbreviated name of the model, unique across all models.\\\"\\n        abbreviation: String\\n\\n        \\\"True indicates that the model is in active use. False indicates a deprecated model.\\\"\\n        isActive: Boolean\\n\\n        \\\"Miscellaneous information about the model.\\\"\\n        description: String\\n\\n        \\\"Number of predictors currently associated with the model. Use the predictors API endpoint for a list of the predictors associated with each model.\\\"\\n        predictorCount: Int\\n    }\\n\\n    type ModelInfo {\\n        \\\"Database ID that uniquely identifies the model.\\\"\\n        modelId: Int\\n\\n        \\\"Full name of the model, unique across all models.\\\"\\n        modelName: String\\n\\n        \\\"Abbreviated name of the model, unique across all models.\\\"\\n        abbreviation: String\\n\\n        \\\"Model type (e.g. OE, MMI, hybrid, measurement).\\\"\\n        modelType: String\\n\\n        \\\"Model type abbreviation\\\"\\n        modelTypeAbbreviation: String\\n\\n        \\\"Database ID identifying the translation (OTU) used by the model.\\\"\\n        translationId: Int\\n\\n        \\\"Name of the translation (OTU) used by the model.\\\"\\n        translation: String\\n\\n        \\\"Description of the geographic extent to which the model applies.\\\"\\n        extentDescription: String\\n\\n        \\\"Platform on which the model runs (e.g. R, MS Access).\\\"\\n        platform: String\\n\\n        \\\"Number of reference sites used to build the model.\\\"\\n        referenceSites: Int\\n\\n        \\\"TODO\\\"\\n        groupCount: Int\\n\\n        \\\"Minimum organisms required to run the model.\\\"\\n        minimumCount: Int\\n\\n        \\\"TODO\\\"\\n        oeMean: Float\\n\\n        \\\"TODO\\\"\\n        oeStdev: Float\\n\\n        \\\"TODO\\\"\\n        taxonomicEffort: String\\n\\n        \\\"True indicates the model is in active use. False indicates a deprecated model.\\\"\\n        isActive: Boolean\\n\\n        \\\"Fixed total number of organisms used to run the model.\\\"\\n        fixedCount: Int\\n\\n        \\\"Units of the model result.\\\"\\n        units: String\\n\\n        \\\"Miscellaneous information about the model.\\\"\\n        description: String\\n\\n        \\\"Miscellaneous information about stored as [JSON](https://namc-utah.github.io/namc-bug-db/API/metadata.html). Typically used during scripting and automated processes.\\\"\\n        metadata: String\\n\\n        \\\"Number of predictors currently associated with the model.\\\"\\n        predictorCount: Int\\n\\n        \\\"Date and time that the model was added to the database.\\\"\\n        createdDate: String\\n\\n        \\\"Date and time that the model was last updated in the database.\\\"\\n        updatedDate: String\\n\\n        \\\"The polygon, in [GeoJSON](https://namc-utah.github.io/namc-bug-db/API/geojson.html) format, that defines the geographic extent that the model applies to.\\\"\\n        extent: String\\n    }\\n\\n    type ModelCondition {\\n\\n        \\\"Database ID that uniquely identifies the model.\\\"\\n        modelId: Int\\n\\n        \\\"Database ID that uniquely identifies the condition for the specified model.\\\"\\n        conditionId: Int\\n\\n        \\\"Name of the condition. Must be unique across all conditions for a single model.\\\"\\n        condition: String\\n\\n        \\\"Display text for the model condition.\\\"\\n        displayText: String\\n\\n        \\\"Standardized text for the model condition\\\"\\n        standardDisplayText: String\\n\\n        \\\"Miscellaneous information about the model condition.\\\"\\n        description: String\\n    }\\n\\n    type Metric {\\n\\n        \\\"Database ID that uniquely identifies the metric.\\\"\\n        metricId: Int\\n\\n        \\\"Unique metrics name.\\\"\\n        metricName: String\\n\\n        \\\"Metric abbreviation\\\"\\n        abbreviation: String\\n\\n        \\\"Display name for the metric used in reports. If null, then the metricName is used instead.\\\"\\n        displayText: String\\n\\n        \\\"Database ID of the group in which the metric appears in reports.\\\"\\n        metricGroupId: Int\\n\\n        \\\"Name of the group in which the metric appears in reports.\\\"\\n        metricGroupName: String\\n\\n        \\\"Name of the database stored procedure that calculates the metric value.\\\"\\n        codeFunction: String\\n\\n        \\\"Whether the metric involves filtering by taxonomy, attribute or no filtering.\\\"\\n        filtering: String\\n        \\n        \\\"True indicates that the metric requires rarefied data. False indicates that the metric uses raw laboratory organism counts.\\\"\\n        isStandardized: Boolean\\n\\n        \\\"The direction that indicates an improvement in conditions (e.g. Increases, Decreases, Increase or Decrease, Variable).\\\"\\n        perturbDirection: String\\n\\n        \\\"Miscellaneous information about the metric.\\\"\\n        description: String\\n\\n        \\\"Date and time that the metric definition was added to the database.\\\"\\n        createdDate: String\\n\\n        \\\"Date and time that the metric definition was last updated in the database.\\\"\\n        updatedDate: String\\n    }\\n\\n    \\\"\\\"\\\"\\n    The value of a non-temporal predictor for a particular site.\\n    \\\"\\\"\\\"\\n    type SitePredictorValue {\\n\\n        \\\"Database ID that uniquely identifies the predictor.\\\"\\n        predictorId: Int\\n\\n        \\\"Predictor name, unique across all predictors.\\\"\\n        predictorName: String\\n\\n        \\\"The unique shorthand abbreviation for the predictor.\\\"\\n        abbreviation: String\\n\\n        \\\"Miscellaneous information about the predictor.\\\"\\n        description: String\\n\\n        \\\"The predictor type (e.g. metrics, atmosphere, geology, anthro).\\\"\\n        predictorType: String\\n\\n        \\\"\\\"\\\"\\n        The predictor value for this site. The value is always a string, even\\n        if it represents an integer or floating point value.\\n        \\\"\\\"\\\"\\n        predictorValue: String\\n\\n        \\\"Date and time that the predictor value was added to the database.\\\"\\n        createdDate: String\\n\\n        \\\"Date and time that the predictor value was last updated.\\\"\\n        updatedDate: String\\n\\n        \\\"Optional name of the R function that performs the calculation for this predictor.\\\"\\n        calculationScript: String\\n    }\\n\\n    \\\"\\\"\\\"\\n    Information about a predictor.\\n\\n    Each predictor can be associated with multiple models. Predictors can also\\n    be temporal, in which their values are associated with a particular sample,\\n    or they can be non-temporal, in which case their values are associated with\\n    sites.\\n    \\\"\\\"\\\"\\n    type Predictor {\\n\\n        \\\"Database ID that uniquely identifies the predictor.\\\"\\n        predictorId: Int\\n\\n        \\\"Predictor name, unique across all predictors in the system.\\\"\\n        predictorName: String\\n\\n        \\\"Abbreviated predictor name, unique across all predictors in the system.\\\"\\n        abbreviation: String\\n\\n        \\\"Units in which the predictor values are stored.\\\"\\n        units: String\\n\\n       \\\"Predictor type (e.g. metrics, atmosphere, geology, anthro).\\\"\\n        predictorType: String\\n\\n        \\\"\\\"\\\"\\n        Boolean representing whether the predictor varies over time or whether\\n        there is just a single value for the site. True indicates that the predictor\\n        is temporal and values are stored for each sample. False indicates that there\\n        is only one predictor value for each site.\\n        \\\"\\\"\\\"\\n        isTemporal: Boolean\\n\\n        \\\"Miscellaneous information about the predictor.\\\"\\n        description: String\\n\\n        \\\"Miscellaneous information about stored as [JSON](https://namc-utah.github.io/namc-bug-db/API/metadata.html). Typically used during scripting and automated processes.\\\"\\n        metadata: String\\n\\n        \\\"The number of models that currently use the predictor\\\"\\n        modelCount: Int\\n\\n        \\\"Date and time that the predictor was added to the database.\\\"\\n        createdDate: String\\n\\n        \\\"Date and time that the predictor was last updated in the database.\\\"\\n        updatedDate: String\\n\\n        \\\"Optional name of the R function that performs the calculation for this predictor.\\\"\\n        calculationScript: String\\n\\n        \\\"Source information about the predictor.\\\"\\n        source: String\\n    }\\n\\n    type Translation {\\n\\n        \\\"Database ID that uniquely identifies the translation (OTU).\\\"\\n        translationId: Int\\n\\n        \\\"Translation (OTU) name, unique across all translations in the system.\\\"\\n        translationName: String\\n\\n        \\\"Miscellaneous information about the translation.\\\"\\n        description: String\\n\\n        \\\"True indicates that the translation is in active use. False indicates that the translation has been deprecated.\\\"\\n        isActive: Boolean\\n\\n        \\\"Current number of taxa associated with the translation. See [translation](https://namc-utah.github.io/namc-bug-db/Technical_Reference/translations.html) for more information.\\\"\\n        taxaCount: Int\\n\\n        \\\"Date and time that the translation was added to the database.\\\"\\n        createdDate: String\\n\\n        \\\"Date and time that the translation was last updated in the database.\\\"\\n        updatedDate: String\\n    }\\n\\n    type TranslationTaxa {\\n\\n        \\\"Database ID of the translation (OTU) that this taxon appears in.\\\"\\n        translationId: Int\\n\\n        \\\"Name of the translation (OTU) that this taxon appears in.\\\"\\n        translationName: String\\n\\n        \\\"Database ID of the taxon that appears in the translation.\\\"\\n        taxonomyId: Int\\n\\n        \\\"Database ID of the taxonomic level for the taxon.\\\"\\n        levelId: Int\\n\\n        \\\"Taxonomic level of the taxon in the NAMC taxonomic hierarchy.\\\"\\n        levelName: String\\n\\n        \\\"NAMC scientific name for the taxon. This is the current scientific name used by taxonomists in the NAMC laboratory.\\\"\\n        originalScientificName: String\\n\\n        \\\"\\\"\\\"\\n        The name used for the taxon within the translation (OTU).\\n        This might be the same as the NAMC scientific name, or it might be an alias, specific to the OTU.\\n        \\\"\\\"\\\"\\n        translationScientificName: String\\n\\n        \\\"\\\"\\\"\\n        True indicates that the taxon is part of the final set of taxa used to calibrate the model.\\n        False indicates that the taxon was part of the larger set initially identified during model development.\\n        \\\"\\\"\\\"\\n        isFinal: Boolean\\n    }\\n\\n    type Attribute {\\n\\n        \\\"Database ID that uniquely identifies the attribute definition.\\\"\\n        attributeId: Int\\n\\n        \\\"Attribute name, unique across all attributes in the database.\\\"\\n        attributeName: String\\n\\n        \\\"TODO (they are all Unknown in the SLQ file) Attribute type (e.g. )\\\"\\n        attributeType: String\\n\\n        \\\"Display label used for the attribute in reports\\\"\\n        label: String\\n\\n        \\\"Miscellaneous information about the attribute.\\\"\\n        description: String\\n\\n        \\\"Miscellaneous information about stored as [JSON](https://namc-utah.github.io/namc-bug-db/API/metadata.html). Typically used during scripting and automated processes.\\\"\\n        metadata: String\\n\\n        \\\"Date and time that the attribute was added to the database.\\\"\\n        createdDate: String\\n\\n        \\\"Date and time that the attribute was last updated in the database.\\\"\\n        updatedDate: String\\n    }\\n\\n    type AttributeValue {\\n\\n        \\\"Database ID of the taxon to which this attribute value applies.\\\"\\n        taxonomyId: Int\\n\\n        \\\"Current scientific name for the taxon to which this attribute value applies.\\\"\\n        scientificName: String\\n\\n        \\\"Database ID of the taxonomic level for the taxon.\\\"\\n        levelId:  Int\\n\\n        \\\"Taxonomic level of the taxon to which this attribute value applies.\\\"\\n        levelName:  String\\n\\n        \\\"Attribute name.\\\"\\n        attributeName: String\\n\\n        \\\"Attribute type TODO (currently all Unknown)\\\"\\n        attributeType: String\\n\\n        \\\"Display label name for the attribute.\\\"\\n        label: String\\n\\n        \\\"Attribute value, always stored as a string.\\\"\\n        attributeValue: String\\n    }\\n\\n    type MetricResult  {\\n\\n        \\\"Database ID that identifies the sample.\\\"\\n        sampleId:    Int\\n\\n        \\\"Database ID that identifies the metric group for organizing metrics in reports.\\\"\\n        metricGroupId:     Int\\n\\n        \\\"Metric group name used for organizing metrics in reports.\\\"\\n        metricGroupName:   String\\n\\n        \\\"Database ID that identifies the metric.\\\"\\n        metricId:    Int\\n\\n        \\\"Metric name.\\\"\\n        metricName:  String\\n\\n        \\\"Shortened metric abbreviation\\\"\\n        metricAbbreviation: String\\n\\n        \\\"Metric value, always represented as a string.\\\"\\n        metricValue: String\\n  }\\n  # TODO: Eventually this should implement Entity but check for R problems firs\\n  # type Organization implements Entity{\\n  type Organization {\\n\\n        \\\"Database ID that uniquely identifies the organization.\\\"\\n        entityId: Int\\n\\n        \\\"Organization name, unique across all organizations in the database.\\\"\\n        organizationName: String\\n\\n        \\\"Organization Type (e.g. federal, tribe, university, other, private, state, international).\\\"\\n        organizationType: String\\n\\n        \\\"True if the organization is a laboratory.\\\"\\n        isLab: Boolean\\n\\n        \\\"Street address line 1.\\\"\\n        address1: String\\n\\n        \\\"Street address line 2.\\\"\\n        address2: String\\n\\n        \\\"City.\\\"\\n        city: String\\n\\n        \\\"US State. Null for international organizations.\\\"\\n        usState: String\\n\\n        \\\"Country.\\\"\\n        country: String\\n\\n        \\\"Postal code.\\\"\\n        zipCode: String\\n\\n        \\\"Telephone number with area code. Format (xxx) xxx-xxxx\\\"\\n        phone: String\\n\\n        \\\"Fax number. Format (xxx) xxx-xxxx\\\"\\n        fax: String\\n\\n        \\\"Organization's website URL. Includes the http:// or https:// prefix.\\\"\\n        website: String\\n\\n        \\\"Miscellaneous information about the organization.\\\"\\n        notes: String\\n\\n        \\\"Miscellaneous information about stored as [JSON](https://namc-utah.github.io/namc-bug-db/API/metadata.html). Typically used during scripting and automated processes.\\\"\\n        metadata: String\\n\\n        \\\"Date and time that the organization was added to the database.\\\"\\n        createdDate: String\\n\\n        \\\"Date and time that the organization was last updated in the database.\\\"\\n        updatedDate: String\\n    }\\n\\n\\n    # Pagination Types\\n  \\n    type PaginatedModels {\\n        records: [Model]\\n        nextOffset: Int\\n    }\\n    type PaginatedSites {\\n        records: [Site]\\n        nextOffset: Int\\n    }\\n    type PaginatedSamples {\\n        records: [Sample]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedBoxes {\\n        records: [Box]\\n        nextOffset: Int\\n    }\\n    type PaginatedProjects {\\n        records: [Project]\\n        nextOffset: Int\\n    }\\n    type PaginatedTaxonomies {\\n        records: [Taxonomy]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedTaxonomyTree {\\n        records: [TaxonomyTree]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedPredictors {\\n        records: [Predictor]\\n        nextOffset: Int\\n    }\\n    type PaginatedSitePredictorValues {\\n        records: [SitePredictorValue]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedSamplePredictorValue {\\n        records: [SamplePredictorValue]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedTranslations {\\n        records: [Translation]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedTranslationTaxa {\\n        records: [TranslationTaxa]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedSampleTaxa {\\n        records: [SampleTaxa]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedSampleTaxaInfo {\\n        records: [SampleTaxaInfo]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedSampleTaxaAttribute {\\n        records: [SampleTaxaAttribute]\\n        nextOffset: Int\\n    }    \\n\\n    type PaginatedPlankton {\\n        records: [PlanktonSample]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedDrift {\\n        records: [DriftSample]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedFish {\\n        records: [FishSample]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedMass {\\n        records: [MassSample]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedAttributes {\\n        records: [Attribute]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedAttributeValues {\\n        records: [AttributeValue]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedModelConditions {\\n        records: [ModelCondition]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedMetrics {\\n        records: [Metric]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedMetricResult {\\n        records: [MetricResult]\\n        nextOffset: Int\\n    }\\n\\n    type PaginatedModelResult {\\n        records: [ModelResult]\\n        nextOffset: Int\\n    }\\n\\n    # type PaginatedFishDiet {\\n    #     records: [FishDiet]\\n    #     nextOffset: Int\\n    # }\\n\\n    type PaginatedOrganizations {\\n        records: [Organization]\\n        nextOffset: Int\\n    }\\n\\n\\n    interface Entity {\\n      \", \"\\n    }\\n\\n    # A user is like an individual but we're leaving that type alone for now\\n    type Profile implements Entity{\\n      id: Int!\\n      firstName: String!\\n      lastName: String!\\n      initials: String\\n      email: String\\n      title: String\\n      organizationName: String\\n      permissions: JSONObject\\n      \", \"\\n    }\\n\\n    type SortingUser {\\n      id: ID!\\n      firstName: String!\\n      lastName: String!\\n      title: String\\n      organizationName: String\\n    }\\n\\n    \", \"\\n\"])), exports.queryLimits.organizations, exports.queryLimits.samples, exports.queryLimits.sites, exports.queryLimits.boxes, exports.queryLimits.projects, exports.queryLimits.predictors, exports.queryLimits.models, exports.queryLimits.sitePredictorValues, exports.queryLimits.modelResults, exports.queryLimits.taxonomy, exports.queryLimits.taxonomy, exports.queryLimits.taxonomy, exports.queryLimits.taxonomy, exports.queryLimits.translations, exports.queryLimits.samples, exports.queryLimits.samples, exports.queryLimits.samples, exports.queryLimits.samples, exports.queryLimits.samples, exports.queryLimits.samples, exports.queryLimits.sites, exports.queryLimits.samples, exports.queryLimits.metrics, entityFields, entityFields, lookups_graphql_1.default);\nexports.default = typeDefs;\nvar templateObject_1;\n//# sourceMappingURL=schema.graphql.js.map","\"use strict\";\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar graphql_tag_1 = __importDefault(require(\"graphql-tag\"));\nexports.default = (0, graphql_tag_1.default)(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  type Lookups {\\n    geo: GeoLookups\\n    entity: EntityLookups\\n    taxa: TaxaLookups\\n    sample: SampleLookups\\n    metric: MetricLookups\\n    billing: BillingLookups\\n  }\\n\\n  ##########################################\\n  # Sample Lookups\\n  ##########################################\\n\\n  type GeoLookups {\\n    countries: JSONObject\\n    states: JSONObject\\n    landUses: JSONObject\\n    ecosystems: JSONObject\\n    habitats: JSONObject\\n    units: JSONObject\\n    systems: JSONObject\\n    waterbodyTypes: JSONObject\\n    predictorTypes: JSONObject\\n    modelTypes: JSONObject\\n    taxonomicEffort: JSONObject\\n  }\\n\\n  type TaxaLookups {\\n    taxaLevels: JSONObject\\n    lifeStages: JSONObject\\n    attributeTypes: JSONObject\\n  }\\n\\n  ##########################################\\n  # Sample Lookups\\n  ##########################################\\n  type EntityLookups {\\n    organizationTypes: JSONObject\\n    roles: JSONObject\\n  }\\n  ##########################################\\n  # Sample Lookups\\n  ##########################################\\n  type SampleLookups {\\n    sampleMethods: JSONObject\\n    sampleTypes: JSONObject\\n    boxStates: JSONObject\\n    massMethods: JSONObject\\n    massTypes: JSONObject\\n    noteTypes: JSONObject\\n    assetTypes: JSONObject\\n    towTypes: JSONObject\\n  }\\n\\n  ##########################################\\n  # Metric Lookups\\n  ##########################################\\n  type MetricLookups {\\n    metricGroups: JSONObject\\n    calculations: JSONObject\\n    perturbationDirections: JSONObject\\n    metricCalculationTypes: JSONObject\\n  }\\n\\n  ##########################################\\n  # Billing Lookups\\n  ##########################################\\n  type BillingLookups {\\n    lineItemTypes: JSONObject\\n    agreementTypes: JSONObject\\n  }\\n\"], [\"\\n  type Lookups {\\n    geo: GeoLookups\\n    entity: EntityLookups\\n    taxa: TaxaLookups\\n    sample: SampleLookups\\n    metric: MetricLookups\\n    billing: BillingLookups\\n  }\\n\\n  ##########################################\\n  # Sample Lookups\\n  ##########################################\\n\\n  type GeoLookups {\\n    countries: JSONObject\\n    states: JSONObject\\n    landUses: JSONObject\\n    ecosystems: JSONObject\\n    habitats: JSONObject\\n    units: JSONObject\\n    systems: JSONObject\\n    waterbodyTypes: JSONObject\\n    predictorTypes: JSONObject\\n    modelTypes: JSONObject\\n    taxonomicEffort: JSONObject\\n  }\\n\\n  type TaxaLookups {\\n    taxaLevels: JSONObject\\n    lifeStages: JSONObject\\n    attributeTypes: JSONObject\\n  }\\n\\n  ##########################################\\n  # Sample Lookups\\n  ##########################################\\n  type EntityLookups {\\n    organizationTypes: JSONObject\\n    roles: JSONObject\\n  }\\n  ##########################################\\n  # Sample Lookups\\n  ##########################################\\n  type SampleLookups {\\n    sampleMethods: JSONObject\\n    sampleTypes: JSONObject\\n    boxStates: JSONObject\\n    massMethods: JSONObject\\n    massTypes: JSONObject\\n    noteTypes: JSONObject\\n    assetTypes: JSONObject\\n    towTypes: JSONObject\\n  }\\n\\n  ##########################################\\n  # Metric Lookups\\n  ##########################################\\n  type MetricLookups {\\n    metricGroups: JSONObject\\n    calculations: JSONObject\\n    perturbationDirections: JSONObject\\n    metricCalculationTypes: JSONObject\\n  }\\n\\n  ##########################################\\n  # Billing Lookups\\n  ##########################################\\n  type BillingLookups {\\n    lineItemTypes: JSONObject\\n    agreementTypes: JSONObject\\n  }\\n\"])));\nvar templateObject_1;\n//# sourceMappingURL=lookups.graphql.js.map","\"use strict\";\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.metrics = exports.authCheck = exports.apiCall = void 0;\nvar axios_1 = __importDefault(require(\"axios\"));\nvar graphql_1 = require(\"graphql\");\nvar graphql_tag_1 = __importDefault(require(\"graphql-tag\"));\nvar loglevel_1 = __importDefault(require(\"loglevel\"));\nvar apiCall = function (url, jwt, query, variables, timeout) {\n    var start = Date.now();\n    return (0, axios_1.default)({\n        url: url,\n        method: 'post',\n        timeout: timeout,\n        headers: {\n            Authorization: jwt ? \"Bearer \" + jwt : 'Bearer NONE',\n        },\n        data: {\n            query: (0, graphql_1.print)(query),\n            variables: variables,\n        },\n    })\n        .then(function (_a) {\n        var axiosData = _a.data;\n        var time = (Date.now() - start) / 1000;\n        if (time > 10)\n            loglevel_1.default.warn(\"Query took \" + time.toFixed(1) + \" seconds. \" + (0, graphql_1.print)(query).replace(/\\n/g, '').slice(0, 50) + \" \" + JSON.stringify(variables));\n        return axiosData;\n    })\n        .catch(function (err) {\n        if (err.response && err.response.status === 404) {\n            throw new Error(\"API Url not found: \" + url);\n        }\n        else if (err.code && err.code === 'ECONNREFUSED') {\n            throw new Error(\"Connection refused. Could not contact: '\" + url + \"'\");\n        }\n        else {\n            loglevel_1.default.error('apiCall Error', { url: url, jwt: jwt, query: (0, graphql_1.print)(query), variables: variables, err: err });\n            throw err;\n        }\n    });\n};\nexports.apiCall = apiCall;\nfunction authCheck(url, jwt, timeout) {\n    return (0, exports.apiCall)(url, jwt, (0, graphql_tag_1.default)(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      query AuthCall {\\n        auth {\\n          loggedIn\\n          userPool\\n          clientId\\n          region\\n          domain\\n        }\\n      }\\n    \"], [\"\\n      query AuthCall {\\n        auth {\\n          loggedIn\\n          userPool\\n          clientId\\n          region\\n          domain\\n        }\\n      }\\n    \"]))), {}, timeout);\n}\nexports.authCheck = authCheck;\nfunction metrics(url, jwt, limit, offset, timeout) {\n    return (0, exports.apiCall)(url, jwt, (0, graphql_tag_1.default)(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n      query getMetrics($limit: Int, $offset: Int) {\\n        metrics(limit: $limit, offset: $offset) {\\n          records {\\n            metricId\\n            metricName\\n            displayText\\n            metricGroupId\\n            metricGroupName\\n            codeFunction\\n            isStandardized\\n            perturbDirection\\n            description\\n            createdDate\\n            updatedDate\\n            updatedDate\\n          }\\n        }\\n      }\\n    \"], [\"\\n      query getMetrics($limit: Int, $offset: Int) {\\n        metrics(limit: $limit, offset: $offset) {\\n          records {\\n            metricId\\n            metricName\\n            displayText\\n            metricGroupId\\n            metricGroupName\\n            codeFunction\\n            isStandardized\\n            perturbDirection\\n            description\\n            createdDate\\n            updatedDate\\n            updatedDate\\n          }\\n        }\\n      }\\n    \"]))), { limit: limit, offset: offset }, timeout);\n}\nexports.metrics = metrics;\nvar templateObject_1, templateObject_2;\n//# sourceMappingURL=api.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.snake2camel = exports.camel2snake = void 0;\nvar change_case_1 = require(\"change-case\");\nvar camel2snake = function (inobj) {\n    return Object.keys(inobj).reduce(function (acc, key) {\n        var _a;\n        return (__assign(__assign({}, acc), (_a = {}, _a[(0, change_case_1.snakeCase)(key)] = inobj[key], _a)));\n    }, {});\n};\nexports.camel2snake = camel2snake;\nvar snake2camel = function (inobj) {\n    return Object.keys(inobj).reduce(function (acc, key) {\n        var _a;\n        return (__assign(__assign({}, acc), (_a = {}, _a[(0, change_case_1.camelCase)(key)] = inobj[key], _a)));\n    }, {});\n};\nexports.snake2camel = snake2camel;\n//# sourceMappingURL=util.js.map","import log from 'loglevel'\n\nlet domain = process.env.REACT_APP_DOMAIN\nif (process.env.NODE_ENV && process.env.NODE_ENV === 'development') {\n  domain = 'localhost'\n  // basename = ''\n}\nlog.debug('config: ', { domain })\nexport const isDev = process.env.NODE_ENV && process.env.NODE_ENV === 'development'\nexport const version = process.env.REACT_APP_VERSION\n\nexport const endpoints = {\n  graphql: `${process.env.REACT_APP_GRAPHQL}` as string,\n}\n\n/**\n * Here are the App defaults we might want to change\n */\nexport const appDefaults = {\n  apiTimeout: 20000, // ms timeout for API Queries\n}\n\nexport const redirectUrl = new URL(\n  process.env.PUBLIC_URL.endsWith('/') ? process.env.PUBLIC_URL : process.env.PUBLIC_URL + '/',\n  window.location.origin\n)\n\nlog.debug('RedirectUrl', { redirectUrl, publicUrl: process.env.PUBLIC_URL })\n","import gql from 'graphql-tag'\nimport { PaginatedRecords, Sample as GraphSample, SampleTaxaInfo as GraphSampleTaxaInfo } from '@namcbugdb/common'\nimport { Sample } from '../../types'\n\nexport type ResponseData = {\n  samples: PaginatedRecords<GraphSample>\n  sampleTaxaInfo: PaginatedRecords<GraphSampleTaxaInfo>\n}\n\nexport const query = gql`\n  query ($sampleId: Int!) {\n    samples(sampleIds: [$sampleId]) {\n      records {\n        sampleId\n        boxId\n        boxState\n        measurements\n        customerName\n        sampleDate\n        siteName\n        usState\n        idErId\n        idStartDate\n        idEndDate\n        sorterId\n        sorterName\n        sortTime\n        sortDate\n        sorterCount\n        elutriation\n        labSplit\n        measurements\n      }\n    }\n    sampleTaxaInfo(sampleIds: [$sampleId]) {\n      records {\n        sampleId\n        organismId\n        lifeStageId\n        taxonomyId\n        levelId\n        levelName\n        splitCount\n        noteTypeIds\n        comments\n      }\n    }\n  }\n`\n\nexport const transformData = (data: ResponseData): Sample => {\n  const sample = data.samples.records[0]\n  const organisms = data.sampleTaxaInfo.records\n\n  const {\n    sampleId: id,\n    idErId: identificationUserId,\n    idStartDate: identificationStartDate,\n    idEndDate: identificationEndDate,\n    boxState,\n    ...restSample\n  } = sample\n\n  return {\n    ...restSample,\n    id,\n    identificationUserId,\n    identificationStartDate,\n    identificationEndDate,\n    boxState,\n    organisms: organisms.map((organism) => ({\n      ...organism,\n      id: organism.organismId,\n      taxonId: organism.taxonomyId,\n      noteTypeIds: organism.noteTypeIds.filter((noteTypeId) => noteTypeId !== null),\n    })),\n  }\n}\n","import gql from 'graphql-tag'\nimport { PaginatedRecords, Taxonomy as GraphTaxonomy } from '@namcbugdb/common'\nimport { Taxon } from '../../types'\n\nexport type ResponseData = {\n  taxonomy: PaginatedRecords<GraphTaxonomy>\n}\n\nexport const query = gql`\n  query ($offset: Int) {\n    taxonomy(limit: 1000, offset: $offset, searchTerm: \"%\") {\n      records {\n        taxonomyId\n        scientificName\n        levelId\n        levelName\n        synonyms\n        parentTaxonomyId\n        notes\n        isTargetEffort\n      }\n      nextOffset\n    }\n  }\n`\n\nexport const transformData = (data: ResponseData): Taxon[] => {\n  const { records } = data.taxonomy\n\n  return records.map(\n    ({\n      taxonomyId: id,\n      scientificName: name,\n      levelId,\n      levelName,\n      parentTaxonomyId: parentId,\n      synonyms: synonymsJson,\n      isTargetEffort,\n    }) => ({\n      id,\n      name,\n      levelId,\n      levelName,\n      levelRankOrder: -1, // TODO: do something instead of hacking this (re-type as optional, or mod type)\n      parentId,\n      synonyms: synonymsJson ? JSON.parse(synonymsJson) : [],\n      isTargetEffort,\n    })\n  )\n}\n","import gql from 'graphql-tag'\nimport { BoxInfo as GraphBoxInfo } from '@namcbugdb/common'\nimport { Box } from '../../types'\n\nexport type ResponseData = {\n  boxInfo: GraphBoxInfo\n}\n\nexport const query = gql`\n  query ($boxId: Int!) {\n    boxInfo(boxId: $boxId) {\n      boxId\n      measurements\n    }\n  }\n`\n\nexport const transformData = (data: ResponseData): Box => {\n  const { boxInfo } = data\n\n  return {\n    id: boxInfo.boxId,\n    measurements: boxInfo.measurements,\n  }\n}\n","import gql from 'graphql-tag'\nimport {\n  TaxaLevelLookup as GraphTaxaLevelLookup,\n  LifeStageLookup as GraphLifeStageLookup,\n  NoteTypes as GraphNoteTypes,\n} from '@namcbugdb/common'\nimport { LifeStage, NoteType, TaxaLevel } from '../../types'\n\nexport type ResponseData = {\n  lookups: {\n    taxa: {\n      taxaLevels: GraphTaxaLevelLookup[]\n      lifeStages: GraphLifeStageLookup[]\n    }\n    sample: {\n      noteTypes: GraphNoteTypes[]\n    }\n  }\n}\n\nexport const query = gql`\n  query {\n    lookups {\n      taxa {\n        lifeStages\n        taxaLevels\n      }\n      sample {\n        noteTypes\n      }\n    }\n  }\n`\n\nexport const transformData = (\n  data: ResponseData\n): {\n  taxaLevels: TaxaLevel[]\n  lifeStages: LifeStage[]\n  noteTypes: NoteType[]\n} => {\n  const {\n    lookups: {\n      taxa: { taxaLevels, lifeStages },\n      sample: { noteTypes },\n    },\n  } = data\n  return {\n    taxaLevels,\n    lifeStages,\n    noteTypes,\n  }\n}\n","import gql from 'graphql-tag'\nimport { User as GraphUser } from '@namcbugdb/common'\nimport { MyUser } from '../../types'\n\nexport type ResponseData = {\n  myProfile: GraphUser\n}\n\nexport const query = gql`\n  query {\n    myProfile {\n      id\n      firstName\n      lastName\n      email\n      permissions\n    }\n  }\n`\n\nexport const transformData = (data: ResponseData): MyUser => {\n  const { myProfile } = data\n\n  return {\n    ...myProfile,\n    permissions: myProfile.permissions || {},\n    fullName: `${myProfile.firstName} ${myProfile.lastName}`,\n  }\n}\n","import gql from 'graphql-tag'\n\nimport { UnpersistedOrganism, Organism } from '../../types'\n\nexport const transformInput = (organism: UnpersistedOrganism | Organism): QueryVariables => {\n  return { lifeStageId: -1, ...organism } // TODO: fix this TS hack (lifeStageId always present when saving)\n}\n\ntype QueryVariables = {\n  sampleId: number\n  taxonId: number\n  lifeStageId: number\n  splitCount: number\n  bigRareCount: number | null\n  comments: string\n  noteTypeIds: number[]\n}\n\nexport const query = gql`\n  mutation (\n    $sampleId: ID!\n    $taxonId: ID!\n    $lifeStageId: ID!\n    $splitCount: Int!\n    $bigRareCount: Int\n    $comments: String\n    $noteTypeIds: [Int]\n  ) {\n    createSampleTaxaInfo(\n      sampleId: $sampleId\n      taxonomyId: $taxonId\n      lifeStageId: $lifeStageId\n      splitCount: $splitCount\n      comments: $comments\n      noteTypeIds: $noteTypeIds\n      bigRareCount: $bigRareCount\n    )\n  }\n`\n\nexport type ResponseData = {\n  createSampleTaxaInfo: number\n}\n\nexport const transformData = (data: ResponseData): { id: number } => {\n  const { createSampleTaxaInfo: id } = data\n\n  return { id }\n}\n","import gql from 'graphql-tag'\n\nimport { Organism } from '../../types'\n\nexport const transformInput = (organism: Organism): QueryVariables => ({\n  organismId: organism.id,\n})\n\ntype QueryVariables = {\n  organismId: number\n}\n\nexport const query = gql`\n  mutation ($organismId: ID!) {\n    deleteOrganism(organismId: $organismId)\n  }\n`\n\nexport type ResponseData = {\n  deleteOrganism: number // NOTE this is records affected, not an ID!\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport const transformData = (data: ResponseData): void => undefined\n","import gql from 'graphql-tag'\n\nexport const transformInput = ({ sampleId }: { sampleId: number }): QueryVariables => ({\n  sampleId,\n})\n\ntype QueryVariables = {\n  sampleId: number\n}\n\nexport const query = gql`\n  mutation ($sampleId: ID!) {\n    taxIdentificationStart(sampleId: $sampleId)\n  }\n`\n\nexport type ResponseData = {\n  taxIdentificationStart: number // NOTE this is records affected, 1 = success, 0 = failure\n}\n\nexport const transformData = (data: ResponseData): boolean => !!data.taxIdentificationStart\n","import gql from 'graphql-tag'\n\nexport const transformInput = ({ sampleId, time }: { sampleId: number; time: number }): QueryVariables => ({\n  sampleId,\n  time,\n})\n\ntype QueryVariables = {\n  sampleId: number\n  time: number\n}\n\nexport const query = gql`\n  mutation ($sampleId: ID!, $time: Float!) {\n    taxIdentificationStop(sampleId: $sampleId, time: $time)\n  }\n`\n\nexport type ResponseData = {\n  taxIdentificationStop: number // NOTE this is records affected, 1 = success, 0 = failure\n}\n\nexport const transformData = (data: ResponseData): boolean => !!data.taxIdentificationStop\n","import gql from 'graphql-tag'\n\nimport { LabSortSubmission } from '../../types'\n\nexport const transformInput = ({\n  sorterCount: count,\n  sortTime: time,\n  sortDate,\n  ...rest\n}: LabSortSubmission): QueryVariables => {\n  // TODO: this is truly awful code; surely we can do better with dates?\n  const sortDateObject = new Date(sortDate)\n  const now = new Date()\n  const todayDateObject = new Date(\n    new Date(now.getTime() - now.getTimezoneOffset() * 60 * 1000).toISOString().substring(0, 10)\n  )\n  const sortTimestamp = (new Date().getTime() - (todayDateObject.getTime() - sortDateObject.getTime())).toString()\n\n  return {\n    count,\n    time,\n    sortTimestamp,\n    ...rest,\n  }\n}\n\ntype QueryVariables = {\n  sampleId: number\n  sorterId: number\n  count: number\n  elutriation: boolean\n  time: number\n  sortTimestamp: string\n}\n\nexport const query = gql`\n  mutation (\n    $sampleId: ID!\n    $sorterId: ID!\n    $count: Int!\n    $elutriation: Boolean!\n    $time: Float!\n    $sortTimestamp: String!\n    $labSplit: Float!\n  ) {\n    labSort(\n      sampleId: $sampleId\n      sorterId: $sorterId\n      count: $count\n      elutriation: $elutriation\n      time: $time\n      sortTimestamp: $sortTimestamp\n      labSplit: $labSplit\n    )\n  }\n`\n\nexport type ResponseData = {\n  labSort: number // NOTE: count of records changed\n}\n\nexport const transformData = (data: ResponseData): boolean => {\n  const { labSort } = data\n  return !!labSort\n}\n","import gql from 'graphql-tag'\nimport { User as GraphUser } from '@namcbugdb/common'\nimport { sortBy } from 'lodash'\nimport { User } from '../../types'\n\nexport type ResponseData = {\n  sorters: GraphUser[]\n}\n\nexport const query = gql`\n  query {\n    sorters {\n      id\n      firstName\n      lastName\n    }\n  }\n`\n\nexport const transformData = (data: ResponseData): User[] => {\n  const { sorters } = data\n  return sortBy(\n    sorters.map((user) => ({ ...user, fullName: `${user.firstName} ${user.lastName}` })),\n    'fullName'\n  )\n}\n","import { api } from '@namcbugdb/common'\nimport { ASTNode } from 'graphql'\nimport { endpoints } from '../../config'\nimport { UseHostedReturn } from '@namcbugdb/react-common'\nimport log from 'loglevel'\n\nimport {\n  Taxon,\n  UnpersistedOrganism,\n  LifeStage,\n  NoteType,\n  Sample,\n  Organism,\n  User,\n  TaxaLevel,\n  Box,\n  MyUser,\n  LabSortSubmission,\n} from '../../types'\nimport { Api } from './types'\n\nimport * as fetchSampleById from './fetchSampleById'\nimport * as fetchTaxa from './fetchTaxa'\nimport * as fetchBoxById from './fetchBoxById'\nimport * as fetchLookups from './fetchLookups'\nimport * as fetchMyUser from './fetchMyUser'\nimport * as upsertOrganism from './upsertOrganism'\nimport * as deleteOrganism from './deleteOrganism'\nimport * as startTaxonomyIdentification from './startTaxonomyIdentification'\nimport * as stopTaxonomyIdentification from './stopTaxonomyIdentification'\nimport * as updateLabSort from './updateLabSort'\nimport * as fetchSorterUsers from './fetchSorterUsers'\n\n// const uniqueNumericId = (() => {\n//   let id = 0\n//   return () => id++\n// })()\n\nclass GraphError extends Error {\n  constructor(message) {\n    super()\n    this.message = message\n  }\n\n  toString() {\n    return this.message\n  }\n}\n\nexport class GraphApi implements Api {\n  auth: UseHostedReturn\n  signOut: () => void\n\n  constructor(auth: UseHostedReturn, signOut: () => void) {\n    this.auth = auth\n    this.signOut = signOut\n  }\n\n  send = async <T>(query: ASTNode, variables?: { [key: string]: unknown }): Promise<T> => {\n    const jwt = await this.auth.getCurrentToken()\n    const response = await api.apiCall<T>(endpoints.graphql as string, jwt, query, variables)\n    const { data, errors } = response\n    if (errors || !data) {\n      log.debug(errors)\n      throw new GraphError(errors?.map((error) => error.message).join('\\n'))\n    }\n    return data\n  }\n\n  fetchTaxa = async (): Promise<Taxon[]> => {\n    const { query, transformData } = fetchTaxa\n\n    let offset: number | null | undefined = 0\n    const completeData: fetchTaxa.ResponseData = {\n      taxonomy: { records: [] },\n    }\n\n    while (offset !== null) {\n      const {\n        taxonomy: { records, nextOffset },\n      } = await this.send<fetchTaxa.ResponseData>(query, { offset })\n\n      completeData.taxonomy.records.push(...records)\n      offset = nextOffset\n    }\n\n    return transformData(completeData)\n  }\n\n  fetchLookups = async (): Promise<{\n    taxaLevels: TaxaLevel[]\n    lifeStages: LifeStage[]\n    noteTypes: NoteType[]\n  }> => {\n    const { query, transformData } = fetchLookups\n    const data = await this.send<fetchLookups.ResponseData>(query)\n    return transformData(data)\n  }\n\n  fetchSampleById = async (sampleId: number): Promise<Sample | null> => {\n    const { query, transformData } = fetchSampleById\n    const data = await this.send<fetchSampleById.ResponseData>(query, { sampleId })\n    if (data.samples.records.length === 0) return null\n    return transformData(data)\n  }\n\n  fetchBoxById = async (boxId: number): Promise<Box | null> => {\n    const { query, transformData } = fetchBoxById\n    const data = await this.send<fetchBoxById.ResponseData>(query, { boxId })\n    if (!data.boxInfo) return null\n    return transformData(data)\n  }\n\n  fetchMyUser = async (): Promise<MyUser> => {\n    const { query, transformData } = fetchMyUser\n    const data = await this.send<fetchMyUser.ResponseData>(query)\n    return transformData(data)\n  }\n\n  fetchSorterUsers = async (): Promise<User[]> => {\n    const { query, transformData } = fetchSorterUsers\n    const data = await this.send<fetchSorterUsers.ResponseData>(query)\n    return transformData(data)\n  }\n\n  upsertOrganism = async (organism: UnpersistedOrganism | Organism): Promise<{ id: number }> => {\n    const { query, transformInput, transformData } = upsertOrganism\n    const variables = transformInput(organism)\n    const data = await this.send<upsertOrganism.ResponseData>(query, variables)\n    return transformData(data)\n  }\n\n  deleteOrganism = async (organism: Organism): Promise<void> => {\n    const { query, transformInput, transformData } = deleteOrganism\n    const variables = transformInput(organism)\n    const data = await this.send<deleteOrganism.ResponseData>(query, variables)\n    return transformData(data)\n  }\n\n  startTaxonomyIdentification = async (params: { sampleId: number }): Promise<boolean> => {\n    const { query, transformInput, transformData } = startTaxonomyIdentification\n    const variables = transformInput(params)\n    const data = await this.send<startTaxonomyIdentification.ResponseData>(query, variables)\n    return transformData(data)\n  }\n\n  stopTaxonomyIdentification = async (params: { sampleId: number; time: number }): Promise<boolean> => {\n    const { query, transformInput, transformData } = stopTaxonomyIdentification\n    const variables = transformInput(params)\n    const data = await this.send<stopTaxonomyIdentification.ResponseData>(query, variables)\n    return transformData(data)\n  }\n\n  updateLabSort = async (params: LabSortSubmission): Promise<boolean> => {\n    const { query, transformInput, transformData } = updateLabSort\n    try {\n      const variables = transformInput(params)\n      const data = await this.send<updateLabSort.ResponseData>(query, variables)\n      return transformData(data)\n    } catch (error) {\n      return false\n    }\n  }\n}\n","import { Taxon } from '../types'\n\nexport const withDescendantIds = (taxa: Taxon[]): Taxon[] => {\n  const highestLevelRankOrder = taxa.reduce(\n    (highest: number, { levelRankOrder }) => Math.max(highest, levelRankOrder),\n    0\n  )\n\n  const result = taxa.map((taxon) => ({ ...taxon })) // copy array\n\n  let currentLevel = highestLevelRankOrder\n\n  while (currentLevel > 0) {\n    // eslint-disable-next-line no-loop-func\n    result.forEach((taxon) => {\n      if (taxon.levelRankOrder !== currentLevel) return\n\n      const childTaxons = result.filter(({ parentId }) => parentId === taxon.id)\n      taxon.descendantIds = childTaxons.reduce(\n        (acc, { id, descendantIds }) => [...acc, id, ...(descendantIds || [])],\n        [] as number[]\n      )\n    })\n    currentLevel -= 1\n  }\n  return result\n}\n","import log from 'loglevel'\n\nimport { selectMyUserUnprivileged } from '../mock' // TODO: remove this hack\n\nimport {\n  Taxon,\n  Organism,\n  UnpersistedOrganism,\n  LifeStage,\n  NoteType,\n  Sample,\n  TaxaLevel,\n  Box,\n  MyUser,\n  User,\n  LabSortSubmission,\n} from '../../types'\nimport { Api } from './types'\n\nconst uniqueNumericId = (() => {\n  let id = 0\n  return () => id++\n})()\n\nexport class MockApi implements Api {\n  responseDelay = 1000\n\n  constructor() {\n    // globalThis.MockApi = this\n  }\n\n  wait = async (): Promise<void> => {\n    return new Promise((resolve) => {\n      window.setTimeout(resolve, this.responseDelay)\n    })\n  }\n\n  signOut = (): void => undefined\n\n  fetchTaxa = async (): Promise<Taxon[]> => {\n    return []\n  }\n\n  fetchLookups = async (): Promise<{\n    taxaLevels: TaxaLevel[]\n    lifeStages: LifeStage[]\n    noteTypes: NoteType[]\n  }> => ({\n    taxaLevels: [],\n    lifeStages: [],\n    noteTypes: [],\n  })\n\n  fetchSampleById = async (sampleId: number): Promise<Sample | null> => {\n    log.debug('fetchSampleById', sampleId)\n    return null\n  }\n\n  fetchBoxById = async (boxId: number): Promise<Box | null> => {\n    log.debug('fetchBoxById', boxId)\n    return null\n  }\n\n  upsertOrganism = async (organism: UnpersistedOrganism | Organism): Promise<{ id: number }> => {\n    log.debug('MockApi upsertOrganism', organism)\n    await this.wait()\n    return { id: uniqueNumericId() }\n  }\n\n  deleteOrganism = async (organism: Organism): Promise<void> => {\n    log.debug('MockApi deleteOrganism', organism)\n    await this.wait()\n  }\n\n  fetchMyUser = async (): Promise<MyUser> => {\n    return selectMyUserUnprivileged()\n  }\n\n  fetchSorterUsers = async (): Promise<User[]> => {\n    log.debug('MockApi fetchSorterUsers')\n    return []\n  }\n\n  startTaxonomyIdentification = async (params: { sampleId: number }): Promise<boolean> => {\n    log.debug('MockApi startTaxonomyIdentification', params)\n    return true\n  }\n\n  stopTaxonomyIdentification = async (params: { sampleId: number; time: number }): Promise<boolean> => {\n    log.debug('MockApi stopTaxonomyIdentification', params)\n    return true\n  }\n\n  updateLabSort = async (params: LabSortSubmission): Promise<boolean> => {\n    log.debug('MockApi updateLabSort', params)\n    return true\n  }\n}\n","import { atom } from 'recoil'\nimport { MockApi } from './MockApi'\nimport { Api } from './types'\n// import log from 'loglevel'\n\nexport const apiState = atom({\n  key: 'apiState',\n  default: new MockApi() as Api,\n})\n","// import { camelCase, snakeCase } from 'lodash'\n\nimport noteTypes from './noteTypes.json'\nimport taxa from './taxa.json'\nimport lookups from './lookups.json'\nimport * as fetchSampleById from '../api/fetchSampleById'\nimport fetchSampleByIdMockData from './fetchSampleById.mock.json'\n\nimport { Taxon, LifeStage, NoteType, Sample, MyUser } from '../../types'\nimport { withDescendantIds } from '../../lib/taxonomy'\nimport { NAMCResource } from '@namcbugdb/common'\n\nexport const selectLifeStages = (): LifeStage[] =>\n  lookups.data.lookups.taxa.lifeStages.sort((a, b) => a.rankOrder - b.rankOrder)\n\nexport const selectNoteTypes = (): NoteType[] =>\n  noteTypes.map(({ note_id: id, abbreviation, note_name: name, is_active: isActive }) => ({\n    id,\n    name,\n    abbreviation,\n    isActive,\n  }))\n\nexport const selectTaxa = (): Taxon[] => {\n  const taxaLevels = lookups.data.lookups.taxa.taxaLevels\n  return withDescendantIds(\n    taxa.map<Taxon>(\n      ({\n        scientific_name: name,\n        taxonomy_id: id,\n        level_id: levelId,\n        level_name: levelName,\n        parent_taxonomy_id: parentId,\n        synonyms,\n      }) => ({\n        id,\n        name,\n        levelId,\n        levelName,\n        levelRankOrder: taxaLevels.find(({ id }) => id === levelId)?.rankOrder ?? -1,\n        parentId,\n        synonyms: synonyms ? JSON.parse(synonyms) : [],\n        isTargetEffort: false, // TODO: update mock data\n      })\n    )\n  )\n}\n\nexport const selectSamples = (): Sample[] => [\n  fetchSampleById.transformData(fetchSampleByIdMockData.data as fetchSampleById.ResponseData),\n]\n\nexport const selectMyUserPrivileged = (): MyUser => ({\n  id: 1,\n  fullName: 'Privileged User',\n  email: 'api@northarrowresearch.com',\n  permissions: {\n    createAny: [\n      NAMCResource.billing,\n      NAMCResource.boxes,\n      NAMCResource.communications,\n      NAMCResource.individualRoles,\n      NAMCResource.individuals,\n      NAMCResource.metrics,\n      NAMCResource.models,\n      NAMCResource.organisms,\n      NAMCResource.organizations,\n      NAMCResource.projects,\n      NAMCResource.qaqc,\n      NAMCResource.samples,\n      NAMCResource.sites,\n      NAMCResource.sorting,\n      NAMCResource.submissions,\n      NAMCResource.taxonomy,\n      NAMCResource.translations,\n    ],\n    createOwn: [\n      NAMCResource.billing,\n      NAMCResource.boxes,\n      NAMCResource.communications,\n      NAMCResource.individualRoles,\n      NAMCResource.individuals,\n      NAMCResource.metrics,\n      NAMCResource.models,\n      NAMCResource.organisms,\n      NAMCResource.organizations,\n      NAMCResource.projects,\n      NAMCResource.qaqc,\n      NAMCResource.samples,\n      NAMCResource.sites,\n      NAMCResource.sorting,\n      NAMCResource.submissions,\n      NAMCResource.taxonomy,\n      NAMCResource.translations,\n    ],\n    readAny: [\n      NAMCResource.billing,\n      NAMCResource.boxes,\n      NAMCResource.communications,\n      NAMCResource.individualRoles,\n      NAMCResource.individuals,\n      NAMCResource.metrics,\n      NAMCResource.models,\n      NAMCResource.organisms,\n      NAMCResource.organizations,\n      NAMCResource.projects,\n      NAMCResource.qaqc,\n      NAMCResource.samples,\n      NAMCResource.sites,\n      NAMCResource.sorting,\n      NAMCResource.submissions,\n      NAMCResource.taxonomy,\n      NAMCResource.translations,\n    ],\n    readOwn: [\n      NAMCResource.billing,\n      NAMCResource.boxes,\n      NAMCResource.communications,\n      NAMCResource.individualRoles,\n      NAMCResource.individuals,\n      NAMCResource.metrics,\n      NAMCResource.models,\n      NAMCResource.organisms,\n      NAMCResource.organizations,\n      NAMCResource.projects,\n      NAMCResource.qaqc,\n      NAMCResource.samples,\n      NAMCResource.sites,\n      NAMCResource.sorting,\n      NAMCResource.submissions,\n      NAMCResource.taxonomy,\n      NAMCResource.translations,\n    ],\n    updateAny: [\n      NAMCResource.billing,\n      NAMCResource.boxes,\n      NAMCResource.communications,\n      NAMCResource.individualRoles,\n      NAMCResource.individuals,\n      NAMCResource.metrics,\n      NAMCResource.models,\n      NAMCResource.organisms,\n      NAMCResource.organizations,\n      NAMCResource.projects,\n      NAMCResource.qaqc,\n      NAMCResource.samples,\n      NAMCResource.sites,\n      NAMCResource.sorting,\n      NAMCResource.submissions,\n      NAMCResource.taxonomy,\n      NAMCResource.translations,\n    ],\n    updateOwn: [\n      NAMCResource.billing,\n      NAMCResource.boxes,\n      NAMCResource.communications,\n      NAMCResource.individualRoles,\n      NAMCResource.individuals,\n      NAMCResource.metrics,\n      NAMCResource.models,\n      NAMCResource.organisms,\n      NAMCResource.organizations,\n      NAMCResource.projects,\n      NAMCResource.qaqc,\n      NAMCResource.samples,\n      NAMCResource.sites,\n      NAMCResource.sorting,\n      NAMCResource.submissions,\n      NAMCResource.taxonomy,\n      NAMCResource.translations,\n    ],\n    deleteAny: [\n      NAMCResource.billing,\n      NAMCResource.boxes,\n      NAMCResource.communications,\n      NAMCResource.individualRoles,\n      NAMCResource.individuals,\n      NAMCResource.metrics,\n      NAMCResource.models,\n      NAMCResource.organisms,\n      NAMCResource.organizations,\n      NAMCResource.projects,\n      NAMCResource.qaqc,\n      NAMCResource.samples,\n      NAMCResource.sites,\n      NAMCResource.sorting,\n      NAMCResource.submissions,\n      NAMCResource.taxonomy,\n      NAMCResource.translations,\n    ],\n    deleteOwn: [\n      NAMCResource.billing,\n      NAMCResource.boxes,\n      NAMCResource.communications,\n      NAMCResource.individualRoles,\n      NAMCResource.individuals,\n      NAMCResource.metrics,\n      NAMCResource.models,\n      NAMCResource.organisms,\n      NAMCResource.organizations,\n      NAMCResource.projects,\n      NAMCResource.qaqc,\n      NAMCResource.samples,\n      NAMCResource.sites,\n      NAMCResource.sorting,\n      NAMCResource.submissions,\n      NAMCResource.taxonomy,\n      NAMCResource.translations,\n    ],\n  },\n})\n\nexport const selectMyUserUnprivileged = (): MyUser => ({\n  id: 1,\n  fullName: 'Privileged User',\n  email: 'api@northarrowresearch.com',\n  permissions: {\n    createAny: [],\n    createOwn: [],\n    readAny: [],\n    readOwn: [],\n    updateAny: [],\n    updateOwn: [],\n    deleteAny: [],\n    deleteOwn: [],\n  },\n})\n","import { useRecoilValue } from 'recoil'\n\nimport { Api } from './types'\nimport { apiState } from './state'\n\nexport const useApi = (): Api => useRecoilValue(apiState)\n","import { selector, selectorFamily } from 'recoil'\n\nimport { Taxon, LifeStage, NoteType, Sample, TaxaLevel, Box, MyUser, User } from '../types'\nimport { apiState } from './api'\nimport { withDescendantIds } from '../lib/taxonomy'\n\nexport const selectTaxa = selector<Taxon[]>({\n  key: 'taxa',\n  get: async ({ get }) => {\n    const api = get(apiState)\n\n    const [taxaLevels, taxa] = await Promise.all([get(selectLookups).taxaLevels, api.fetchTaxa()])\n\n    return withDescendantIds(\n      taxa.map((taxon) => ({\n        ...taxon,\n        levelRankOrder: taxaLevels.find(({ id }) => id === taxon.levelId)?.rankOrder ?? -1,\n      }))\n    )\n  },\n})\n\nconst selectLookups = selector<{\n  taxaLevels: TaxaLevel[]\n  lifeStages: LifeStage[]\n  noteTypes: NoteType[]\n}>({\n  key: 'lookups',\n  get: async ({ get }) => {\n    const api = get(apiState)\n    return api.fetchLookups()\n  },\n})\n\nexport const selectLifeStages = selector<LifeStage[]>({\n  key: 'lifeStages',\n  get: async ({ get }) => get(selectLookups).lifeStages,\n})\n\nexport const selectNoteTypes = selector<NoteType[]>({\n  key: 'noteTypes',\n  get: async ({ get }) => get(selectLookups).noteTypes,\n})\n\nexport const selectSample = selectorFamily<Sample | null, { id: number; nonce?: string }>({\n  key: 'sampleById',\n  get:\n    ({ id }) =>\n    async ({ get }) => {\n      const api = get(apiState)\n      return api.fetchSampleById(id)\n    },\n})\n\nexport const selectSorterUsers = selector<User[]>({\n  key: 'sorterUsers',\n  get: async ({ get }) => {\n    const api = get(apiState)\n    return api.fetchSorterUsers()\n  },\n})\n\nexport const selectBoxById = selectorFamily<Box | null, number>({\n  key: 'boxById',\n  get:\n    (id) =>\n    async ({ get }) => {\n      const api = get(apiState)\n      return api.fetchBoxById(id) || null\n    },\n})\n\nexport const selectMyUser = selector<MyUser>({\n  key: 'myUser',\n  get: async ({ get }) => {\n    const api = get(apiState)\n    return api.fetchMyUser()\n  },\n})\n","/** @jsxImportSource @emotion/react */\nimport React from 'react'\nimport MuiButton from '@mui/material/Button'\n\nimport { NavigateFn } from '../AppRouter'\nimport { Sample, UserPermissions } from '../../types'\n\nexport interface SampleOverviewProps {\n  sample: Sample\n  permissions: UserPermissions\n  navigate: NavigateFn\n}\n\n// TODO: expose navigate function instead of using literal\n\nexport const SampleOverview = ({ sample, navigate }: SampleOverviewProps): JSX.Element => {\n  // RENDER\n\n  const taxonomyStatus = (() => {\n    if (sample.identificationEndDate) return 'Complete'\n    if (sample.identificationStartDate) return 'Started'\n    return 'Not Started'\n  })()\n\n  return (\n    <div css={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\n      <div>Sample: {sample.id}</div>\n      <div>Box: {sample.boxId}</div>\n      <div>Customer: {sample.customerName}</div>\n      <div>Box Status: {sample.boxState}</div>\n      <div>Sort Status: {sample.sorterId ? 'Complete' : 'Not Started'}</div>\n      <div>Taxonomy: {taxonomyStatus}</div>\n      <div css={{ marginTop: '1em', display: 'grid', gridTemplateColumns: '15em', gap: '1em' }}>\n        <MuiButton variant=\"outlined\" onClick={() => navigate.sampleSorting({ sampleId: sample.id })}>\n          Sorting\n        </MuiButton>\n        <MuiButton variant=\"outlined\" onClick={() => navigate.sampleTaxonomyIdentification({ sampleId: sample.id })}>\n          Taxonomy\n        </MuiButton>\n      </div>\n    </div>\n  )\n}\n","/** @jsxImportSource @emotion/react */\nimport React from 'react'\nimport Skeleton from '@mui/material/Skeleton'\n\nexport const Fallback = (): JSX.Element => (\n  <div css={{ height: '100%', display: 'flex', flexDirection: 'column', gap: '1em' }}>\n    <Skeleton height=\"20em\" variant=\"rectangular\" />\n  </div>\n)\n","import React, { Suspense } from 'react'\nimport { useParams } from 'react-router'\nimport { useRecoilValue } from 'recoil'\n\nimport { selectSample, selectMyUser } from '../../data'\nimport { SampleOverview as Component } from './SampleOverview'\nimport { Fallback } from './Fallback'\nimport { navigateState } from '../AppRouter'\n\nconst Connector = (): JSX.Element => {\n  const { sampleId } = useParams()\n\n  const navigate = useRecoilValue(navigateState)\n  const permissions = useRecoilValue(selectMyUser).permissions\n  const sample = useRecoilValue(selectSample({ id: Number(sampleId) }))\n\n  if (sample === null) return <h2>Sample {sampleId} not found.</h2>\n\n  return <Component sample={sample} permissions={permissions} navigate={navigate} />\n}\n\nexport const SampleOverview = (): JSX.Element => (\n  <Suspense fallback={<Fallback />}>\n    <Connector />\n  </Suspense>\n)\n","import { atom } from 'recoil'\n\nexport interface AppNotification {\n  id: string\n  message: string\n  type?: 'info' | 'error'\n}\n\nexport const notificationsState = atom<AppNotification[]>({\n  key: 'Notifications/notificationsState',\n  default: [],\n})\n","import React from 'react'\n// import Button from '@mui/material/Button'\nimport Snackbar from '@mui/material/Snackbar'\nimport IconButton from '@mui/material/IconButton'\nimport CloseIcon from '@mui/icons-material/Close'\nimport { useRecoilState } from 'recoil'\n\nimport { notificationsState } from './state'\n\nexport const AppNotifications = (): JSX.Element => {\n  const [notifications, setNotifications] = useRecoilState(notificationsState)\n\n  return (\n    <>\n      {notifications.map(({ id, message, type }) => {\n        const handleClose = (event: React.SyntheticEvent | React.MouseEvent, reason?: string) => {\n          if (reason === 'clickaway') return\n          setNotifications((notifications) => notifications.filter((notification) => notification.id !== id))\n        }\n\n        return (\n          <Snackbar\n            key={id}\n            open={true}\n            autoHideDuration={6000}\n            onClose={handleClose}\n            message={message}\n            action={\n              <>\n                <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\n                  <CloseIcon fontSize=\"small\" />\n                </IconButton>\n              </>\n            }\n          />\n        )\n      })}\n    </>\n  )\n}\n","/** @jsxImportSource @emotion/react */\nimport React from 'react'\nimport { atom, useRecoilState } from 'recoil'\nimport MuiAccordion from '@mui/material/Accordion'\nimport MuiAccordionSummary from '@mui/material/AccordionSummary'\nimport MuiAccordionDetails from '@mui/material/AccordionDetails'\nimport Skeleton from '@mui/material/Skeleton'\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore'\n\nimport { Sample } from '../../types'\n\nconst isExpandedState = atom<boolean>({\n  key: 'SampleInfoPanel/isExpanded',\n  default: true,\n})\n\ninterface SampleInfoPanelProps {\n  sample: Sample\n  actions?: React.ReactNode\n}\n\nconst GridInfoField = ({ name, label, value }: { name: string; label: string; value: React.ReactNode }) => (\n  <>\n    <div css={{ gridArea: `${name}Label` }}>{label}:</div>\n    <div css={{ gridArea: `${name}Value` }}>{value}</div>\n  </>\n)\n\nexport const SampleInfoPanel = ({ sample, actions = null }: SampleInfoPanelProps): JSX.Element => {\n  const [isExpanded, setIsExpanded] = useRecoilState(isExpandedState)\n\n  if (!sample) return <Skeleton variant=\"rectangular\" />\n\n  const { id, boxId, sorterName = '', sampleDate, sortDate, customerName, siteName } = sample\n\n  const sampleDateFormatted = sampleDate.substring(0, 10) // TODO: what formatting here?\n  const sortDateFormatted = sortDate?.substring(0, 10) // TODO: what formatting here?\n\n  return (\n    <MuiAccordion\n      expanded={isExpanded}\n      onChange={(e, newValue) => setIsExpanded(newValue)}\n      css={{ marginBottom: '1em' }}\n    >\n      <MuiAccordionSummary expandIcon={<ExpandMoreIcon />} css={{ display: 'flex' }}>\n        <span css={{ alignSelf: 'center' }}>\n          <span css={{ fontWeight: 'bold' }}>Sample {id}</span> (Box {boxId})\n        </span>\n        {actions && (\n          <div\n            css={{ margin: '0 0.5em 0 auto' }}\n            onClick={(e) => {\n              e.stopPropagation()\n            }}\n          >\n            {actions}\n          </div>\n        )}\n      </MuiAccordionSummary>\n      <MuiAccordionDetails\n        css={{\n          display: 'grid',\n          gap: '0.75em',\n          gridTemplateColumns: 'repeat(4, auto) 1fr',\n          gridTemplateAreas: `\n          \"sampleDateLabel sampleDateValue . . .\"\n            \"sorterLabel sorterValue sortDateLabel sortDateValue .\"\n            \"customerLabel customerValue siteLabel siteValue .\"\n        `,\n        }}\n      >\n        <GridInfoField name=\"sorter\" label=\"Sorter\" value={sorterName} />\n        <GridInfoField name=\"sortDate\" label=\"Sort Date\" value={sortDateFormatted} />\n        <GridInfoField name=\"sampleDate\" label=\"Sample Date\" value={sampleDateFormatted} />\n        <GridInfoField name=\"customer\" label=\"Customer\" value={customerName} />\n        <GridInfoField name=\"site\" label=\"Site\" value={siteName} />\n      </MuiAccordionDetails>\n    </MuiAccordion>\n  )\n}\n","/** @jsxImportSource @emotion/react */\nimport React from 'react'\nimport InputLabel from '@mui/material/InputLabel'\nimport MenuItem from '@mui/material/MenuItem'\nimport FormControl from '@mui/material/FormControl'\nimport Select, { SelectChangeEvent } from '@mui/material/Select'\n\nimport { CommonFieldProps } from '../../types'\n\nexport interface SelectFieldProps extends CommonFieldProps<string | number> {\n  options: {\n    value: string | number\n    label: React.ReactNode\n    disabled?: boolean\n  }[]\n}\n\nexport const SelectField = ({\n  // CommonFieldProps\n  className,\n  disabled,\n  error,\n  label,\n  onChange,\n  readOnly,\n  value,\n\n  // SelectFieldProps\n  options,\n}: SelectFieldProps): JSX.Element => {\n  const handleChange = ({ target: { value: newValue } }: SelectChangeEvent) => {\n    onChange(newValue)\n  }\n\n  return (\n    <FormControl\n      sx={{ minWidth: '10em' }}\n      className={className}\n      disabled={disabled || readOnly}\n      css={{ '.MuiInputBase-root': { color: 'unset' } }}\n    >\n      {label && (\n        <InputLabel\n        // size=\"small\" // typing says this isn't a prop, but\n        >\n          {label}\n        </InputLabel>\n      )}\n      <Select\n        error={error}\n        label={label}\n        onChange={handleChange}\n        value={String(value)}\n        size=\"small\"\n        readOnly={readOnly}\n      >\n        {options.map((option) => (\n          <MenuItem key={option.value} value={option.value} disabled={option.disabled}>\n            {option.label || <span css={{ fontStyle: 'italic' }}>(clear)</span>}\n          </MenuItem>\n        ))}\n      </Select>\n    </FormControl>\n  )\n}\n","/** @jsxImportSource @emotion/react */\nimport React from 'react'\nimport TextField, { StandardTextFieldProps } from '@mui/material/TextField'\n\nimport { CommonFieldProps } from '../../types'\n\ninterface NumberFieldProps extends CommonFieldProps<number | null>, Omit<StandardTextFieldProps, 'value' | 'onChange'> {\n  inputRef?: React.Ref<HTMLInputElement>\n  max?: number\n  min?: number\n  precision?: number\n}\n\nexport const NumberField = ({\n  // CommonFieldProps\n  className,\n  disabled,\n  error,\n  label,\n  onChange,\n  readOnly,\n  value,\n\n  // NumberField\n  inputRef,\n  max,\n  min,\n  precision,\n\n  // StandardTextFieldProps\n  ...restProps\n}: NumberFieldProps): JSX.Element => {\n  const handleChange = ({ target: { value: textValue } }) => {\n    if (!textValue.trim()) {\n      onChange(null)\n      return\n    }\n    const numberValue = Number(textValue)\n    if (precision !== undefined && Number(numberValue.toFixed(precision)) !== numberValue) return\n    if (min !== undefined && numberValue < min) return\n    if (max !== undefined && numberValue > max) return\n    onChange(numberValue)\n  }\n\n  return (\n    <TextField\n      size=\"small\"\n      className={className}\n      disabled={disabled || readOnly}\n      error={error}\n      inputRef={inputRef}\n      label={label}\n      onChange={handleChange}\n      value={value ?? ''}\n      type=\"number\"\n      {...restProps}\n    />\n  )\n}\n","/** @jsxImportSource @emotion/react */\nimport React from 'react'\nimport FormControlLabel from '@mui/material/FormControlLabel'\nimport Checkbox from '@mui/material/Checkbox'\n\nimport { CommonFieldProps } from '../../types'\n\ninterface CheckboxFieldProps extends Omit<CommonFieldProps<boolean>, 'error' | 'label'> {\n  label: string\n}\n\nexport const CheckboxField = ({\n  // CommonFieldProps\n  className,\n  disabled,\n  onChange,\n  readOnly,\n  value,\n\n  // CheckboxField\n  label,\n}: CheckboxFieldProps): JSX.Element => {\n  const handleChange = ({ target: { checked: newValue } }) => {\n    onChange(newValue)\n  }\n\n  return (\n    <FormControlLabel\n      className={className}\n      disabled={disabled || readOnly}\n      label={label}\n      control={<Checkbox onChange={handleChange} checked={value} />}\n    />\n  )\n}\n","/** @jsxImportSource @emotion/react */\nimport React from 'react'\nimport TextField, { StandardTextFieldProps } from '@mui/material/TextField'\n\nimport { CommonFieldProps } from '../../types'\n\ninterface DateFieldProps extends CommonFieldProps<string | null>, Omit<StandardTextFieldProps, 'value' | 'onChange'> {\n  inputRef?: React.Ref<HTMLInputElement>\n  max?: string\n  min?: string\n}\n\nexport const DateField = ({\n  // CommonFieldProps\n  className,\n  disabled,\n  error,\n  label,\n  onChange,\n  readOnly,\n  value,\n\n  // DateField\n  inputRef,\n  max,\n  min,\n\n  // StandardTextFieldProps\n  ...restProps\n}: DateFieldProps): JSX.Element => {\n  const handleChange = ({ target: { value: newValue } }) => {\n    if (min !== undefined && newValue < min) return\n    if (max !== undefined && newValue > max) return\n    onChange(newValue)\n  }\n\n  return (\n    <TextField\n      size=\"small\"\n      className={className}\n      disabled={disabled || readOnly}\n      error={error}\n      inputRef={inputRef}\n      label={label}\n      onChange={handleChange}\n      value={value}\n      type=\"date\"\n      InputLabelProps={{ shrink: true }}\n      {...restProps}\n    />\n  )\n}\n","import React from 'react'\nimport MuiButton from '@mui/material/Button'\nimport MuiTooltip from '@mui/material/Tooltip'\nimport EditIcon from '@mui/icons-material/Edit'\nimport StopIcon from '@mui/icons-material/Stop'\n\nimport { Sample } from '../../types'\nimport { ControllerActions } from './SampleSorting'\n\ninterface ToggleEditModeButtonProps {\n  hasPermission?: boolean\n  sample: Sample\n  isEditing: boolean\n  actions: ControllerActions\n  disabled?: boolean\n}\n\nexport const ToggleEditModeButton = ({\n  hasPermission,\n  sample,\n  isEditing,\n  actions,\n  disabled,\n}: ToggleEditModeButtonProps): JSX.Element | null => {\n  if (!hasPermission) return null\n\n  const error = (() => {\n    if (sample.boxState !== 'Active')\n      return 'The sorting for this sample cannot be edited because the box it is associated with is not currently active.'\n  })()\n\n  if (error)\n    return (\n      <MuiTooltip title={error}>\n        <span>\n          <MuiButton disabled variant=\"outlined\" startIcon={<EditIcon />}>\n            Start Sorting\n          </MuiButton>\n        </span>\n      </MuiTooltip>\n    )\n\n  return (\n    <MuiButton\n      onClick={() => {\n        if (isEditing) {\n          actions.stopSorting()\n        } else {\n          actions.startSorting()\n        }\n      }}\n      startIcon={isEditing ? <StopIcon /> : <EditIcon />}\n      variant={isEditing ? 'contained' : 'outlined'}\n      disabled={disabled}\n    >\n      {isEditing ? 'Stop Sorting' : 'Start Sorting'}\n    </MuiButton>\n  )\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/** @jsxImportSource @emotion/react */\nimport React, { useEffect, useReducer } from 'react'\nimport produce from 'immer'\nimport { NAMCResource } from '@namcbugdb/common'\n\nimport { useApi } from '../../data/api'\nimport { useNotifications } from '../AppNotifications'\nimport { User, Sample, MyUser } from '../../types'\nimport { SampleInfoPanel } from '../SampleInfoPanel'\nimport { SelectField, SelectFieldProps } from '../SelectField'\nimport { NumberField } from '../NumberField'\nimport { CheckboxField } from '../CheckboxField'\nimport { DateField } from '../DateField'\nimport { ConfirmNavigateAway } from '../AppRouter'\nimport { ToggleEditModeButton } from './ToggleEditModeButton'\n\nconst LAB_SPLIT_PERCENT_PRECISION = 3\n\nconst getToday = (): string => {\n  const now = new Date()\n  return new Date(now.getTime() - now.getTimezoneOffset() * 60 * 1000).toISOString().substring(0, 10)\n}\n\nexport interface SampleSortingProps {\n  sorterUsers: User[]\n  sample: Sample\n  user: MyUser\n}\n\ninterface Fields {\n  sorterId: number | ''\n  labSplitPercent: number | null\n  sorterCount: number | null\n  sortTime: number | null\n  sortDate: string | null\n  elutriation: boolean | null\n}\n\ntype ReducerState = {\n  sample?: Sample\n  userId?: number\n  values: Fields\n  errors: Partial<Record<keyof Fields, boolean>>\n  editMode: 'stopped' | 'started' | 'stopping'\n}\n\ntype ReducerAction =\n  | { type: 'reset'; payload: { sample: Sample; user: MyUser } }\n  | { type: 'setFieldValue'; payload: Partial<Fields> }\n  | { type: 'setEditMode'; payload: ReducerState['editMode'] }\n\nconst initialState = {\n  values: { sorterId: '', labSplitPercent: null, sorterCount: null, sortTime: null, sortDate: '', elutriation: false },\n  editMode: 'stopped',\n} as ReducerState\n\nconst reducer = (state: ReducerState, action: ReducerAction): ReducerState => {\n  if (action.type === 'reset') {\n    const {\n      payload: { sample, user },\n    } = action\n\n    const { sorterId, sorterCount, sortTime, sortDate, labSplit, elutriation } = sample\n\n    return {\n      ...initialState,\n      sample,\n      userId: user.id,\n      values: {\n        sorterId: sorterId || '',\n        sorterCount,\n        sortTime,\n        sortDate: sortDate && sortDate?.substring(0, 10),\n        labSplitPercent:\n          labSplit &&\n          Math.round(labSplit * 100 * 10 ** LAB_SPLIT_PERCENT_PRECISION) / 10 ** LAB_SPLIT_PERCENT_PRECISION,\n        elutriation: !!elutriation,\n      },\n    }\n  }\n\n  return produce(state, (draft) => {\n    switch (action.type) {\n      case 'setFieldValue': {\n        Object.entries(action.payload).forEach(([fieldName, value]) => (draft.values[fieldName] = value))\n        break\n      }\n      case 'setEditMode': {\n        const editMode = action.payload\n        draft.editMode = editMode\n        if (editMode !== 'started') break\n        if (!draft.sample?.sorterId) draft.values.sorterId = draft.userId || ''\n\n        if (!draft.sample?.sortDate) {\n          draft.values.sortDate = getToday()\n        }\n        break\n      }\n    }\n  })\n}\n\nexport interface ControllerActions {\n  reset: (payload: { sample: Sample; user: MyUser }) => void\n  setFieldValue: (fieldName: keyof Fields, value: any) => void\n  startSorting: () => void\n  stopSorting: () => void\n}\n\nconst useComponentController = (): [ReducerState, ControllerActions] => {\n  const api = useApi()\n  const notifcations = useNotifications()\n\n  const [state, dispatch] = useReducer(reducer, initialState)\n\n  const actions = {\n    reset: (payload: { sample: Sample; user: MyUser }) => {\n      dispatch({ type: 'reset', payload })\n    },\n    setFieldValue: (fieldName: keyof Fields, value: any) => {\n      dispatch({\n        type: 'setFieldValue',\n        payload: { [fieldName]: value },\n      })\n    },\n    startSorting: () => {\n      dispatch({\n        type: 'setEditMode',\n        payload: 'started',\n      })\n    },\n    stopSorting: async () => {\n      dispatch({\n        type: 'setEditMode',\n        payload: 'stopping',\n      })\n      const { sorterId, labSplitPercent, sorterCount, sortTime, sortDate, elutriation } = state.values\n      if (\n        // TODO: fix this awful guard\n        !state.sample?.id ||\n        sorterId === '' ||\n        labSplitPercent === null ||\n        sorterCount === null ||\n        sortTime === null ||\n        sortDate === null ||\n        elutriation === null\n      )\n        throw new Error('Missing values.')\n      const success = await api.updateLabSort({\n        sampleId: state.sample.id,\n        sorterId,\n        labSplit: labSplitPercent / 100,\n        sorterCount,\n        sortTime,\n        sortDate,\n        elutriation,\n      })\n      if (!success) {\n        notifcations.create({ message: 'Failed to update Lab Sort.', type: 'error' })\n        dispatch({\n          type: 'setEditMode',\n          payload: 'started',\n        })\n        return\n      }\n      dispatch({\n        type: 'setEditMode',\n        payload: 'stopped',\n      })\n    },\n  }\n\n  const errors =\n    state.editMode === 'stopped'\n      ? {}\n      : {\n          sortUserId: !state.values.sorterId,\n          labSplitPercent: state.values.labSplitPercent === null,\n          sorterCount: state.values.sorterCount === null,\n          sortTime: state.values.sortTime === null,\n        }\n\n  return [{ ...state, errors }, actions]\n}\n\nexport const SampleSorting = ({ sorterUsers, sample, user }: SampleSortingProps): JSX.Element => {\n  // STATE\n\n  const [state, actions] = useComponentController()\n  const {\n    values: { sorterId, labSplitPercent, sorterCount, sortTime, sortDate, elutriation },\n    errors,\n    editMode,\n  } = state\n  const { setFieldValue } = actions\n  const isEditing = editMode !== 'stopped'\n\n  // EFFECTS\n\n  useEffect(() => {\n    actions.reset({ sample, user })\n  }, [sample])\n\n  // RENDER\n\n  const sorterOptions: SelectFieldProps['options'] = sorterUsers.map((sorterUser) => ({\n    value: sorterUser.id,\n    label: sorterUser.fullName,\n  }))\n  if (sample.sorterId && !sorterUsers.find((sorterUser) => sorterUser.id === sorterId))\n    sorterOptions.push({\n      value: sorterId,\n      label: sample.sorterName,\n    })\n\n  return (\n    <>\n      <div css={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\n        <SampleInfoPanel\n          sample={sample}\n          actions={\n            <ToggleEditModeButton\n              sample={sample}\n              isEditing={editMode === 'started'}\n              actions={actions}\n              hasPermission={user.permissions.updateAny?.includes(NAMCResource.sorting)}\n              disabled={Object.values(errors).some((value) => value)}\n            />\n          }\n        />\n        <div css={{ display: 'grid', gridTemplateColumns: '20em', gap: '1em' }}>\n          <SelectField\n            label=\"Sorter\"\n            value={sorterId}\n            onChange={(value) => setFieldValue('sorterId', value)}\n            options={sorterOptions}\n            error={errors.sorterId}\n            readOnly={!isEditing}\n          />\n          <NumberField\n            label=\"Split %\"\n            value={labSplitPercent}\n            onChange={(value) => setFieldValue('labSplitPercent', value)}\n            min={0}\n            max={100}\n            precision={LAB_SPLIT_PERCENT_PRECISION}\n            error={errors.labSplitPercent}\n            readOnly={!isEditing}\n          />\n          <NumberField\n            label=\"Number of bugs\"\n            value={sorterCount}\n            onChange={(value) => setFieldValue('sorterCount', value)}\n            min={0}\n            max={999999}\n            error={errors.sorterCount}\n            readOnly={!isEditing}\n          />\n          <CheckboxField\n            label=\"Elutriation\"\n            value={elutriation || false}\n            onChange={(value) => setFieldValue('elutriation', value)}\n            readOnly={!isEditing}\n          />\n          <NumberField\n            label=\"Sort time (hours)\"\n            value={sortTime}\n            onChange={(value) => setFieldValue('sortTime', value)}\n            min={0}\n            max={999999}\n            error={errors.sortTime}\n            readOnly={!isEditing}\n          />\n          <DateField\n            label=\"Date sorted\"\n            value={sortDate}\n            onChange={(value) => setFieldValue('sortDate', value)}\n            error={errors.sortDate}\n            readOnly={!isEditing}\n            max={getToday()}\n          />\n        </div>\n      </div>\n      {editMode !== 'stopped' && (\n        <ConfirmNavigateAway message=\"Identification is still in progress. Are you sure you want to leave?\" />\n      )}\n    </>\n  )\n}\n","import { useSetRecoilState } from 'recoil'\nimport { uniqueId } from 'lodash'\n\nimport { notificationsState, AppNotification } from './state'\n\nexport const useNotifications = () => {\n  const setNotifications = useSetRecoilState(notificationsState)\n\n  return {\n    create: (notification: Omit<AppNotification, 'id'>) => {\n      setNotifications([\n        {\n          id: uniqueId(),\n          type: 'info',\n          ...notification,\n        },\n      ])\n    },\n  }\n}\n","/** @jsxImportSource @emotion/react */\nimport React from 'react'\nimport Skeleton from '@mui/material/Skeleton'\n\nexport const Fallback = (): JSX.Element => (\n  <div css={{ height: '100%', display: 'flex', flexDirection: 'column', gap: '1em' }}>\n    <Skeleton height=\"9em\" variant=\"rectangular\" />\n    <Skeleton height=\"3em\" variant=\"rectangular\" />\n  </div>\n)\n","import React, { Suspense, useMemo } from 'react'\nimport { useParams } from 'react-router'\nimport { useRecoilValue } from 'recoil'\nimport { uniqueId } from 'lodash'\n\nimport { selectSample, selectSorterUsers, selectMyUser } from '../../data'\nimport { SampleSorting as Component } from './SampleSorting'\nimport { Fallback } from './Fallback'\n\nconst Connector = ({ nonce }: { nonce: string }): JSX.Element => {\n  const { sampleId } = useParams()\n\n  const sorterUsers = useRecoilValue(selectSorterUsers)\n  const user = useRecoilValue(selectMyUser)\n  const sample = useRecoilValue(selectSample({ id: Number(sampleId), nonce }))\n\n  if (sample === null) return <h2>Sample {sampleId} not found.</h2>\n\n  return <Component sorterUsers={sorterUsers} sample={sample} user={user} />\n}\n\nexport const SampleSorting = (): JSX.Element => {\n  const nonce = useMemo(uniqueId, [])\n  return (\n    <Suspense fallback={<Fallback />}>\n      <Connector nonce={nonce} />\n    </Suspense>\n  )\n}\n","/** @jsxImportSource @emotion/react */\nimport React, { useMemo, useState, useEffect } from 'react'\nimport { AgGridReact, AgGridReactProps } from 'ag-grid-react'\nimport { ColDef, ColGroupDef, SelectionChangedEvent, GridApi, ColumnApi, GridReadyEvent } from 'ag-grid-community'\n\n// import { renderers as frameworkComponents } from './renderers'\n// import { useProject } from '../ProjectProvider/useProject'\n\nimport 'ag-grid-community/dist/styles/ag-grid.css'\n// import 'ag-grid-community/dist/styles/ag-theme-balham.css'\n// import 'ag-grid-community/dist/styles/ag-theme-balham-dark.css'\nimport 'ag-grid-community/dist/styles/ag-theme-material.css'\nimport './DataGrid.css'\n\nexport interface DataGridRow {\n  id: number | string\n  unselectable?: boolean\n}\n\nexport interface DataGridApis {\n  api: GridApi\n  columnApi: ColumnApi\n}\n\nexport interface DataGridProps extends AgGridReactProps {\n  rows: DataGridRow[]\n  columnDefs: (ColDef | ColGroupDef)[]\n  onSelectedRowsChanged?: (rows: DataGridRow[]) => void\n  onGridApisReady?: (params: DataGridApis) => void\n}\n\nexport const DataGrid = ({\n  rows,\n  columnDefs,\n  onSelectedRowsChanged,\n  onGridApisReady,\n  context,\n  gridOptions,\n  ...restProps\n}: DataGridProps): JSX.Element => {\n  // GRID APIS\n  const [grid, setGrid] = useState<DataGridApis>()\n\n  // EVENT HANDLERS\n\n  const handleOnSelectionChanged = ({ api }: SelectionChangedEvent): void => {\n    if (!onSelectedRowsChanged) return\n    onSelectedRowsChanged(api.getSelectedRows())\n  }\n\n  const handleGridReady = ({ api, columnApi }: GridReadyEvent) => {\n    setGrid({ api, columnApi })\n    if (onGridApisReady) onGridApisReady({ api, columnApi })\n  }\n\n  // CONTEXT AND REFRESH\n\n  useEffect(() => {\n    if (!grid?.api) return\n\n    // must force a refresh when context changes\n    grid.api.refreshCells()\n    grid.api.refreshHeader()\n  }, [context, grid])\n\n  // OTHER OPTIONS\n\n  const memoizedGridOptions = useMemo(\n    // need stable, per instance grid options\n    () => ({\n      // suppressCellSelection: true,\n      // rowSelection: 'multiple',\n      defaultColDef: {\n        sortable: true,\n        resizable: true,\n        suppressMovable: true,\n      },\n      // rowClassRules: {\n      //   'DataGrid__row--unselectable': ({ data: { unselectable } }) => unselectable,\n      // },\n      ...gridOptions,\n    }),\n    [gridOptions]\n  )\n\n  // const isRowSelectable = ({ data: { unselectable } }) => !unselectable\n\n  // RENDER\n\n  return (\n    <div className=\"ag-theme-material\" css={{ width: '100%', height: '100%' }}>\n      <AgGridReact\n        rowData={rows}\n        immutableData\n        gridOptions={memoizedGridOptions}\n        columnDefs={columnDefs}\n        onSelectionChanged={handleOnSelectionChanged}\n        animateRows\n        containerStyle={{ width: '100%', height: '100%' }}\n        getRowNodeId={({ id }) => id}\n        context={context}\n        // frameworkComponents={frameworkComponents}\n        // isRowSelectable={isRowSelectable}\n        onGridReady={handleGridReady}\n        {...restProps}\n      />\n    </div>\n  )\n}\n","/** @jsxImportSource @emotion/react */\nimport React from 'react'\n\ninterface FlagBadgeProps {\n  className?: string\n  label: string\n}\n\nexport const FlagBadge = ({ className, label }: FlagBadgeProps): JSX.Element => (\n  <span\n    className={className}\n    css={{\n      background: '#cc7000',\n      color: 'white',\n      height: '1.2em',\n      padding: '0.1em 0.2em',\n    }}\n  >\n    <span\n      css={{\n        width: '1em',\n        display: 'inline-block',\n        textAlign: 'center',\n      }}\n    >\n      {label}\n    </span>\n  </span>\n)\n","/** @jsxImportSource @emotion/react */\nimport React, { useState } from 'react'\nimport TextField from '@mui/material/TextField'\nimport Autocomplete from '@mui/material/Autocomplete'\nimport ListItem from '@mui/material/ListItem'\nimport Button, { ButtonProps } from '@mui/material/Button'\nimport KeyboardReturnIcon from '@mui/icons-material/KeyboardReturn'\nimport AddIcon from '@mui/icons-material/AddCircleOutline'\nimport FilterAltIcon from '@mui/icons-material/FilterAlt'\nimport parse from 'autosuggest-highlight/parse'\nimport match from 'autosuggest-highlight/match'\n\nimport { Taxon } from '../../types'\nimport { FlagBadge } from '../FlagBadge'\n\nconst MAX_MATCHES = 100\nconst MAX_DISPLAYED_SYNONYMS = 10\n\ntype TaxaOptionStatus = 'inSample' | 'notInSample'\n\nexport interface PresentableTaxonOption extends Taxon {\n  status: TaxaOptionStatus\n  canAdd: boolean\n  canFilter: boolean\n  defaultAction?: 'add' | 'filter'\n}\n\nexport interface TaxonomyFieldProps {\n  options: PresentableTaxonOption[]\n  onAddOrganism: (taxon: PresentableTaxonOption) => void\n  onAddFilter: (taxon: PresentableTaxonOption) => void\n  inputRef?: React.RefObject<HTMLInputElement>\n}\n\ninterface OptionProps extends React.HTMLAttributes<HTMLLIElement> {\n  taxon: PresentableTaxonOption\n  inputValue: string\n  onAddOrganism: (taxon: PresentableTaxonOption) => void\n  onAddFilter: (taxon: PresentableTaxonOption) => void\n}\n\nconst HighlightedText = ({ text, highlightText }: { text: string; highlightText: string }): JSX.Element => (\n  <>\n    {parse(text, match(text, highlightText)).map<JSX.Element>(\n      // TODO: match is not finding all occurrences, but this needs to be rewritten custom anyway because the algoritm isn't exactly what we need\n      (part: { text: string; highlight: boolean }, index: number) => (\n        <span\n          key={index}\n          style={{\n            fontWeight: part.highlight ? 700 : 400,\n          }}\n        >\n          {part.text}\n        </span>\n      )\n    )}\n  </>\n)\n\nconst ActionButton = ({\n  isDefault,\n  children,\n  onClick,\n  className,\n  disabled,\n  ...restProps\n}: ButtonProps & {\n  isDefault?: boolean\n}) => {\n  return (\n    <div css={{ position: 'relative' }} className={className}>\n      {disabled && (\n        <div\n          css={{ width: '100%', height: '100%', position: 'absolute', cursor: 'default' }}\n          onClick={(e) => {\n            // this element is a bit of a hack to use a disabled button but still\n            // catch the click to prevent autocomplete from choosing row\n            e.stopPropagation()\n          }}\n        />\n      )}\n      <Button variant=\"outlined\" size=\"small\" onClick={onClick} disabled={disabled} data-skip-choose {...restProps}>\n        {children}\n        {isDefault && <KeyboardReturnIcon sx={{ marginLeft: '0.25em', fontSize: '100%' }} />}\n      </Button>\n    </div>\n  )\n}\n\nconst Option = ({ taxon, inputValue, onAddFilter, onAddOrganism, ...restProps }: OptionProps) => {\n  const { name, levelName, synonyms, canAdd, canFilter, defaultAction } = taxon\n\n  const synonymArea = [] as JSX.Element[]\n\n  if (synonyms.length <= MAX_DISPLAYED_SYNONYMS) {\n    synonymArea.push(<HighlightedText key=\"only\" text={synonyms.join(', ')} highlightText={inputValue} />)\n  } else {\n    const isSynonymsMatched = match(synonyms.join(' '), inputValue).length > 0\n\n    if (isSynonymsMatched) {\n      synonyms.forEach((synonym) => {\n        if (match(synonym, inputValue).length === 0) return\n        if (synonymArea.length > 0) synonymArea.push(<span key={`${synonym} separator`}>, </span>)\n        synonymArea.push(<HighlightedText key={synonym} text={synonym} highlightText={inputValue} />)\n      })\n      synonymArea.push(\n        <span key=\"remainder\" css={{ opacity: 0.75 }}>\n          {' '}\n          ({synonyms.length - synonymArea.length} unmatched not shown)\n        </span>\n      )\n    } else {\n      synonymArea.push(\n        <React.Fragment key=\"more\">\n          {synonyms.slice(0, MAX_DISPLAYED_SYNONYMS).join(', ')}\n          <span css={{ opacity: 0.75 }}> ({synonyms.length - MAX_DISPLAYED_SYNONYMS} more not shown)</span>\n        </React.Fragment>\n      )\n    }\n  }\n\n  return (\n    <ListItem\n      {...restProps}\n      css={{\n        borderBottom: '1px solid lightgrey',\n        display: 'flex',\n      }}\n    >\n      <span css={{ maxWidth: '15em', flex: 1 }}>\n        <HighlightedText text={name} highlightText={inputValue} />\n        {taxon.isTargetEffort && <FlagBadge css={{ marginLeft: '0.5em' }} label=\"S\" />}\n      </span>\n      <span css={{ maxWidth: '6em', flex: 1 }}>{levelName}</span>\n      <span css={{ fontStyle: 'italic', flex: 1 }}>{synonymArea}</span>\n      <div css={{ display: 'grid', gridGap: '0.25em', gridTemplateColumns: 'auto auto' }}>\n        <ActionButton\n          onClick={() => onAddOrganism(taxon)}\n          isDefault={defaultAction === 'add'}\n          disabled={!canAdd}\n          startIcon={<AddIcon />}\n        >\n          Add Organism\n        </ActionButton>\n        <ActionButton\n          onClick={() => onAddFilter(taxon)}\n          isDefault={defaultAction === 'filter'}\n          disabled={!canFilter}\n          startIcon={<FilterAltIcon />}\n        >\n          Add Filter\n        </ActionButton>\n      </div>\n    </ListItem>\n  )\n}\n\nconst Group = ({ group, children }: { group: TaxaOptionStatus | string; children?: React.ReactNode }) => {\n  // TODO: group is always TaxaOptionStatus and I don't want to allow any group as string, but TS chokes without allowing string\n  const color = group === 'inSample' ? 'green' : 'blue'\n  return (\n    <div>\n      <div\n        css={{\n          borderBottom: `3px solid ${color}`,\n          color,\n          height: '2em',\n          display: 'flex',\n          alignItems: 'center',\n          paddingLeft: '1em',\n        }}\n      >\n        {group === 'inSample' ? 'Already In Sample' : 'Not In Sample'}\n      </div>\n      {children}\n    </div>\n  )\n}\n\nconst filterOptions = (input: PresentableTaxonOption[], { inputValue }: { inputValue: string }) =>\n  input\n    .filter(({ name, synonyms }) => {\n      const filterableName = [name, ...synonyms].join(' ')\n      return match(filterableName, inputValue).length > 0\n    })\n    .slice(0, MAX_MATCHES)\n\nexport const TaxonomyField = ({ options, onAddOrganism, onAddFilter, inputRef }: TaxonomyFieldProps): JSX.Element => {\n  const [text, setText] = useState('')\n\n  const handleTextChange = (e: React.SyntheticEvent, newValue: string) => {\n    if (newValue === '/') return // for slicker keyboard shortcut behavior\n    setText(newValue)\n  }\n\n  const handleChoose = (\n    e: React.SyntheticEvent & { target: { attributes?: { 'data-skip-choose'?: string } } },\n    taxon?: PresentableTaxonOption | null\n  ) => {\n    if (taxon && !e.target.attributes?.['data-skip-choose']) {\n      switch (taxon?.defaultAction) {\n        case 'add':\n          onAddOrganism(taxon)\n          break\n        case 'filter':\n          onAddFilter(taxon)\n          break\n      }\n    }\n    window.setTimeout(() => {\n      setText('')\n    }, 0)\n  }\n\n  const handleKeyDown = ({ key }: { key: string }) => {\n    if (key !== 'Escape' || !inputRef?.current) return\n    inputRef.current.blur()\n  }\n\n  const isOptionsPresented = text.length >= 3\n\n  return (\n    <Autocomplete\n      disablePortal\n      options={isOptionsPresented ? options : []}\n      onChange={handleChoose}\n      renderInput={(params) => <TextField {...params} inputRef={inputRef} label=\"Taxonomy\" />}\n      onKeyDown={handleKeyDown}\n      renderOption={(optionProps, taxon, { inputValue }) => (\n        <Option\n          {...optionProps}\n          key={taxon.id}\n          taxon={taxon}\n          inputValue={inputValue}\n          onAddOrganism={onAddOrganism}\n          onAddFilter={onAddFilter}\n        />\n      )}\n      inputValue={text}\n      onInputChange={handleTextChange}\n      clearOnEscape\n      autoHighlight\n      noOptionsText={isOptionsPresented ? 'No taxa found' : '...'}\n      groupBy={(taxon) => taxon.status}\n      value={null}\n      renderGroup={(groupProps) => <Group {...groupProps} />}\n      getOptionLabel={({ id }) => String(id)} // being used by Autocomplete for array key; not displayed due to renderOption\n      filterOptions={filterOptions}\n    />\n  )\n}\n","import { useReducer, useMemo } from 'react'\nimport produce from 'immer'\nimport { uniqueId } from 'lodash'\n\nimport { MyUser, Organism, Sample } from '../../types'\nimport { LocalOrganism, OrganismFilter, ControllerActions, ReducerAction, ReducerState } from './types'\nimport { useApi } from '../../data/api'\nimport log from 'loglevel'\n\nconst generateLocalId = () => `local/${uniqueId()}`\n\nconst initialState = {\n  sample: undefined,\n  organisms: [],\n  measurements: false,\n  organismFilters: [],\n  editMode: 'stopped',\n} as ReducerState\n\nconst reducer = (state: ReducerState, action: ReducerAction): ReducerState => {\n  log.debug('dispatched:', action)\n\n  if (action.type === 'reset') {\n    const {\n      payload: { sample, user },\n    } = action\n    return {\n      ...initialState,\n      sample,\n      organisms: sample.organisms.map((organism) => ({ ...organism, state: 'saved' })),\n      editMode: sample.identificationUserId === user.id && !sample.identificationEndDate ? 'started' : 'stopped',\n      measurements: !!sample.measurements,\n    }\n  }\n\n  const newState = produce(state, (draft) => {\n    switch (action.type) {\n      case 'createLocalOrganism': {\n        const { payload: organism } = action\n        draft.organisms.push({\n          ...organism,\n          state: 'unsaved',\n        })\n        break\n      }\n      case 'updateLocalOrganism': {\n        const {\n          payload: { id, fields },\n        } = action\n        const organism = draft.organisms.find((organism) => organism.id === id)\n        if (!organism) return\n        Object.assign(organism, fields)\n        break\n      }\n      case 'deleteLocalOrganism': {\n        const {\n          payload: { id },\n        } = action\n        draft.organisms = draft.organisms.filter((organism) => organism.id !== id)\n        break\n      }\n      case 'createFilter': {\n        const {\n          payload: { taxonId },\n        } = action\n        if (state.organismFilters.find((existingFilter) => existingFilter.taxonId === taxonId)) return\n        draft.organismFilters.push({ taxonId })\n        break\n      }\n      case 'deleteFilter': {\n        const {\n          payload: { taxonId },\n        } = action\n        draft.organismFilters = draft.organismFilters.filter((organismFilter) => organismFilter.taxonId !== taxonId)\n        break\n      }\n      case 'setEditMode': {\n        const editMode = action.payload\n        draft.editMode = editMode\n        if (editMode === 'stopped') draft.organisms = draft.organisms.filter((organism) => organism.state !== 'unsaved')\n        break\n      }\n    }\n  })\n  return newState\n}\n\nexport const useComponentController = (): [ReducerState, ControllerActions] => {\n  const api = useApi()\n\n  const upsertOrganismIfSavable = async (organism: LocalOrganism) => {\n    if (organism.lifeStageId) {\n      dispatch({ type: 'updateLocalOrganism', payload: { id: organism.id, fields: { state: 'saving' } } })\n      const { id } = await api.upsertOrganism(organism)\n      dispatch({ type: 'updateLocalOrganism', payload: { id: organism.id, fields: { id, state: 'saved' } } })\n    }\n  }\n\n  const [state, dispatch] = useReducer(reducer, initialState)\n\n  const actions = useMemo(\n    () => ({\n      createOrganism: async ({ taxonId }: Pick<LocalOrganism, 'taxonId'>) => {\n        if (!state.sample) throw new Error('No sample')\n        const id = generateLocalId()\n        const newOrganism: LocalOrganism = {\n          id,\n          taxonId,\n          sampleId: state.sample.id,\n          splitCount: 0,\n          bigRareCount: null,\n          noteTypeIds: [],\n          comments: '',\n        }\n        dispatch({ type: 'createLocalOrganism', payload: newOrganism })\n        await upsertOrganismIfSavable(newOrganism)\n      },\n      duplicateOrganism: async (organism: LocalOrganism) => {\n        if (!state.sample) throw new Error('No sample')\n        const id = generateLocalId()\n        const newOrganism: LocalOrganism = {\n          id,\n          taxonId: organism.taxonId,\n          sampleId: state.sample.id,\n          splitCount: 0,\n          bigRareCount: null,\n          noteTypeIds: [],\n          comments: '',\n        }\n        dispatch({ type: 'createLocalOrganism', payload: newOrganism })\n        await upsertOrganismIfSavable(newOrganism)\n      },\n      updateOrganism: async (organism: LocalOrganism) => {\n        dispatch({ type: 'updateLocalOrganism', payload: { id: organism.id, fields: organism } })\n        await upsertOrganismIfSavable(organism)\n      },\n      deleteOrganism: async (organism: LocalOrganism) => {\n        if (organism.state !== 'unsaved') {\n          dispatch({ type: 'updateLocalOrganism', payload: { id: organism.id, fields: { state: 'deleting' } } })\n          await api.deleteOrganism(organism as Organism)\n        }\n        dispatch({ type: 'deleteLocalOrganism', payload: organism })\n      },\n\n      createFilter: (filter: OrganismFilter) => dispatch({ type: 'createFilter', payload: filter }),\n      deleteFilter: (filter: OrganismFilter) => dispatch({ type: 'deleteFilter', payload: filter }),\n      reset: async (payload: { sample: Sample; user: MyUser }) => {\n        dispatch({ type: 'reset', payload })\n      },\n      startTaxonomyIdentification: async () => {\n        if (!state.sample) throw new Error('No sample')\n        dispatch({ type: 'setEditMode', payload: 'starting' })\n        const success = await api.startTaxonomyIdentification({ sampleId: state.sample.id })\n        if (!success) {\n          dispatch({ type: 'setEditMode', payload: 'stopped' })\n          return\n        }\n        dispatch({ type: 'setEditMode', payload: 'started' })\n      },\n      stopTaxonomyIdentification: () => {\n        dispatch({ type: 'setEditMode', payload: 'stoppingPrompt' })\n      },\n      finishTaxonomyIdentification: async ({ time }: { time: number }) => {\n        if (!state.sample) throw new Error('No sample')\n        dispatch({ type: 'setEditMode', payload: 'stoppingSaving' })\n        const success = await api.stopTaxonomyIdentification({ sampleId: state.sample.id, time })\n        if (!success) {\n          dispatch({ type: 'setEditMode', payload: 'started' })\n          return\n        }\n        dispatch({ type: 'setEditMode', payload: 'stopped' })\n      },\n    }),\n    [api, state.sample?.id] // TODO: memoizing here isn't desirable, except we don't want new grid context every time :-/\n  )\n  return [state, actions]\n}\n","import { ColDef } from 'ag-grid-community'\n\nimport { OrganismRow, OrganismValueSetterParams, OrganismCellClassParams } from './types'\n\ninterface RowNode {\n  data: OrganismRow\n}\n\nconst singleValueSetter = ({\n  colDef: { field },\n  newValue: value,\n  data,\n  context: { actions },\n}: OrganismValueSetterParams) => {\n  actions.updateOrganism({ ...data, [field]: value })\n  return false\n}\n\nconst notesAndCommentsValueSetter = ({\n  newValue: { noteTypeIds, comments },\n  data,\n  context: { actions },\n}: OrganismValueSetterParams) => {\n  actions.updateOrganism({ ...data, noteTypeIds, comments })\n  return false\n}\n\nexport const organismsColumnDefs = [\n  {\n    headerName: '',\n    field: 'state',\n    width: 70,\n    hide: true,\n    cellRenderer: 'StateRenderer',\n  },\n  {\n    headerName: 'Taxon',\n    field: 'taxonName',\n    width: 300,\n    cellRenderer: 'TaxonRenderer',\n  },\n  {\n    field: 'levelName',\n    headerName: 'Level',\n    width: 150,\n    comparator: (valueA, valueB, nodeA: RowNode, nodeB: RowNode) =>\n      nodeA.data.levelRankOrder - nodeB.data.levelRankOrder,\n  },\n  {\n    field: 'lifeStageId',\n    headerName: 'Life Stage',\n    width: 150,\n    editable: true,\n    cellEditor: 'LifeStageEditor',\n    cellRenderer: 'LifeStageRenderer',\n    valueSetter: singleValueSetter,\n    cellClassRules: {\n      'DataGrid__cell--error': ({ value }: OrganismCellClassParams) => !value,\n    },\n    comparator: (valueA, valueB, nodeA: RowNode, nodeB: RowNode) =>\n      nodeA.data.lifeStageRankOrder - nodeB.data.lifeStageRankOrder,\n  },\n  {\n    field: 'splitCount',\n    width: 150,\n    editable: true,\n    cellEditor: 'NumberEditor',\n    cellRenderer: 'NumberRenderer',\n    type: 'numericColumn',\n    valueSetter: singleValueSetter,\n    cellClassRules: {\n      'DataGrid__cell--error': ({ data, value }: OrganismCellClassParams) => data.state === 'unsaved' && value,\n    },\n  },\n  {\n    field: 'bigRareCount',\n    width: 150,\n    editable: true,\n    cellEditor: 'NumberEditor',\n    cellRenderer: 'NumberRenderer',\n    type: 'numericColumn',\n    valueSetter: singleValueSetter,\n    cellClassRules: {\n      'DataGrid__cell--error': ({ data, value }: OrganismCellClassParams) => data.state === 'unsaved' && value,\n    },\n  },\n  {\n    field: 'bugSize',\n    headerName: 'Size',\n    width: 150,\n    editable: true,\n    cellEditor: 'NumberEditor',\n    cellEditorParams: {\n      precisionAllowed: 1,\n    },\n    cellRenderer: 'NumberRenderer',\n    type: 'numericColumn',\n    valueSetter: singleValueSetter,\n    cellClassRules: {\n      'DataGrid__cell--error': (params) => !params.value,\n    },\n  },\n  {\n    colId: 'notesAndComments',\n    headerName: 'Notes/Comments',\n    width: 150,\n    editable: true,\n    cellRenderer: 'NotesAndCommentsRenderer',\n    cellEditor: 'NotesAndCommentsEditor',\n    valueSetter: notesAndCommentsValueSetter,\n    flex: 1,\n    cellClassRules: {\n      'DataGrid__cell--error': ({ data }: OrganismCellClassParams) =>\n        data.state === 'unsaved' && (data.noteTypeIds.length > 0 || data.comments),\n    },\n  },\n  {\n    colId: 'actions',\n    width: 150,\n    cellRenderer: 'ActionsRenderer',\n    pinned: 'right',\n  },\n] as ColDef[]\n","import React from 'react'\nimport Button from '@mui/material/Button'\nimport Dialog from '@mui/material/Dialog'\nimport DialogActions from '@mui/material/DialogActions'\nimport DialogContent from '@mui/material/DialogContent'\nimport DialogTitle from '@mui/material/DialogTitle'\n\ninterface Props {\n  title?: React.ReactNode\n  isOpen: boolean\n  onClose: () => void\n  onConfirm: () => void\n  children?: React.ReactNode\n  confirmButtonLabel: string\n}\n\nexport const ConfirmDialog = ({\n  title,\n  isOpen,\n  onClose,\n  onConfirm,\n  children,\n  confirmButtonLabel,\n}: Props): JSX.Element => {\n  const handleClose = () => {\n    onClose()\n  }\n  const handleConfirm = () => {\n    onConfirm()\n    onClose()\n  }\n  return (\n    <Dialog open={isOpen} onClose={handleClose}>\n      {title && <DialogTitle>{title}</DialogTitle>}\n      {children && <DialogContent>{children}</DialogContent>}\n      <DialogActions>\n        <Button onClick={handleClose}>Cancel</Button>\n        <Button onClick={handleConfirm}>{confirmButtonLabel}</Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n","/** @jsxImportSource @emotion/react */\nimport React, { useState, useRef, useEffect } from 'react'\nimport Button from '@mui/material/Button'\nimport Dialog from '@mui/material/Dialog'\nimport DialogActions from '@mui/material/DialogActions'\nimport DialogContent from '@mui/material/DialogContent'\nimport DialogTitle from '@mui/material/DialogTitle'\n\nimport { NumberField } from '../NumberField'\n\ninterface TimeEntryDialogProps {\n  isOpen: boolean\n  onConfirm: (metrics: { time: number }) => void\n}\n\nexport const TimeEntryDialog = (props: TimeEntryDialogProps): JSX.Element => {\n  const { isOpen } = props\n  return (\n    <Dialog open={isOpen} disableEscapeKeyDown>\n      <DialogBody {...props} />\n    </Dialog>\n  )\n}\n\nconst DialogBody = ({ onConfirm }: TimeEntryDialogProps): JSX.Element => {\n  const [time, setTime] = useState<number | null>(null)\n  const inputRef = useRef<HTMLInputElement | null>(null)\n\n  const hasErrors = time === null\n\n  const handleConfirm = () => {\n    if (time !== null) onConfirm({ time })\n  }\n\n  useEffect(() => {\n    inputRef.current?.focus()\n  }, [inputRef.current])\n\n  return (\n    <>\n      <DialogTitle>Metrics</DialogTitle>\n      <DialogContent>\n        <div css={{ padding: '0.5em' }}>\n          <NumberField\n            inputRef={inputRef}\n            label=\"Hours\"\n            value={time}\n            onChange={setTime}\n            error={hasErrors}\n            min={0}\n            onKeyDown={(e) => {\n              if (e.key !== 'Enter') return\n              e.preventDefault()\n              handleConfirm()\n            }}\n          />\n        </div>\n      </DialogContent>\n      <DialogActions>\n        <Button disabled={time === null} onClick={handleConfirm}>\n          OK\n        </Button>\n      </DialogActions>\n    </>\n  )\n}\n","import React from 'react'\nimport MuiButton from '@mui/material/Button'\nimport MuiTooltip from '@mui/material/Tooltip'\nimport EditIcon from '@mui/icons-material/Edit'\nimport StopIcon from '@mui/icons-material/Stop'\n\nimport { Sample } from '../../types'\nimport { ControllerActions, ReducerState } from './types'\n\ninterface ToggleEditModeButtonProps {\n  userId: number\n  hasPermission?: boolean\n  sample: Sample\n  editMode: ReducerState['editMode']\n  actions: ControllerActions\n}\n\nexport const ToggleEditModeButton = ({\n  hasPermission,\n  userId,\n  sample,\n  editMode,\n  actions,\n}: ToggleEditModeButtonProps): JSX.Element | null => {\n  if (!hasPermission) return null\n\n  const error = (() => {\n    if (sample.boxState !== 'Active')\n      return 'The taxa for this sample cannot be edited because the box it is associated with is not currently active.'\n    if (!sample.sortDate) return 'The taxa for this sample cannot be edited because the box has not been sorted.'\n    if (sample.identificationStartDate && !sample.identificationEndDate && sample.identificationUserId !== userId)\n      return 'Taxonomic identification for this sample is already underway by another user.'\n  })()\n\n  if (error)\n    return (\n      <MuiTooltip title={error}>\n        <span>\n          <MuiButton disabled variant=\"outlined\" startIcon={<EditIcon />}>\n            Start Identification\n          </MuiButton>\n        </span>\n      </MuiTooltip>\n    )\n\n  const isActive = editMode !== 'stopped' && editMode !== 'starting'\n\n  return (\n    <MuiButton\n      disabled={editMode !== 'started' && editMode !== 'stopped'}\n      onClick={() => {\n        if (editMode === 'started') {\n          actions.stopTaxonomyIdentification()\n        } else {\n          actions.startTaxonomyIdentification()\n        }\n      }}\n      startIcon={isActive ? <StopIcon /> : <EditIcon />}\n      variant={isActive ? 'contained' : 'outlined'}\n    >\n      {isActive ? 'Stop Identification' : 'Start Identification'}\n    </MuiButton>\n  )\n}\n","/** @jsxImportSource @emotion/react */\nimport React, { useImperativeHandle, useEffect, forwardRef, useState, useRef } from 'react'\nimport { ICellRendererParams, ICellEditorParams } from 'ag-grid-community'\nimport AddIcon from '@mui/icons-material/AddCircleOutline'\nimport DeleteIcon from '@mui/icons-material/Delete'\nimport FilterAltIcon from '@mui/icons-material/FilterAlt'\nimport IconButton from '@mui/material/IconButton'\nimport CheckCircleOutlinedIcon from '@mui/icons-material/CheckCircleOutlined'\nimport ChangeCircleOutlinedIcon from '@mui/icons-material/ChangeCircleOutlined'\nimport CircleOutlinedIcon from '@mui/icons-material/CircleOutlined'\n\nimport { FlagBadge } from '../FlagBadge'\nimport { OrganismsDataGridContext, OrganismRow } from './types'\n\ninterface CellRendererParams<T> extends ICellRendererParams {\n  context: OrganismsDataGridContext\n  data: OrganismRow\n  value: T\n}\ninterface CellEditorParams<T> extends ICellEditorParams {\n  context: OrganismsDataGridContext\n  data: OrganismRow\n  value: T\n}\n\nexport const NumberEditor = forwardRef(\n  (\n    {\n      value: oldValue,\n      data: { canEdit },\n      precisionAllowed = 0,\n      negativeAllowed = false,\n    }: CellEditorParams<number> & { precisionAllowed: number; negativeAllowed?: boolean },\n    ref\n  ) => {\n    const [value, setValue] = useState(oldValue || '')\n    const inputRef = useRef<HTMLInputElement | null>(null)\n\n    useEffect(() => {\n      setTimeout(() => inputRef.current?.focus())\n    }, [])\n\n    useImperativeHandle(ref, () => {\n      return {\n        getValue: () => value || 0,\n        isCancelBeforeStart: () => !canEdit,\n        isCancelAfterEnd: () => false,\n        isPopup: () => false,\n      }\n    })\n\n    const handleChange = ({ target: { value: newValue } }: React.ChangeEvent<HTMLInputElement>) => {\n      const newNumber = Number(newValue)\n      if (Number(newNumber.toFixed(precisionAllowed)) !== newNumber) return\n      if (!negativeAllowed && newNumber < 0) return\n      setValue(newNumber)\n    }\n\n    return (\n      <input\n        // className=\"ag-input\"\n        type=\"number\"\n        ref={inputRef}\n        value={value}\n        onChange={handleChange}\n        style={{ width: '100%', textAlign: 'right' }}\n      />\n    )\n  }\n)\nNumberEditor.displayName = 'NumberEditor'\n\nexport const LifeStageEditor = forwardRef(\n  ({ value: oldValue, data: { allowedLifeStages, canEdit } }: CellEditorParams<number>, ref) => {\n    const [value, setValue] = useState(oldValue)\n    const [done, setDone] = useState(false)\n\n    const inputRef = useRef<HTMLSelectElement | null>(null)\n\n    const handleChange = ({ target: { value: newValue } }: React.ChangeEvent<HTMLSelectElement>) => {\n      setValue(Number(newValue))\n      setDone(true)\n    }\n    useEffect(() => {\n      if (!done) return\n      // api.stopEditing();\n    }, [done])\n\n    useEffect(() => {\n      setTimeout(() => inputRef.current?.focus())\n    }, [])\n\n    useImperativeHandle(ref, () => {\n      return {\n        getValue: () => Number(value),\n        isCancelBeforeStart: () => !canEdit || value,\n        isCancelAfterEnd: () => false,\n        isPopup: () => false,\n      }\n    })\n\n    const options = allowedLifeStages.map(({ id: value, name: label }) => ({ value, label }))\n\n    if (!value) options.unshift({ value: -1, label: '' })\n\n    return (\n      <select value={value} onChange={handleChange} ref={inputRef} style={{ width: '100%' }}>\n        {options.map(({ value, label }) => (\n          <option key={value} value={value}>\n            {label}\n          </option>\n        ))}\n      </select>\n    )\n  }\n)\nLifeStageEditor.displayName = 'LifeStageEditor'\n\nexport const LifeStageRenderer = ({ context, value }: CellRendererParams<number>): React.ReactNode => {\n  return context.lifeStages.find(({ id }) => value === id)?.name || ''\n}\n\nexport const NumberRenderer = ({ value }: CellRendererParams<number>): React.ReactNode => {\n  return value || ''\n}\n\nexport const TaxonRenderer = ({ value, data: { isTargetEffort } }: CellRendererParams<string>): React.ReactNode => {\n  return (\n    <span>\n      {value}\n      {isTargetEffort && <FlagBadge css={{ marginLeft: '0.5em' }} label=\"S\" />}\n    </span>\n  )\n}\n\nexport const NotesAndCommentsRenderer = ({\n  data: { noteTypeIds, comments },\n  context: { noteTypes },\n}: CellRendererParams<undefined>): React.ReactNode => {\n  return (\n    <div>\n      {noteTypeIds.map((noteTypeId) => (\n        <FlagBadge\n          css={{ marginRight: '0.2em' }}\n          key={noteTypeId}\n          label={noteTypes.find(({ id }) => id === noteTypeId)?.abbreviation || '?'}\n        />\n      ))}\n      <span>{comments}</span>\n    </div>\n  )\n}\n\nexport const NotesAndCommentsEditor = forwardRef(\n  (\n    {\n      data: { noteTypeIds: oldNoteTypeIds, comments: oldComments, canEdit },\n      context: { noteTypes },\n    }: CellEditorParams<undefined>,\n    ref\n  ) => {\n    const [noteTypeIds, setNoteTypeIds] = useState(oldNoteTypeIds)\n    const [comments, setComments] = useState(oldComments)\n\n    const inputRef = useRef<HTMLTextAreaElement | null>(null)\n\n    useEffect(() => {\n      setTimeout(() => inputRef.current?.focus())\n    }, [])\n\n    useImperativeHandle(ref, () => {\n      return {\n        getValue: () => ({\n          noteTypeIds,\n          comments,\n        }),\n        isCancelBeforeStart: () => !canEdit,\n        isCancelAfterEnd: () => false,\n        isPopup: () => true,\n      }\n    })\n\n    // TODO: limit to active note types\n\n    return (\n      <div css={{ minWidth: '20em' }}>\n        <textarea\n          ref={inputRef}\n          value={comments}\n          onChange={(event) => setComments(event.target.value)}\n          css={{ width: '95%', height: '3em', fontFamily: 'Roboto' }}\n        />\n        <div>\n          {noteTypes.map(({ id, name, abbreviation }) => (\n            <div key={id} css={{ margin: '0.2em 0' }}>\n              <input\n                type=\"checkbox\"\n                checked={noteTypeIds.includes(id)}\n                onChange={(e) => {\n                  if (e.target.checked) {\n                    setNoteTypeIds(() => [...noteTypeIds, id])\n                  } else {\n                    setNoteTypeIds(() => noteTypeIds.filter((noteTypeId) => noteTypeId !== id))\n                  }\n                }}\n              />\n              (<span css={{ fontWeight: 'bold' }}>{abbreviation}</span>) - {name}\n            </div>\n          ))}\n        </div>\n      </div>\n    )\n  }\n)\nNotesAndCommentsEditor.displayName = 'NotesAndCommentsEditor'\n\nexport const ActionsRenderer = ({\n  data: organismRow,\n  context: { actions, setDeletionCandidateOrganism },\n}: CellRendererParams<OrganismRow>): React.ReactNode => {\n  const { splitCount, bigRareCount, noteTypeIds, comments, canDuplicate, canFilter, canDelete, state } = organismRow\n  return (\n    <div css={{ display: 'flex', alignItems: 'center', height: '100%' }}>\n      <IconButton\n        disabled={!canDuplicate}\n        onClick={() => {\n          actions.duplicateOrganism(organismRow)\n        }}\n      >\n        <AddIcon />\n      </IconButton>\n      <IconButton\n        disabled={!canFilter}\n        onClick={() => {\n          actions.createFilter(organismRow)\n        }}\n      >\n        <FilterAltIcon />\n      </IconButton>\n      <IconButton\n        disabled={!canDelete}\n        onClick={() => {\n          if (state !== 'saved' && !splitCount && !bigRareCount && noteTypeIds.length === 0 && !comments) {\n            actions.deleteOrganism(organismRow)\n          } else {\n            setDeletionCandidateOrganism(organismRow)\n          }\n        }}\n      >\n        <DeleteIcon />\n      </IconButton>\n    </div>\n  )\n}\n\nexport const StateRenderer = ({ value }: CellRendererParams<OrganismRow['state']>): React.ReactNode => {\n  return (\n    <div css={{ display: 'flex', alignItems: 'center', height: '100%' }}>\n      {(() => {\n        switch (value) {\n          case 'unsaved':\n            return <CircleOutlinedIcon />\n          case 'saving':\n            return <ChangeCircleOutlinedIcon />\n          case 'saved':\n            return <CheckCircleOutlinedIcon />\n        }\n        return null\n      })()}\n    </div>\n  )\n}\n","/** @jsxImportSource @emotion/react */\nimport React, { useMemo, useRef, useState, useEffect, useCallback } from 'react'\nimport { useHotkeys } from 'react-hotkeys-hook'\nimport MuiChip from '@mui/material/Chip'\n\nimport { DataGrid, DataGridApis } from '../DataGrid'\nimport { TaxonomyField, PresentableTaxonOption } from '../TaxonomyField'\nimport { Taxon, LifeStage, NoteType, Sample, MyUser } from '../../types'\nimport { OrganismsDataGridContext, OrganismRow } from './types'\nimport { useComponentController } from './componentController'\nimport { organismsColumnDefs } from './columnDefs'\nimport { SampleInfoPanel } from '../SampleInfoPanel'\nimport { ConfirmDialog } from '../ConfirmDialog'\nimport { TimeEntryDialog } from './TimeEntryDialog'\nimport { ToggleEditModeButton } from './ToggleEditModeButton'\nimport { ConfirmNavigateAway } from '../AppRouter'\nimport * as renderers from './renderers'\nimport { NAMCResource } from '@namcbugdb/common'\n\nexport interface SampleTaxonomyIdentificationProps {\n  taxa: Taxon[]\n  lifeStages: LifeStage[]\n  noteTypes: NoteType[]\n  sample: Sample\n  user: MyUser\n}\n\nconst gridOptions = {\n  stopEditingWhenCellsLoseFocus: true,\n}\n\nexport const SampleTaxonomyIdentification = ({\n  taxa,\n  lifeStages,\n  noteTypes,\n  sample,\n  user,\n}: SampleTaxonomyIdentificationProps): JSX.Element => {\n  // STATE AND REFS\n\n  const [state, actions] = useComponentController()\n  const { organisms, organismFilters, editMode } = state\n  const { measurements } = state.sample || {}\n  const isEditing = editMode === 'started'\n\n  const [deletionCanddateOrganism, setDeletionCandidateOrganism] = useState<OrganismRow | null>(null)\n  const [gridApis, setGridApis] = useState<DataGridApis>()\n\n  const inputRef = useRef<HTMLInputElement | null>(null)\n\n  // EFFECTS\n\n  useEffect(() => {\n    actions.reset({ sample, user })\n  }, [sample])\n\n  useEffect(() => {\n    if (!gridApis) return\n    gridApis.columnApi.setColumnVisible('bugSize', !!measurements)\n  }, [gridApis, measurements])\n\n  useEffect(() => {\n    if (!gridApis) return\n    gridApis.columnApi.setColumnVisible('state', isEditing)\n  }, [gridApis, isEditing])\n\n  // DATA GRID CONTEXT\n\n  const context = useMemo<OrganismsDataGridContext>(\n    () => ({\n      lifeStages,\n      noteTypes,\n      actions,\n      setDeletionCandidateOrganism,\n    }),\n    [lifeStages, noteTypes, actions]\n  )\n\n  // ROWS\n\n  const getTaxonById = useCallback((taxonId: number) => taxa.find(({ id }) => id === taxonId), [taxa])\n\n  const organismFilterTaxons = useMemo<Taxon[]>(\n    () =>\n      organismFilters.reduce<Taxon[]>((acc, { taxonId }) => {\n        const taxon = getTaxonById(taxonId)\n        if (!taxon) return acc\n        return [...acc, taxon]\n      }, []),\n    [organismFilters, getTaxonById]\n  )\n\n  const filterTaxonIds = useMemo<number[] | null>(() => {\n    if (organismFilterTaxons.length === 0) return null\n    return organismFilterTaxons.reduce(\n      (acc, { id, descendantIds }) => [...acc, id, ...(descendantIds || [])],\n      [] as number[]\n    )\n  }, [organismFilterTaxons])\n\n  const rows = useMemo<OrganismRow[]>(() => {\n    const filteredOrganisms = filterTaxonIds\n      ? organisms.filter(({ taxonId }) => filterTaxonIds.includes(taxonId))\n      : organisms\n\n    const activeLifeStages = lifeStages.filter(({ isActive }) => isActive)\n\n    return filteredOrganisms\n      .filter((organism) => organism.state !== 'deleting')\n      .map((organism) => {\n        const taxon = getTaxonById(organism.taxonId)\n\n        // computed\n        const taxonName = taxon?.name || '?'\n        const levelName = taxon?.levelName || '?'\n        const levelRankOrder = taxon?.levelRankOrder ?? -1\n        const lifeStageRankOrder = lifeStages.find(({ id }) => id === organism.lifeStageId)?.rankOrder ?? 0\n        const isTargetEffort = taxon?.isTargetEffort ?? false\n\n        // row permissions/options\n        const canDuplicate =\n          isEditing &&\n          (sample.measurements ||\n            organisms.filter(({ taxonId }) => taxonId === organism.taxonId).length < activeLifeStages.length)\n        const canFilter = !organismFilters.find(({ taxonId }) => taxonId === organism.taxonId)\n        const canDelete = isEditing\n        const canEdit = isEditing\n        const usedLifeStageIds = organisms\n          .filter(({ id, taxonId }) => taxonId === organism.taxonId && id !== organism.id)\n          .map(({ lifeStageId }) => lifeStageId)\n        const allowedLifeStages = activeLifeStages.filter(({ id }) => !usedLifeStageIds.includes(id))\n\n        return {\n          ...organism,\n          taxonName,\n          levelName,\n          levelRankOrder,\n          lifeStageRankOrder,\n          isTargetEffort,\n          canDuplicate,\n          canFilter,\n          canDelete,\n          canEdit,\n          allowedLifeStages,\n        }\n      })\n  }, [getTaxonById, filterTaxonIds, organisms, organismFilters, lifeStages, isEditing])\n\n  // UI OPTIONS\n\n  const taxonOptions = useMemo<PresentableTaxonOption[]>(() => {\n    const organismTaxonIds = organisms.map(({ taxonId }) => taxonId)\n    const added = taxa\n      .filter((taxon) => organismTaxonIds.includes(taxon.id))\n      .map((taxon) => ({ ...taxon, status: 'inSample' as const }))\n    const available = taxa\n      .filter((taxon) => !organismTaxonIds.includes(taxon.id))\n      .map((taxon) => ({ ...taxon, status: 'notInSample' as const }))\n    return [...added, ...available].map((taxonOption) => ({\n      ...taxonOption,\n      canAdd: isEditing,\n      canFilter: true,\n      defaultAction: isEditing ? 'add' : 'filter',\n    }))\n  }, [taxa, organisms, isEditing])\n\n  // HOTKEYS\n\n  useHotkeys('/', (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    inputRef.current?.focus()\n  })\n\n  // RENDER\n\n  return (\n    <>\n      <div css={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\n        {state.sample && (\n          <SampleInfoPanel\n            sample={state.sample}\n            actions={\n              <ToggleEditModeButton\n                userId={user.id}\n                hasPermission={user.permissions.createAny?.includes(NAMCResource.organisms)}\n                sample={state.sample}\n                actions={actions}\n                editMode={state.editMode}\n              />\n            }\n          />\n        )}\n        <div>\n          <TaxonomyField\n            inputRef={inputRef}\n            options={taxonOptions}\n            onAddOrganism={(taxon) => {\n              actions.createOrganism({\n                taxonId: taxon.id,\n              })\n              if (filterTaxonIds && !filterTaxonIds.includes(taxon.id)) actions.createFilter({ taxonId: taxon.id })\n            }}\n            onAddFilter={(taxon) => actions.createFilter({ taxonId: taxon.id })}\n          />\n        </div>\n        <div css={{ minHeight: '2em', marginTop: '0.75em', display: 'flex' }}>\n          <div css={{ flex: 1 }}>\n            {organismFilters.length === 0 && <MuiChip sx={{ margin: '0.2em' }} label=\"No filters\" variant=\"outlined\" />}\n            {organismFilters.map((organismFilter) => {\n              const taxon = getTaxonById(organismFilter.taxonId)\n              return (\n                <MuiChip\n                  key={taxon?.id}\n                  sx={{ margin: '0.2em', backgroundColor: 'lightblue' }}\n                  label={`${taxon?.levelName}: ${taxon?.name}`}\n                  onDelete={() => actions.deleteFilter(organismFilter)}\n                />\n              )\n            })}\n          </div>\n          <div\n            css={{\n              fontSize: '0.8125rem' /* match chip */,\n              display: 'flex',\n              alignItems: 'center',\n            }}\n          >\n            {rows.length === organisms.length\n              ? `${rows.length} organism records`\n              : `${rows.length} of ${organisms.length} organism records shown`}\n          </div>\n        </div>\n        <div css={{ flex: 1 }}>\n          <DataGrid\n            rows={rows}\n            columnDefs={organismsColumnDefs}\n            frameworkComponents={renderers}\n            context={context}\n            gridOptions={gridOptions}\n            onGridApisReady={setGridApis}\n          />\n        </div>\n      </div>\n      <ConfirmDialog\n        title=\"Delete organism record?\"\n        isOpen={!!deletionCanddateOrganism}\n        onClose={() => setDeletionCandidateOrganism(null)}\n        onConfirm={() => {\n          if (!deletionCanddateOrganism) return\n          actions.deleteOrganism(deletionCanddateOrganism)\n        }}\n        confirmButtonLabel=\"Delete\"\n      ></ConfirmDialog>\n      <TimeEntryDialog\n        isOpen={editMode === 'stoppingPrompt'}\n        onConfirm={({ time }) => {\n          actions.finishTaxonomyIdentification({ time })\n        }}\n      />\n      {editMode !== 'stopped' && (\n        <ConfirmNavigateAway message=\"Identification is still in progress. Are you sure you want to leave?\" />\n      )}\n    </>\n  )\n}\n","/** @jsxImportSource @emotion/react */\nimport React from 'react'\nimport Skeleton from '@mui/material/Skeleton'\n\nexport const Fallback = (): JSX.Element => (\n  <div css={{ height: '100%', display: 'flex', flexDirection: 'column', gap: '1em' }}>\n    <Skeleton height=\"9em\" variant=\"rectangular\" />\n    <Skeleton height=\"3em\" variant=\"rectangular\" />\n  </div>\n)\n","import React, { Suspense, useMemo } from 'react'\nimport { useParams } from 'react-router'\nimport { useRecoilValue } from 'recoil'\nimport { uniqueId } from 'lodash'\n\nimport { selectTaxa, selectLifeStages, selectNoteTypes, selectSample, selectMyUser } from '../../data'\nimport { SampleTaxonomyIdentification as Component } from './SampleTaxonomyIdentification'\nimport { Fallback } from './Fallback'\n\nconst Connector = ({ nonce }: { nonce: string }): JSX.Element => {\n  const { sampleId } = useParams()\n\n  const taxa = useRecoilValue(selectTaxa)\n  const lifeStages = useRecoilValue(selectLifeStages)\n  const noteTypes = useRecoilValue(selectNoteTypes)\n  const user = useRecoilValue(selectMyUser)\n  const sample = useRecoilValue(selectSample({ id: Number(sampleId), nonce }))\n\n  if (sample === null) return <h2>Sample {sampleId} not found.</h2>\n\n  return <Component taxa={taxa} lifeStages={lifeStages} noteTypes={noteTypes} sample={sample} user={user} />\n}\n\nexport const SampleTaxonomyIdentification = (): JSX.Element => {\n  const nonce = useMemo(uniqueId, [])\n  return (\n    <Suspense fallback={<Fallback />}>\n      <Connector nonce={nonce} />\n    </Suspense>\n  )\n}\n","/** @jsxImportSource @emotion/react */\nimport React, { useState, useRef } from 'react'\nimport MuiTextField from '@mui/material/TextField'\nimport { useHotkeys } from 'react-hotkeys-hook'\n\nimport { NavigateFn } from '../AppRouter/AppRouter'\n\nexport interface QuickNavigateFieldProps {\n  className?: string\n  navigate: NavigateFn\n}\n\nexport const QuickNavigateField = ({ className, navigate }: QuickNavigateFieldProps): JSX.Element => {\n  const inputRef = useRef<HTMLInputElement | null>(null)\n  const [value, setValue] = useState('')\n\n  const handleKeyDown = ({ key }: React.KeyboardEvent<HTMLInputElement>): void => {\n    switch (key) {\n      case 'Enter': {\n        const trimmedValue = value.trim()\n        if (!trimmedValue.match(/^\\d+$/)) return\n        setValue('')\n        navigate.sampleOverview({ sampleId: Number(trimmedValue) })\n        break\n      }\n      case 'Escape': {\n        setValue('')\n        inputRef.current?.blur()\n      }\n    }\n  }\n\n  useHotkeys('cmd+o, ctrl+o', (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    inputRef.current?.focus()\n  })\n\n  return (\n    <MuiTextField\n      className={className}\n      size=\"small\"\n      value={value}\n      onChange={({ target: { value: newValue } }) => setValue(newValue)}\n      InputProps={{\n        onKeyDown: handleKeyDown,\n      }}\n      inputRef={inputRef}\n      placeholder=\"Quick Open\"\n    />\n  )\n}\n","import React from 'react'\nimport { useRecoilValue } from 'recoil'\n\nimport { QuickNavigateField as Component } from './QuickNavigateField'\nimport { navigateState } from '../AppRouter'\n\nexport interface QuickNavigateFieldProps {\n  // TODO: figure out best TS pattern for prop differences\n  className?: string\n}\n\nexport const QuickNavigateField = (props: QuickNavigateFieldProps): JSX.Element => {\n  const navigate = useRecoilValue(navigateState)\n\n  return <Component navigate={navigate} {...props} />\n}\n","/** @jsxImportSource @emotion/react */\nimport React from 'react'\n// import { useRecoilValue } from 'recoil'\nimport IconButton from '@mui/material/IconButton'\nimport MenuIcon from '@mui/icons-material/Menu'\n\nimport { QuickNavigateField } from '../QuickNavigateField'\n\nexport interface AppHeaderProps {\n  openNavigation: () => void\n}\n\nexport const AppHeader = ({ openNavigation }: AppHeaderProps): JSX.Element => {\n  return (\n    <header\n      css={{\n        height: '3em',\n        background: '#064270',\n        color: 'white',\n        display: 'flex',\n        alignItems: 'center',\n        padding: '0 0.5em',\n      }}\n    >\n      <IconButton onClick={openNavigation}>\n        <MenuIcon sx={{ fill: 'white' }} />\n      </IconButton>\n      <h1 css={{ fontWeight: 500, letterSpacing: '0.05em', fontSize: '200%' }}>INSTAR</h1>\n      <div css={{ margin: '0 0.25em 0 auto' }}>\n        <QuickNavigateField css={{ '.MuiInputBase-root': { background: 'white' } }} />\n      </div>\n    </header>\n  )\n}\n","/** @jsxImportSource @emotion/react */\nimport React, { Suspense } from 'react'\nimport { useRecoilValue } from 'recoil'\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle'\nimport Skeleton from '@mui/material/Skeleton'\n\nimport { selectMyUser } from '../../data'\n\nconst Connector = (): JSX.Element => {\n  const user = useRecoilValue(selectMyUser)\n\n  return (\n    <>\n      <AccountCircleIcon /> {user.fullName}\n    </>\n  )\n}\n\nconst Fallback = (): JSX.Element => (\n  <>\n    <Skeleton variant=\"circular\" width={25} />\n    <Skeleton variant=\"text\" width={120} />\n  </>\n)\n\nexport const UserName = (): JSX.Element => (\n  <div css={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '3em' }}>\n    <Suspense fallback={<Fallback />}>\n      <Connector />\n    </Suspense>\n  </div>\n)\n","/** @jsxImportSource @emotion/react */\nimport React from 'react'\nimport Drawer from '@mui/material/Drawer'\nimport Button from '@mui/material/Button'\n\nimport { UserName } from './UserName'\nimport { useApi } from '../../data/api'\n\nexport interface SideNavBarProps {\n  className?: string\n  isOpen: boolean\n  onClose: () => void\n}\n\nexport const SideNavBar = ({ className, isOpen, onClose }: SideNavBarProps): JSX.Element => {\n  const api = useApi()\n  return (\n    <Drawer anchor=\"left\" open={isOpen} onClose={() => onClose()} className={className}>\n      <div css={{ minWidth: '20em', height: '100%', display: 'flex', flexDirection: 'column' }}>\n        <UserName />\n        <div css={{ display: 'flex', justifyContent: 'center' }}>\n          <Button\n            onClick={() => {\n              api.signOut()\n            }}\n          >\n            Sign Out\n          </Button>\n        </div>\n        <div\n          css={{\n            marginTop: 'auto',\n            height: '3em',\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n          }}\n        >\n          v{process.env.REACT_APP_VERSION}\n        </div>\n      </div>\n    </Drawer>\n  )\n}\n","/** @jsxImportSource @emotion/react */\nimport React from 'react'\nimport { atom, useRecoilValue, useSetRecoilState } from 'recoil'\n\nimport { SideNavBar as Component } from './SideNavBar'\n\nexport const isNavigationOpenState = atom<boolean>({\n  key: 'isNavigationOpen',\n  default: false,\n})\n\nexport const SideNavBar = (): JSX.Element => {\n  const isOpen = useRecoilValue(isNavigationOpenState)\n  const setIsOpen = useSetRecoilState(isNavigationOpenState)\n\n  return (\n    <Component\n      isOpen={isOpen}\n      onClose={() => {\n        setIsOpen(false)\n      }}\n    />\n  )\n}\n","import React from 'react'\n\nimport { AppHeader as Component } from './AppHeader'\nimport { isNavigationOpenState } from '../SideNavBar'\nimport { useSetRecoilState } from 'recoil'\n\nexport const AppHeader = (): JSX.Element => {\n  const setIsNavigationOpen = useSetRecoilState(isNavigationOpenState)\n\n  return (\n    <Component\n      openNavigation={() => {\n        setIsNavigationOpen(true)\n      }}\n    />\n  )\n}\n","/* eslint-disable react/prop-types */\nimport React from 'react'\n\ninterface ErrorBoundaryProps {\n  children: React.ReactNode\n}\n\ninterface ErrorState {\n  hasError: boolean\n  message: string\n}\n\nexport class ErrorBoundary extends React.Component {\n  state: ErrorState\n\n  constructor(props: ErrorBoundaryProps) {\n    super(props)\n    this.state = { hasError: false, message: '' }\n  }\n\n  static getDerivedStateFromError(error: Error): ErrorState {\n    return { hasError: true, message: error.toString() }\n  }\n\n  // componentDidCatch(error, errorInfo) {\n  // You can also log the error to an error reporting service\n  // logErrorToMyService(error, errorInfo)\n  // }\n\n  render(): React.ReactNode {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return (\n        <div>\n          <h1>An error has occurred.</h1>\n          <div>{this.state.message}</div>\n        </div>\n      )\n    }\n\n    return this.props.children\n  }\n}\n","/** @jsxImportSource @emotion/react */\nimport React, { useEffect } from 'react'\nimport { HashRouter as Router, Switch, Route, useHistory } from 'react-router-dom'\nimport { atom, useSetRecoilState } from 'recoil'\nimport log from 'loglevel'\nimport { SampleOverview } from '../SampleOverview'\nimport { SampleSorting } from '../SampleSorting'\nimport { SampleTaxonomyIdentification } from '../SampleTaxonomyIdentification'\nimport { AppHeader } from '../AppHeader'\nimport { SideNavBar } from '../SideNavBar'\nimport { ErrorBoundary } from '../ErrorBoundary'\n\nexport interface NavigateFn {\n  home: () => void\n  sampleOverview: ({ sampleId }: { sampleId: number }) => void\n  sampleSorting: ({ sampleId }: { sampleId: number }) => void\n  sampleTaxonomyIdentification: ({ sampleId }: { sampleId: number }) => void\n}\n\nexport const makeNavigateFn = (history: { push: (url) => void }): NavigateFn => ({\n  home: (): void => history.push('/'),\n  sampleOverview: ({ sampleId }: { sampleId: number }): void => history.push(`/samples/${sampleId}`),\n  sampleSorting: ({ sampleId }: { sampleId: number }): void => history.push(`/samples/${sampleId}/sorting`),\n  sampleTaxonomyIdentification: ({ sampleId }: { sampleId: number }): void =>\n    history.push(`/samples/${sampleId}/taxonomy`),\n})\n\nexport const navigateState = atom({\n  key: 'AppRouter/navigate',\n  default: makeNavigateFn({ push: (url) => log.debug('navigate:', url) }),\n})\n\nexport const AppRouter = (): JSX.Element => {\n  const setNavigate = useSetRecoilState(navigateState)\n  const history = useHistory()\n\n  useEffect(() => {\n    setNavigate(() => makeNavigateFn(history))\n  }, [])\n\n  return (\n    <div css={{ height: '100vh', display: 'flex', flexDirection: 'column' }}>\n      <AppHeader />\n      <SideNavBar />\n      <div css={{ flex: 1, padding: '0.5em' }}>\n        <ErrorBoundary>\n          <Router>\n            <Switch>\n              <Route exact path=\"/\">\n                <div css={{ height: '100%', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                  Use Quick Open to find samples.\n                </div>\n              </Route>\n              <Route exact path=\"/samples/:sampleId\">\n                <SampleOverview />\n              </Route>\n              <Route exact path=\"/samples/:sampleId/sorting\">\n                <SampleSorting />\n              </Route>\n              <Route exact path=\"/samples/:sampleId/taxonomy\">\n                <SampleTaxonomyIdentification />\n              </Route>\n              <Route path=\"*\">\n                <h2>Page not found.</h2>\n              </Route>\n            </Switch>\n          </Router>\n        </ErrorBoundary>\n      </div>\n    </div>\n  )\n}\n","import React, { useEffect } from 'react'\nimport { Prompt, useHistory } from 'react-router-dom'\n\n// TODO: Prompt is fairly janky (e.g. changes URL anyway: https://github.com/remix-run/react-router/issues/5405); use React Router v6 when this behaviour supported\n\nexport const ConfirmNavigateAway = ({ message }: { message: string }): JSX.Element | null => {\n  const history = useHistory()\n\n  useEffect(() => {\n    const listener = (e: BeforeUnloadEvent) => {\n      e.preventDefault()\n      e.returnValue = ''\n    }\n    window.addEventListener('beforeunload', listener)\n    return () => {\n      window.removeEventListener('beforeunload', listener)\n    }\n  }, [])\n\n  if (!history) return null // we are not in React Router and Prompt will fail\n\n  return <Prompt when={true} message={message} />\n}\n","/** @jsxImportSource @emotion/react */\nimport React, { useEffect, useState } from 'react'\nimport { HashRouter as ReactRouter } from 'react-router-dom'\nimport { RecoilRoot, useSetRecoilState } from 'recoil'\nimport { UseHostedReturn } from '@namcbugdb/react-common'\n\nimport { AppRouter } from './components/AppRouter'\nimport { AppNotifications } from './components/AppNotifications'\nimport { GraphApi, apiState } from './data/api'\n\nimport './normalize.css'\nimport './App.css'\n\nexport interface AppProps {\n  signOut: () => void\n  auth: UseHostedReturn\n}\n\nconst Component = ({ signOut, auth }: AppProps): JSX.Element => {\n  const setApi = useSetRecoilState(apiState)\n  const [ready, setIsReady] = useState(false)\n\n  useEffect(() => {\n    const apiInstance = new GraphApi(auth, signOut)\n    setApi(apiInstance)\n    setIsReady(true)\n  }, [])\n\n  if (!ready) return <div /> // wait until API is set\n\n  return (\n    <ReactRouter>\n      <AppRouter />\n      <AppNotifications />\n    </ReactRouter>\n  )\n}\n\nexport const App = (props: AppProps): JSX.Element => {\n  return (\n    <RecoilRoot>\n      <Component {...props} />\n    </RecoilRoot>\n  )\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { useCallback, useLayoutEffect, useState, useRef } from 'react';\nimport Amplify, { Auth, Hub } from 'aws-amplify';\nimport log from 'loglevel';\nimport _ from 'lodash';\nvar useHostedAuth = function (config, forceSignin, verbose) {\n    var _a = useState({\n        isAuthenticated: false,\n        isAuthComplete: false,\n        error: null,\n        user: null,\n    }), loginState = _a[0], setLoginState = _a[1];\n    var stateRef = useRef();\n    stateRef.current = loginState;\n    var signIn = useCallback(function () {\n        return Auth.federatedSignIn().catch(function (error) {\n            setLoginState({ error: error, user: null, isAuthenticated: false, isAuthComplete: true });\n        });\n    }, []);\n    var refreshState = useCallback(function () {\n        return Auth.currentSession()\n            .then(function (user) {\n            var _a;\n            var newState = { error: null, user: user, isAuthenticated: true, isAuthComplete: true };\n            if (!_.isEqual((_a = stateRef.current) === null || _a === void 0 ? void 0 : _a.user, newState.user)) {\n                if (verbose)\n                    log.debug('useHosted::refreshState::setLoginState::RESULT', {\n                        stateRef: stateRef.current,\n                        newState: newState,\n                    });\n                setLoginState(newState);\n            }\n            return user;\n        })\n            .catch(function (err) {\n            var error = err;\n            if (err === 'not authenticated') {\n                error = null;\n            }\n            else if (err === 'No current user') {\n                error = null;\n            }\n            else {\n                log.error('useHosted::refreshState::ERROR', err);\n            }\n            setLoginState({ error: error, user: null, isAuthenticated: false, isAuthComplete: true });\n            if (forceSignin)\n                signIn();\n        });\n    }, [verbose, forceSignin, signIn]);\n    var getCurrentToken = useCallback(function () { return __awaiter(void 0, void 0, void 0, function () {\n        var currSession;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4, refreshState()];\n                case 1:\n                    currSession = _a.sent();\n                    try {\n                        if (currSession.accessToken.jwtToken.length > 0) {\n                            return [2, currSession && currSession.accessToken ? currSession.accessToken.jwtToken : ''];\n                        }\n                        else {\n                            throw new Error('Failed to get current token');\n                        }\n                    }\n                    catch (_b) {\n                        throw new Error('Failed to get current token');\n                    }\n                    return [2];\n            }\n        });\n    }); }, [refreshState]);\n    var signOut = useCallback(function () {\n        return Auth.signOut()\n            .then(function () {\n            setLoginState({ error: null, user: null, isAuthenticated: false, isAuthComplete: true });\n        })\n            .catch(function (error) {\n            log.error('useHosted::signOut::ERROR', error);\n            setLoginState({ error: error, user: null, isAuthenticated: false, isAuthComplete: true });\n        });\n    }, []);\n    useLayoutEffect(function () {\n        if (!config)\n            return;\n        Amplify.configure(config);\n        if (verbose) {\n            Amplify.Logger.LOG_LEVEL = 'DEBUG';\n        }\n        refreshState();\n        var handler = function (_a) {\n            var payload = _a.payload;\n            switch (payload.event) {\n                case 'configured':\n                    break;\n                case 'signIn':\n                    log.debug('signIn', payload);\n                    break;\n                case 'signIn_failure':\n                    break;\n                case 'signOut':\n                    break;\n                default:\n                    break;\n            }\n        };\n        Hub.listen('auth', handler);\n        return function () {\n            Hub.remove('auth', handler);\n        };\n    }, [config, refreshState]);\n    return __assign(__assign({}, loginState), { signIn: signIn, getCurrentToken: getCurrentToken, signOut: signOut });\n};\nexport default useHostedAuth;\n//# sourceMappingURL=useHostedAuth.js.map","/** @jsxImportSource @emotion/react */\nimport React, { useState, useEffect } from 'react'\nimport { App } from '../App'\nimport { useHostedAuth, UseHostedReturn } from '@namcbugdb/react-common'\nimport { appDefaults, endpoints, redirectUrl } from '../config'\nimport { api } from '@namcbugdb/common'\nimport CircularProgress from '@mui/material/CircularProgress'\nimport log from 'loglevel'\n\nconst AppAuthConnect: React.FC = () => {\n  const [authInfo, setAuthInfo] = useState<Record<string, unknown>>()\n  const [isAppPreLoading, setIsAppPreLoading] = useState(true)\n  const auth: UseHostedReturn = useHostedAuth(authInfo as Record<string, unknown>, false, false) //config.isDev\n\n  // This is the pre-auth step to retrieve all the necessary cognito endpoint data\n  useEffect(() => {\n    api\n      .authCheck(endpoints.graphql as string, '', appDefaults.apiTimeout)\n      .then((authResp) => {\n        log.debug('authResp', authResp)\n        const authVals = authResp.data?.auth\n        if (authVals && authVals.region) {\n          setAuthInfo({\n            region: authVals.region,\n            userPoolId: authVals.userPool,\n            userPoolWebClientId: authVals.clientId,\n            mandatorySignIn: true,\n            oauth: {\n              domain: authVals.domain,\n              scope: ['email', 'profile', 'openid'],\n              redirectSignIn: redirectUrl.toString(),\n              redirectSignOut: redirectUrl.toString(),\n              responseType: 'code',\n            },\n          })\n          setIsAppPreLoading(false)\n        }\n      })\n      .catch((err) => {\n        log.error('api.getPrograms error', err)\n      })\n  }, [])\n\n  // This is just an example of a query. Currently it doesn't really do anything but dump out to the console.\n  // useEffect(() => {\n  //   log.debug('Metric Query:', auth.isAuthenticated)\n  //   if (!auth.isAuthenticated) return\n  //   // First we need to get the auth token. This is stored in a cookie if it exists\n  //   // So it's really only a bottleneck the first time.\n  //   auth\n  //     .getCurrentToken()\n  //     // Now the actual query\n  //     .then((jwt) => api.metrics(endpoints.graphql as string, jwt, 100, 0))\n  //     .then((data) => log.debug('Metric Query:', data))\n  //     .catch((err) => log.error('Metric Query Error', err))\n  // }, [auth.isAuthenticated])\n\n  // Some kind of spinner for pre-launch\n  if (isAppPreLoading) {\n    return (\n      <div\n        css={{\n          height: '100vh',\n          width: '100%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n      >\n        <CircularProgress />\n      </div>\n    )\n  }\n  //\n  else {\n    if (!auth.isAuthenticated) {\n      if (!auth.isAuthComplete) {\n        return <div>Authenticating...</div>\n      }\n      return (\n        <div>\n          <button onClick={auth.signIn}>Sign In</button>\n        </div>\n      )\n    } else {\n      return <App signOut={auth.signOut} auth={auth} />\n    }\n  }\n}\nexport default AppAuthConnect\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport AppConnect from './connectors/App.connect'\nimport reportWebVitals from './reportWebVitals'\nimport log from 'loglevel'\nlog.enableAll()\nReactDOM.render(\n  <React.StrictMode>\n    <AppConnect />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}